(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{1225:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(25),c=n(1),a=n(10),i=n.n(a),l=n(346),u=(n(447),n(8)),f=n(20),s=function(e){var t=e.onFileSelected,n=e.htmlData,o=e.filetypeArray,a=e.btnLabel,i=Object(f.c)().showSnackbar,l=function(e){e&&e[0]&&"type"in e[0]?o.includes(e[0].type)?t(e[0]):i(Object(c.__)("Uploaded file is not valid.","funnel-builder")):i(Object(c.__)("Uploaded file not found","funnel-builder"))};return Object(r.createElement)("div",{className:"bwf-c-import-page-wrapper"},Object(r.createElement)(u.DropZoneProvider,null,Object(r.createElement)("div",null,Object(r.createElement)(u.Placeholder,{className:"bwf-import-dropzone-wrap",label:Object(r.createElement)(r.Fragment,null,n&&Object(r.createElement)(r.Fragment,null,n),Object(r.createElement)("div",{className:""},Object(r.createElement)("span",{className:"bwf-mr-15"},a||Object(c.__)("Drop you file OR","funnel-builder"))),Object(r.createElement)("div",null,Object(r.createElement)(u.FormFileUpload,{isSecondary:!0,accept:"application/json",onChange:function(e){return l(e.target.files)}},Object(c.__)("Click here to upload","funnel-builder"))))}),Object(r.createElement)(u.DropZone,{onFilesDrop:l,onHTMLDrop:l,onDrop:l}))),Object(r.createElement)("div",{className:"bwf_clear_20"}))},b=n(44),p=n(168),m=n(4),d=n(12);function y(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function c(n,r,o,c){var l=r&&r.prototype instanceof i?r:i,u=Object.create(l.prototype);return v(u,"_invoke",function(n,r,o){var c,i,l,u=0,f=o||[],s=!1,b={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return c=t,i=0,l=e,b.n=n,a}};function p(n,r){for(i=n,l=r,t=0;!s&&u&&!o&&t<f.length;t++){var o,c=f[t],p=b.p,m=c[2];n>3?(o=m===r)&&(l=c[(i=c[4])?5:(i=3,3)],c[4]=c[5]=e):c[0]<=p&&((o=n<2&&p<c[1])?(i=0,b.v=r,b.n=c[1]):p<m&&(o=n<3||c[0]>r||r>m)&&(c[4]=n,c[5]=r,b.n=m,i=0))}if(o||n>1)return a;throw s=!0,r}return function(o,f,m){if(u>1)throw TypeError("Generator is already running");for(s&&1===f&&p(f,m),i=f,l=m;(t=i<2?e:l)||!s;){c||(i?i<3?(i>1&&(b.n=-1),p(i,l)):b.n=l:b.v=l);try{if(u=2,c){if(i||(o="next"),t=c[o]){if(!(t=t.call(c,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,i<2&&(i=0)}else 1===i&&(t=c.return)&&t.call(c),i<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),i=1);c=e}else if((t=(s=b.n<0)?l:n.call(r,b))!==a)break}catch(t){c=e,i=1,l=t}finally{u=1}}return{value:t,done:s}}}(n,o,c),!0),u}var a={};function i(){}function l(){}function u(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(v(t={},r,(function(){return this})),t),s=u.prototype=i.prototype=Object.create(f);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,v(e,o,"GeneratorFunction")),e.prototype=Object.create(s),e}return l.prototype=u,v(s,"constructor",u),v(u,"constructor",l),l.displayName="GeneratorFunction",v(u,o,"GeneratorFunction"),v(s),v(s,o,"Generator"),v(s,r,(function(){return this})),v(s,"toString",(function(){return"[object Generator]"})),(y=function(){return{w:c,m:b}})()}function v(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(v=function(e,t,n,r){if(t)o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n;else{var c=function(t,n){v(e,t,(function(e){return this._invoke(t,n,e)}))};c("next",0),c("throw",1),c("return",2)}})(e,t,n,r)}function O(e,t,n,r,o,c,a){try{var i=e[c](a),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,o)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,c,a,i=[],l=!0,u=!1;try{if(c=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=c.call(n)).done)&&(i.push(r.value),i.length!==t);l=!0);}catch(e){u=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.default=function(e){var t=location&&location.search?Object(o.parse)(location.search.substring(1)):{};Object(p.a)("import",Object(c.__)("Import Funnel","funnel-builder"),0,!0);var n=h(Object(r.useState)({status:!1,loading:!0}),2),a=n[0],u=n[1],v=h(Object(r.useState)(null),2),j=v[0],w=v[1];Object(m.m)(Object(c.__)("Import","funnel-builder"));var _=Object(f.c)().showSnackbar,g=Object(r.createElement)("div",{className:"bwf_display_block"},Object(r.createElement)("div",{className:"bwf-p-15 bwf_display_block"},Object(r.createElement)("div",{className:"bwf_clear_15"}),Object(r.createElement)("div",{className:""},Object(c.__)("Import Funnels","funnel-builder")),Object(r.createElement)("div",{className:"bwf_clear_20"}),Object(r.createElement)("div",{className:"bwf-p bwf-p2 bwf-pt-15"},Object(c.__)("This tool allows you to import the funnels from the JSON file.","funnel-builder")))),E=function(){var e,n=(e=y().m((function e(){var n;return y().w((function(e){for(;;)switch(e.n){case 0:return u({status:!0,loading:!0,content:Object(r.createElement)("div",{className:"bwf-t-center"},Object(r.createElement)("div",{className:"bwf-h1 bwf-mt-20"}," ",Object(c.__)("Please waitâ€¦","funnel-builder")),Object(r.createElement)("div",{className:"bwf-h4 bwf-h4-grey"}," ",Object(c.__)("We are importing funnel.","funnel-builder")))}),e.p=1,(n=new FormData).append("files",j),e.n=2,i()({method:"POST",body:n,path:Object(m.y)("/funnels/import")}).then((function(e){1==e.status?(u({status:!1}),Object(d.k)({},"/funnels",t)):(_(e.message),u({status:!1}),w(null))})).catch((function(e){u({status:!0,error:e.message})}));case 2:e.v,e.n=4;break;case 3:e.p=3,e.v,w(null),u({status:!0,error:Object(c.__)("Unable to import Funnel.","funnel-builder")});case 4:return e.a(2)}}),e,null,[[1,3]])})),function(){var t=this,n=arguments;return new Promise((function(r,o){var c=e.apply(t,n);function a(e){O(c,r,o,a,i,"next",e)}function i(e){O(c,r,o,a,i,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){j&&E()}),[j]),Object(r.createElement)(r.Fragment,null,Object(r.createElement)(l.a,null),Object(r.createElement)("div",{className:"bwfcrm-overview-wrap"},Object(r.createElement)(s,{onFileSelected:function(e){return w(e)},htmlData:g,filetypeArray:["application/json"],btnLabel:Object(c.__)("Drop your JSON file here OR","funnel-builder")})),Object(r.createElement)(b.a,{isLoading:a.loading,successMessage:a.success,errorMessage:a.error,isOpen:a.status,content:a.content,onRequestClose:function(){return u({status:!1})}}))}},346:function(e,t,n){"use strict";var r=n(0),o=n(15),c=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function u(e,t,n){return t=f(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],f(e).constructor):t.apply(e,n))}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=u(this,t,[e])).scrollTo=n.scrollTo.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(t,e),n=t,(o=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,window.location.hash?100:250)}},{key:"scrollTo",value:function(){var e=this.props.offset,t=void 0===e?"0":e,n=window.location.hash?window.location.hash.substring(1):null,r=document.getElementById(n);if(r){var o=r.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:o-parseInt(t,10),behavior:"smooth"})}else this.ref.current?window.scrollTo({top:0,behavior:"smooth"}):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(r.createRef)(),Object(r.createElement)("div",{ref:this.ref},e)}}])&&i(n.prototype,o),c&&i(n,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,c}(r.Component);b.propTypes={offset:c.a.string},t.a=b},447:function(e,t,n){}}]);