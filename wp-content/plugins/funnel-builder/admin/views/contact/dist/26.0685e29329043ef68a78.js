(window.webpackJsonp=window.webpackJsonp||[]).push([[26,5],{1189:function(e,t,r){},1190:function(e,t,r){},1191:function(e,t,r){},291:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),a=r(2),o=r(6),i=r.n(o),c=r(43),l=(r(8),r(332),r(22)),u=["label","className","selected","help","onChange","hideLabelFromVision","options","disabled","orientation"];function s(e){var t=e.label,r=e.className,o=e.selected,f=e.help,b=e.onChange,d=(e.hideLabelFromVision,e.options),p=void 0===d?[]:d,m=e.disabled,v=void 0!==m&&m,y=e.orientation,h=void 0===y?"horizontal":y,O=(function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}}(e,u),Object(c.useInstanceId)(s)),g="inspector-radio-control-".concat(O),j=function(e){return b(e.target.value)};return!Object(a.isEmpty)(p)&&Object(n.createElement)("div",{className:i()("components-base-control",r,"components-radio-control bwf-components-radio-control",h)},Object(n.createElement)("div",{className:"components-base-control__field"},t&&Object(n.createElement)("label",{className:"components-base-control__label",dangerouslySetInnerHTML:{__html:t}}),Object(n.createElement)("div",{className:"bwf-radio-control-inner"},p.map((function(e,t){return Object(n.createElement)("div",{key:"".concat(g,"-").concat(t),className:"components-radio-control__option"},Object(n.createElement)("input",{id:"".concat(g,"-").concat(t),className:"components-radio-control__input",type:"radio",name:g,value:e.value,onChange:j,checked:!v&&e.value===o,disabled:v||e.disabled||e.isPro,"aria-describedby":f?"".concat(g,"__help"):void 0}),e.isPro&&Object(n.createElement)(l.b,null),Object(n.createElement)("label",{htmlFor:"".concat(g,"-").concat(t)},e.label))})))))}},296:function(e,t,r){},297:function(e,t,r){"use strict";var n=r(0),a=r(6),o=r.n(a),i=r(2),c=r(8),l=r(55),u=(r(304),r(5));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}t.a=function(e){var t=e.data,r=void 0===t?[]:t,a=e.className,b=e.center,d=void 0!==b&&b,p=e.isDismissive,m=void 0!==p&&p,v=e.onDismisal,y=void 0===v?function(){}:v,h=e.isProFeatureLocked;if(Object(i.isEmpty)(r))return!1;return Object(n.createElement)("div",{className:o()("bwf-zero-state",a,{"bwf-block-t-center":d})},m&&Object(n.createElement)("span",{className:"bwf-layout-dismiss",onClick:function(){return y()},style:{transform:"rotate(45deg)"}},Object(n.createElement)(u.a,{icon:"plus",color:"#353030"})),Object(n.createElement)("div",{className:"bwf-zero-state-wrap"},r.map((function(e,t){return Object(n.createElement)(n.Fragment,{key:"section--"+t},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"icon":return Object(n.createElement)("div",{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class)},t.content);case"actions":return Object(n.createElement)(l.a,{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.actions.map((function(e,t){return Object(n.createElement)(l.a,{key:"layout-block-"+t,className:o()("bwf-shadow"),gap:3,onClick:e.onClick},Object(n.createElement)(l.c,null,Object(n.createElement)("div",{className:"bwf-circle-mockup"},e.icon)),Object(n.createElement)(l.b,{className:"bwf_text_left"},e.heading&&Object(n.createElement)("div",{className:"bwf-zero-sec-action-head",dangerouslySetInnerHTML:{__html:e.heading}}),e.sub_heading&&Object(n.createElement)("div",{className:"bwf-zero-sec-action-subhead",dangerouslySetInnerHTML:{__html:e.sub_heading}}),h&&Object(n.createElement)("div",{className:"bwf-zero-sec-lock"},Object(n.createElement)(u.a,{icon:"king",width:"18",height:"18"}))))})));case"buttons":return Object(n.createElement)(l.a,{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),gap:4},t.buttons.map((function(e,t){return Object(n.createElement)(c.Button,f({isPrimary:!e.isSecondary,key:t,onClick:e.onClick,className:o()("bwf-no-ripple",e.className,{"is-secondary":e.isSecondary})},e.props),!1!==e.proCheck&&h&&Object(n.createElement)("span",{className:"bwf-zero-sec-lock"},Object(n.createElement)(u.a,{icon:"king",width:"20",height:"20"})),e.text)})));default:return Object(n.createElement)("div",{className:o()("bwf-zero-sec bwf-zero-sec-"+e,t.class),style:t.style},t.content&&("object"===s(t.content)?t.content:Object(n.createElement)("div",{dangerouslySetInnerHTML:{__html:t.content}})))}}(e.type,e.data))}))))}},300:function(e,t,r){"use strict";r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return u}));var n=r(0),a=r(15),o=r.n(a),i=["component","children"];var c=Object(n.createContext)(2);function l(e){return Object(n.createElement)(c.Consumer,null,(function(t){var r="h"+Math.min(t,6);return Object(n.createElement)(r,e)}))}function u(e){var t=e.component,r=e.children,a=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,i),o=t||"div";return Object(n.createElement)(c.Consumer,null,(function(e){return Object(n.createElement)(c.Provider,{value:e+1},!1===t?r:Object(n.createElement)(o,a,r))}))}u.propTypes={component:o.a.oneOfType([o.a.func,o.a.string,o.a.bool]),children:o.a.node}},304:function(e,t,r){},314:function(e,t,r){"use strict";var n=r(0),a=(r(8),r(6)),o=r.n(a),i=r(2),c=r(15),l=r.n(c),u=r(5),s=r(45),f=(r(296),r(289)),b=function(e){var t=e.disabled,r=e.value,a=e.onChange,c=e.dateFormat,l=e.label,f=e.describedBy,b=e.error,d=e.onFocus,p=e.onKeyDown,m=e.errorPosition,v=e.placeHolder,y=o()("bwf-calendar-input",{"is-empty":0===r.length,"is-error":b}),h=Object(i.uniqueId)("_woo-dates-input"),O=Object(n.useRef)(null);return Object(n.createElement)("div",{className:y},Object(n.createElement)("input",{type:"text",ref:O,className:"bwf-calendar-input-text",value:r,onChange:a,"aria-label":l,id:h,"aria-describedby":"".concat(h,"-message"),placeholder:Object(i.isEmpty)(v)?c.toLowerCase():v,onFocus:d,onKeyDown:p,disabled:t}),b&&Object(n.createElement)(s.a,{className:"bwf-calendar-input-error",focusOnMount:!1,position:m},b),Object(n.createElement)("span",{className:"bwf-calender-custom-icon",onClick:function(){d(),O.current&&O.current.focus()}},Object(n.createElement)(u.a,{icon:"calender"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(h,"-message")},b||f))};b.propTypes={disabled:l.a.bool,value:l.a.string,onChange:l.a.func.isRequired,dateFormat:l.a.string.isRequired,label:l.a.string.isRequired,describedBy:l.a.string.isRequired,error:l.a.string,errorPosition:l.a.string,onFocus:l.a.func,onKeyDown:l.a.func};var d={disabled:!1,onFocus:function(){},errorPosition:"bottom center",onKeyDown:i.noop};t.a=Object(f.a)(b,d)},315:function(e,t,r){"use strict";r.d(t,"a",(function(){return S}));var n=r(0),a=(r(329),r(330),r(1)),o=r(8),i=r(2),c=r(60),l=r(13),u=r.n(l),s=r(15),f=r.n(s),b=r(83),d=r(6),p=r.n(d),m=(r(296),r(314)),v=r(300),y=r(4),h=r(84);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function j(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function _(e,t,r){return t=w(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=_(this,t,[e])).onDateChange=r.onDateChange.bind(r),r.onInputChange=r.onInputChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(o=[{key:"handleKeyDown",value:function(e,t,r){var n=r.keyCode;c.TAB===n&&e&&t()}},{key:"handleFocus",value:function(e,t){e||t()}},{key:"onDateChange",value:function(e,t){var r=this.props,n=r.onUpdate,a=r.dateFormat,o=u()(t);n({date:o,text:t?o.format(a):"",error:null}),e()}},{key:"onInputChange",value:function(e){var t=e.target.value,r=this.props.dateFormat,n=Object(b.i)(r,t),a=n?null:b.b.invalid;this.props.onUpdate({date:n,text:t,error:t.length>0?a:null})}},{key:"render",value:function(){var e=this,t=this.props,r=t.date,o=t.disabled,c=t.text,s=t.dateFormat,f=t.error,b=t.isInvalidDate,d=t.placeHolder,v=t.position,y=void 0===v?"bottom center":v,O=t.hasValue,g=void 0!==O&&O,j=t.className,_=(Object(l.isMoment)(r)?r.isValid():u()(r).isValid())?r:"";return Object(n.createElement)("div",{className:p()("bwf-specific-date",{"bwf-has-value":g})},Object(n.createElement)(h.a,{position:y,focusOnMount:!1,contentClassName:"bwf-filters-date-content ".concat(j),renderToggle:function(t){var r=t.isOpen,l=t.onToggle;return Object(n.createElement)(m.a,{disabled:!!r&&o,value:c,onChange:e.onInputChange,dateFormat:s,label:Object(a.__)("Choose a date","funnel-builder"),error:f,describedBy:Object(a.sprintf)(Object(a.__)("Date input describing a selected date in format %s","funnel-builder"),s),onFocus:Object(i.partial)(e.handleFocus,r,l),"aria-expanded":r,focusOnMount:!1,onKeyDown:Object(i.partial)(e.handleKeyDown,r,l),errorPosition:"top center",placeHolder:d})},renderContent:function(t){var r=t.onToggle;return Object(n.createElement)(S,{onToggle:r,date:_,isInvalidDate:b,onDateChange:e.onDateChange})}}))}}])&&g(r.prototype,o),s&&g(r,s),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,s}(n.Component),S=function(e){var t=e.onToggle,r=e.date,a=e.onDateChange,c=e.isInvalidDate,l=Object(n.useRef)();return Object(y.ub)(l,(function(){return t()})),Object(n.createElement)("div",{ref:l},Object(n.createElement)(v.b,{component:!1},Object(n.createElement)("div",{className:"bwf-calendar-react-dates is-core-datepicker"},Object(n.createElement)(o.DatePicker,{currentDate:r,onChange:Object(i.partial)(a,t),isInvalidDate:c}))))};k.propTypes={date:f.a.oneOfType([f.a.string,f.a.object]),disabled:f.a.bool,text:f.a.string,error:f.a.string,onUpdate:f.a.func.isRequired,dateFormat:f.a.string.isRequired,isInvalidDate:f.a.func},t.b=k},318:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(6),i=r.n(o),c=r(2),l=r(15),u=r.n(l),s=r(355),f=r(75),b=r(65),d=function(e){var t=e.children;return Object(n.createElement)("div",{className:"bwf-ellipsis-menu__title"},t)};d.propTypes={children:u.a.node};var p=d,m=r(345),v=r(337),y=r(363),h=function(e){var t=e.data;return Object(n.createElement)("ul",{className:"bwf-table-summary bwf-display-flex"},t.map((function(e,t){var r=e.label,a=e.value;return Object(n.createElement)("li",{className:"bwf-table-summary-item",key:t},Object(n.createElement)("span",{className:"bwf-table-summary-value"},a),Object(n.createElement)("span",{className:"bwf-table-summary-label"},r))})))};h.propTypes={data:u.a.array};var O=h,g=(r(390),r(289));function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,k(n.key),n)}}function k(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}function S(e,t,r){return t=P(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],P(e).constructor):t.apply(e,r))}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var D=function(e){function t(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=(r=S(this,t,[e])).getShowCols(e.headers);return r.state={showCols:n},r.onColumnToggle=r.onColumnToggle.bind(r),r.onPageChange=r.onPageChange.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(t,e),r=t,(o=[{key:"componentDidUpdate",value:function(e){var t=e.headers,r=e.query,n=this.props,a=n.headers,o=n.onColumnsChange,i=n.query,l=this.state.showCols;if(Object(c.isEqual)(a,t)||this.setState({showCols:this.getShowCols(a)}),i.orderby!==r.orderby&&!l.includes(i.orderby)){var u=l.concat(i.orderby);this.setState({showCols:u}),o(u)}}},{key:"getShowCols",value:function(e){return e.map((function(e){var t=e.key,r=e.visible;return!(void 0!==r&&!r)&&t})).filter(Boolean)}},{key:"getVisibleHeaders",value:function(){var e=this.props.headers,t=this.state.showCols;return e.filter((function(e){var r=e.key;return t.includes(r)}))}},{key:"getVisibleRows",value:function(){var e=this.props,t=e.headers,r=e.rows,n=this.state.showCols;return r.map((function(e){return t.map((function(t,r){var a=t.key;return n.includes(a)&&e[r]})).filter(Boolean)}))}},{key:"onColumnToggle",value:function(e){var t=this,r=this.props,n=r.headers,a=r.query,o=r.onQueryChange,i=r.onColumnsChange;return function(){t.setState((function(t){if(t.showCols.includes(e)){if(a.orderby===e){var r=Object(c.find)(n,{defaultSort:!0})||Object(c.first)(n)||{};o("sort")(r.key,"desc")}var l=Object(c.without)(t.showCols,e);return i(l,e),{showCols:l}}var u=[].concat(_(t.showCols),[e]);return i(u,e),{showCols:u}}))}}},{key:"onPageChange",value:function(){var e=this.props,t=e.onPageChange,r=e.onQueryChange;t&&t.apply(void 0,arguments),r&&r("paged").apply(void 0,arguments)}},{key:"render",value:function(){var e=this,t=this.props,r=t.actions,o=t.className,c=t.isLoading,l=t.onQueryChange,u=t.onSort,d=t.query,h=t.rowHeader,g=t.rowsPerPage,j=t.showMenu,_=t.summary,w=t.title,E=t.totalRows,k=t.rowClasses,S=t.emptyMessage,P=t.filterColumnIcon,C=void 0===P?"":P,D=t.extraSectionBeforefilterCol,T=t.hideHeader,N=t.footer,A=t.showPagination,x=void 0===A||A,F=t.id,L=t.perPageOptions,R=this.state.showCols,I=this.props.headers,M=this.getVisibleHeaders(),B=this.getVisibleRows(),q=i()("bwf-table","bwf-analytics-card",o,{"bwf-table-placeholder":c});return Object(n.createElement)(s.a,{className:q,title:w,action:r,hideHeader:T&&"yes"==T?"yes":"no",footer:N,menu:!(!D&&!j)&&Object(n.createElement)("div",null,D,j&&Object(n.createElement)(f.a,{label:Object(a.__)("Choose which values to display","funnel-builder"),buttonIcon:C,renderContent:function(){return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(p,null,Object(a.__)("Columns:","funnel-builder")),I.map((function(t){var r=t.key,a=t.label;return t.required?null:Object(n.createElement)(b.a,{checked:R.includes(r),isCheckbox:!0,isClickable:!0,key:r,onInvoke:e.onColumnToggle(r)},a)})))}})),belowHeader:!!this.props.beforeTable&&this.props.beforeTable,id:F},c?Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{className:"screen-reader-text"},Object(a.__)("Your requested data is loading","funnel-builder")),Object(n.createElement)(y.a,{numberOfRows:g,headers:M,rowHeader:h,caption:w,query:d})):Object(n.createElement)(v.a,{rows:B,headers:M,rowHeader:h,caption:w,query:d,emptyMessage:S,onSort:u||l("sort"),rowClasses:k}),x&&!c&&Object(n.createElement)(m.a,{key:parseInt(d.paged,10)||1,page:parseInt(d.paged,10)||1,perPage:g,total:E,onPageChange:this.onPageChange,onPerPageChange:l("per_page"),perPageOptions:L}),_&&Object(n.createElement)(O,{data:_}))}}])&&E(r.prototype,o),l&&E(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,l}(n.Component);D.propTypes={headers:u.a.arrayOf(u.a.shape({hiddenByDefault:u.a.bool,defaultSort:u.a.bool,isSortable:u.a.bool,key:u.a.string,label:u.a.oneOfType([u.a.string,u.a.node]),required:u.a.bool})),ids:u.a.arrayOf(u.a.number),isLoading:u.a.bool,onQueryChange:u.a.func,onColumnsChange:u.a.func,onSort:u.a.func,query:u.a.object,rowHeader:u.a.oneOfType([u.a.number,u.a.bool]),rows:u.a.arrayOf(u.a.arrayOf(u.a.shape({display:u.a.node,value:u.a.oneOfType([u.a.string,u.a.number,u.a.bool])}))).isRequired,rowsPerPage:u.a.number.isRequired,showMenu:u.a.bool,summary:u.a.arrayOf(u.a.shape({label:u.a.node,value:u.a.oneOfType([u.a.string,u.a.number])})),totalRows:u.a.oneOfType([u.a.number,u.a.string]).isRequired,rowClasses:u.a.arrayOf(u.a.string),showPagination:u.a.bool};var T={isLoading:!1,onQueryChange:function(){return function(){}},onColumnsChange:function(){},onSort:void 0,query:{},rowHeader:0,rows:[],showMenu:!0,rowClasses:[],showPagination:!0};t.a=Object(g.a)(D,T)},320:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=c(r(3)),o=c(r(394)),i=c(r(397));function c(e){return e&&e.__esModule?e:{default:e}}var l=void 0;function u(e,t){var r,i,c,s,f,b,d,p,m=[],v={};for(b=0;b<e.length;b++)if("string"!==(f=e[b]).type){if(!t.hasOwnProperty(f.value)||void 0===t[f.value])throw new Error("Invalid interpolation, missing component node: `"+f.value+"`");if("object"!==n(t[f.value]))throw new Error("Invalid interpolation, component node must be a ReactElement or null: `"+f.value+"`","\n> "+l);if("componentClose"===f.type)throw new Error("Missing opening component token: `"+f.value+"`");if("componentOpen"===f.type){r=t[f.value],c=b;break}m.push(t[f.value])}else m.push(f.value);return r&&(s=function(e,t){var r,n,a=t[e],o=0;for(n=e+1;n<t.length;n++)if((r=t[n]).value===a.value){if("componentOpen"===r.type){o++;continue}if("componentClose"===r.type){if(0===o)return n;o--}}throw new Error("Missing closing component token `"+a.value+"`")}(c,e),d=u(e.slice(c+1,s),t),i=a.default.cloneElement(r,{},d),m.push(i),s<e.length-1&&(p=u(e.slice(s+1),t),m=m.concat(p))),1===m.length?m[0]:(m.forEach((function(e,t){e&&(v["interpolation-child-"+t]=e)})),(0,o.default)(v))}t.default=function(e){var t=e.mixedString,r=e.components,a=e.throwErrors;if(l=t,!r)return t;if("object"!==(void 0===r?"undefined":n(r))){if(a)throw new Error("Interpolation Error: unable to process `"+t+"` because components is not an object");return t}var o=(0,i.default)(t);try{return u(o,r)}catch(e){if(a)throw new Error("Interpolation Error: unable to process `"+t+"` because of error `"+e.message+"`");return t}}},332:function(e,t,r){},337:function(e,t,r){"use strict";var n=r(0),a=r(2),o=r(6),i=r.n(o),c=r(15),l=r.n(c),u=r(1),s=r(8),f=r(43),b=r(612),d=r(613),p=r(614),m=r(5),v=r(22),y=r(289);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){return(O=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,j(n.key),n)}}function j(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=h(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}function _(e,t,r){return t=w(t),function(e,t){if(t&&("object"==h(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=_(this,t,[e])).state={tabIndex:null,isScrollableRight:!1,isScrollableLeft:!1},r.container=Object(n.createRef)(),r.sortBy=r.sortBy.bind(r),r.updateTableShadow=r.updateTableShadow.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){var e=this.container.current,t=e.scrollWidth>e.clientWidth;this.setState({tabIndex:t?"0":null}),this.updateTableShadow(),window.addEventListener("resize",this.updateTableShadow)}},{key:"componentDidUpdate",value:function(){this.updateTableShadow()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateTableShadow)}},{key:"sortBy",value:function(e){var t=this,r=this.props,n=r.headers,o=r.query;return function(){var r=o.orderby||Object(a.get)(Object(a.find)(n,{defaultSort:!0}),"key",!1),i=o.order||Object(a.get)(Object(a.find)(n,{key:r}),"defaultOrder","desc"),c="desc";e===r&&(c="desc"===i?"asc":"desc"),t.props.onSort(e,c)}}},{key:"updateTableShadow",value:function(){var e=this.container.current,t=this.state,r=t.isScrollableRight,n=t.isScrollableLeft,a=e.scrollWidth-e.scrollLeft<=e.offsetWidth;a&&r?this.setState({isScrollableRight:!1}):a||this.state.isScrollableRight||this.setState({isScrollableRight:!0});var o=e.scrollLeft<=0;o&&n?this.setState({isScrollableLeft:!1}):o||n||this.setState({isScrollableLeft:!0})}},{key:"render",value:function(){var e=this,t=this.props,r=t.ariaHidden,o=t.caption,c=t.classNames,l=t.headers,f=t.instanceId,y=t.query,h=t.rowHeader,g=t.rows,j=t.rowClasses,_=t.emptyMessage,w=this.state,E=w.isScrollableRight,k=w.isScrollableLeft,S=w.tabIndex,P=i()("bwf-table-table",c,{"is-scrollable-right":E,"is-scrollable-left":k,"is-empty-data":!T}),C=y.orderby||Object(a.get)(Object(a.find)(l,{defaultSort:!0}),"key",!1),D=y.order||Object(a.get)(Object(a.find)(l,{key:C}),"defaultOrder","desc"),T=!!g.length;return Object(n.createElement)("div",{className:P,ref:this.container,tabIndex:S,"aria-hidden":r,"aria-labelledby":"caption-".concat(f),role:"group",onScroll:this.updateTableShadow},Object(n.createElement)("table",{width:"100%"},Object(n.createElement)("caption",{id:"caption-".concat(f),className:"bwf-table-caption screen-reader-text"},o,"0"===S&&Object(n.createElement)("small",null,Object(u.__)("(scroll to see more)","funnel-builder"))),Object(n.createElement)("tbody",null,Object(n.createElement)("tr",null,l.map((function(t,r){var o=t.cellClassName,c=t.isSortable,l=t.isNumeric,m=t.key,y=t.label,h=t.screenReaderLabel,g=t.isPro,j="header-".concat(f,"-").concat(r),_={className:i()("bwf-table-header",o,{"is-sortable":c,"is-sorted":C===m,"is-numeric":l})};c&&(_["aria-sort"]="none",C===m&&(_["aria-sort"]="asc"===D?"ascending":"descending"));var w=C===m&&"asc"!==D?Object(u.sprintf)(Object(u.__)("Sort by %s in ascending order","funnel-builder"),h):Object(u.sprintf)(Object(u.__)("Sort by %s in descending order","funnel-builder"),h),E=Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{"aria-hidden":Boolean(h)},y),g&&Object(n.createElement)(v.b,null),h&&Object(n.createElement)("span",{className:"screen-reader-text"},h));return Object(n.createElement)("th",O({role:"columnheader",scope:"col",key:r},_),c?Object(n.createElement)(n.Fragment,null,Object(n.createElement)(s.Button,{"aria-describedby":j,onClick:T?e.sortBy(m):a.noop},E,C===m&&"asc"===D?Object(n.createElement)(b.a,{icon:d.a}):Object(n.createElement)(b.a,{icon:p.a})),Object(n.createElement)("span",{className:"screen-reader-text",id:j},w)):E)}))),T?g.map((function(e,t){return Object(n.createElement)("tr",{key:t,className:j[t]},e.map((function(e,t){var a=l[t],o=a.cellClassName,c=(a.isLeftAligned,a.isNumeric),u=a.isPro,s=h===t,f=s?"th":"td",b=i()("bwf-table-item",o,{"is-conversion":"conversion"===l[t].key,"is-numeric":c,"is-sorted":C===l[t].key});return Object(n.createElement)(f,{scope:s?"row":null,key:t,className:b},u&&!r?"-":function(e){return e.display||null}(e))})))})):Object(n.createElement)("tr",{className:"bwf-table-empty"},Object(n.createElement)("td",{className:"bwf-table-empty-item",colSpan:l.length},Object(n.createElement)(m.a,{icon:"no-data",height:"82",width:"112"}),Object(n.createElement)("div",{className:"bwf-no-data"},Object(u.__)("No Data Available","funnel-builder")),_?Object(n.createElement)("div",{className:"bwf-info"},_):null)))))}}])&&g(r.prototype,o),c&&g(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,c}(n.Component);k.propTypes={ariaHidden:l.a.bool,className:l.a.string,headers:l.a.arrayOf(l.a.shape({defaultSort:l.a.bool,defaultOrder:l.a.string,isLeftAligned:l.a.bool,isNumeric:l.a.bool,isSortable:l.a.bool,key:l.a.string,label:l.a.node,required:l.a.bool,screenReaderLabel:l.a.string})),onSort:l.a.func,query:l.a.object,rows:l.a.arrayOf(l.a.arrayOf(l.a.shape({display:l.a.node,value:l.a.oneOfType([l.a.string,l.a.number,l.a.bool])}))).isRequired,rowHeader:l.a.oneOfType([l.a.number,l.a.bool]),rowClasses:l.a.arrayOf(l.a.string)};var S={ariaHidden:!1,headers:[],onSort:a.noop,query:{},rowHeader:0,rowClasses:[]};t.a=Object(f.withInstanceId)(Object(y.a)(k,S))},338:function(e,t,r){"use strict";function n(e){return function(){return e}}var a=function(){};a.thatReturns=n,a.thatReturnsFalse=n(!1),a.thatReturnsTrue=n(!0),a.thatReturnsNull=n(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},341:function(e,t,r){},345:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(8),i=r(6),c=r.n(i),l=r(15),u=r.n(l),s=r(2),f=(r(348),r(5)),b=r(288),d=r(289);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h(n.key),n)}}function h(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function O(e,t,r){return t=g(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],g(e).constructor):t.apply(e,r))}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t){return(j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var _=[10,25,50,75,100],w=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=O(this,t,[e])).state={inputValue:r.props.page},r.previousPage=r.previousPage.bind(r),r.nextPage=r.nextPage.bind(r),r.onInputChange=r.onInputChange.bind(r),r.onInputBlur=r.onInputBlur.bind(r),r.perPageChange=r.perPageChange.bind(r),r.selectInputValue=r.selectInputValue.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(t,e),r=t,(i=[{key:"getPerPageOptions",value:function(){var e=this.props.perPageOptions;return[].concat(m(void 0===e?[]:e),_).sort((function(e,t){return e-t}))}},{key:"previousPage",value:function(e){e.stopPropagation();var t=this.props,r=t.page,n=t.onPageChange;r-1<1||n(r-1,"previous")}},{key:"nextPage",value:function(e){e.stopPropagation();var t=this.props,r=t.page,n=t.onPageChange;r+1>this.pageCount||n(r+1,"next")}},{key:"perPageChange",value:function(e){var t=this.props,r=t.onPerPageChange,n=t.onPageChange,a=t.total,o=t.page;r(parseInt(e,10));var i=Math.ceil(a/parseInt(e,10));o>i&&n(i)}},{key:"onInputChange",value:function(e){this.setState({inputValue:e.target.value})}},{key:"onInputBlur",value:function(e){var t=this.props,r=t.onPageChange,n=t.page,a=parseInt(e.target.value,10);a!==n&&Number.isFinite(a)&&a>0&&this.pageCount&&this.pageCount>=a&&r(a,"goto")}},{key:"selectInputValue",value:function(e){e.target.select()}},{key:"renderPageArrows",value:function(){var e=this.props,t=e.page,r=e.showPageArrowsLabel;if(this.pageCount<=1)return null;var i=c()("bwf-pagination-link",{"is-active":t>1}),l=c()("bwf-pagination-link",{"is-active":t<this.pageCount});return Object(n.createElement)("div",{className:"bwf-pagination-page-arrows"},r&&Object(n.createElement)("span",{className:"bwf-pagination-page-arrows-label",role:"status","aria-live":"polite"},Object(a.sprintf)(Object(a.__)("Page %d of %d","funnel-builder"),t,this.pageCount)),Object(n.createElement)("div",{className:"bwf-pagination-page-arrows-buttons"},Object(n.createElement)(o.Button,{className:i,disabled:!(t>1),onClick:this.previousPage,label:Object(a.__)("Previous Page","funnel-builder")},Object(n.createElement)(f.a,{icon:"arrow-left",width:16})),Object(n.createElement)(o.Button,{className:l,disabled:!(t<this.pageCount),onClick:this.nextPage,label:Object(a.__)("Next Page","funnel-builder")},Object(n.createElement)(f.a,{icon:"arrow-right",width:16,color:"#0073AA"}))))}},{key:"renderPerPagePicker",value:function(){var e,t=this.getPerPageOptions().map((function(e){return{key:e.toString(),label:e.toString()}}));return Object(n.createElement)("div",{className:"bwf-pagination-per-page-picker"},Object(n.createElement)(b.b,{selected:null===(e=this.props.perPage)||void 0===e?void 0:e.toString(),onChange:this.perPageChange,options:t,labelPosition:"side"}),Object(n.createElement)("label",{className:"bwf-pagination-per-page-picker__label"},Object(a.__)("Per Page","funnel-builder")))}},{key:"render",value:function(){var e=this.props,t=e.total,r=e.perPage,a=e.className,o=e.showPerPagePicker;this.pageCount=Math.ceil(t/r);var i=c()("bwf-pagination",a);return this.pageCount<=1?t>this.getPerPageOptions()[0]&&Object(n.createElement)("div",{className:i},this.renderPerPagePicker())||null:Object(n.createElement)("div",{className:i},this.renderPageArrows(),o&&this.renderPerPagePicker())}}])&&y(r.prototype,i),l&&y(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,i,l}(n.Component);w.propTypes={page:u.a.number.isRequired,onPageChange:u.a.func,perPage:u.a.number.isRequired,onPerPageChange:u.a.func,total:u.a.oneOfType([u.a.number,u.a.string]).isRequired,className:u.a.string,showPagePicker:u.a.bool,showPerPagePicker:u.a.bool,showPageArrowsLabel:u.a.bool};var E={onPageChange:s.noop,onPerPageChange:s.noop,showPagePicker:!1,showPerPagePicker:!0,showPageArrowsLabel:!0};t.a=Object(d.a)(w,E)},346:function(e,t,r){"use strict";var n=r(0),a=r(15),o=r.n(a);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l(n.key),n)}}function l(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function u(e,t,r){return t=s(t),function(e,t){if(t&&("object"==i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],s(e).constructor):t.apply(e,r))}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){return(f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var b=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=u(this,t,[e])).scrollTo=r.scrollTo.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){setTimeout(this.scrollTo,window.location.hash?100:250)}},{key:"scrollTo",value:function(){var e=this.props.offset,t=void 0===e?"0":e,r=window.location.hash?window.location.hash.substring(1):null,n=document.getElementById(r);if(n){var a=n.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:a-parseInt(t,10),behavior:"smooth"})}else this.ref.current?window.scrollTo({top:0,behavior:"smooth"}):setTimeout(this.scrollTo,250)}},{key:"render",value:function(){var e=this.props.children;return this.ref=Object(n.createRef)(),Object(n.createElement)("div",{ref:this.ref},e)}}])&&c(r.prototype,a),o&&c(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(n.Component);b.propTypes={offset:o.a.string},t.a=b},347:function(e,t,r){"use strict";var n=r(1);t.a={calendarLabel:Object(n.__)("Calendar","funnel-builder"),closeDatePicker:Object(n.__)("Close","funnel-builder"),focusStartDate:Object(n.__)("Interact with the calendar and select start and end dates.","funnel-builder"),clearDate:Object(n.__)("Clear Date","funnel-builder"),clearDates:Object(n.__)("Clear Dates","funnel-builder"),jumpToPrevMonth:Object(n.__)("Move backward to switch to the previous month.","funnel-builder"),jumpToNextMonth:Object(n.__)("Move forward to switch to the next month.","funnel-builder"),enterKey:Object(n.__)("Enter key","funnel-builder"),leftArrowRightArrow:Object(n.__)("Right and left arrow keys","funnel-builder"),upArrowDownArrow:Object(n.__)("up and down arrow keys","funnel-builder"),pageUpPageDown:Object(n.__)("page up and page down keys","funnel-builder"),homeEnd:Object(n.__)("Home and end keys","funnel-builder"),escape:Object(n.__)("Escape key","funnel-builder"),questionMark:Object(n.__)("Question mark","funnel-builder"),selectFocusedDate:Object(n.__)("Select the date in focus.","funnel-builder"),moveFocusByOneDay:Object(n.__)("Move backward (left) and forward (right) by one day.","funnel-builder"),moveFocusByOneWeek:Object(n.__)("Move backward (up) and forward (down) by one week.","funnel-builder"),moveFocusByOneMonth:Object(n.__)("Switch months.","funnel-builder"),moveFocustoStartAndEndOfWeek:Object(n.__)("Go to the first or last day of a week.","funnel-builder"),returnFocusToInput:Object(n.__)("Return to the date input field.","funnel-builder"),keyboardNavigationInstructions:Object(n.__)("Press the down arrow key to interact with the calendar and select a date.","funnel-builder"),chooseAvailableStartDate:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Select %s as a start date.","funnel-builder"),t)},chooseAvailableEndDate:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Select %s as an end date.","funnel-builder"),t)},chooseAvailableDate:function(e){return e.date},dateIsUnavailable:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("%s is not selectable.","funnel-builder"),t)},dateIsSelected:function(e){var t=e.date;return Object(n.sprintf)(Object(n.__)("Selected. %s","funnel-builder"),t)}}},348:function(e,t,r){},351:function(e,t,r){"use strict";var n=r(0),a=r(8),o=r(31),i=r(15),c=r.n(i),l=r(6),u=r.n(l),s=(r(368),r(5)),f=["labels","isOpen","showIcon","hasValue"];function b(){return(b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}var d=function(e){var t=e.labels,r=e.isOpen,i=e.showIcon,c=e.hasValue,l=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,f),d=u()("bwf-dropdown-button",{"is-open":r,"is-multi-line":t.length>1,"has-value":c});return Object(n.createElement)(a.Button,b({className:d,"aria-expanded":r},l),Object(n.createElement)("div",{className:"bwf-dropdown-button-labels"},t.map((function(e,t){return Object(n.createElement)("span",{key:t},Object(o.decodeEntities)(e))})),i&&Object(n.createElement)(s.a,{icon:"calender"})))};d.propTypes={labels:c.a.array.isRequired,isOpen:c.a.bool},t.a=d},355:function(e,t,r){"use strict";var n=r(0),a=r(6),o=r.n(a),i=r(15),c=r.n(i),l=(r(75),r(300));r(389);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b(n.key),n)}}function b(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=u(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}function d(e,t,r){return t=p(t),function(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],p(e).constructor):t.apply(e,r))}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(){return s(this,t),d(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){var e=this.props,t=e.action,r=e.children,a=e.description,i=e.isInactive,c=e.menu,u=e.title,s=e.hideHeader,f=e.footer,b=e.id,d=o()("bwf-card",this.props.className,{"has-menu":!!c,"has-action":!!t,"is-inactive":!!i});return Object(n.createElement)("div",{className:d,id:b},s&&"no"==s&&(!!u||t||c)&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf-card-header"},!!u&&Object(n.createElement)("div",{className:"bwf-card-title-wrapper"},Object(n.createElement)("div",{className:"bwf-card-title bwf-card-header-item"},u),a&&Object(n.createElement)("div",{className:"bwf-card-description bwf-card-header-item"},a)),t&&Object(n.createElement)("div",{className:"bwf-card-action bwf-card-header-item"},t),c&&Object(n.createElement)("div",{className:"bwf-card-menu bwf-card-header-item"},c))),Object(n.createElement)(l.b,{className:"bwf-card-body"},r),f&&Object(n.createElement)("div",{className:"bwf-card-footer"},f))}}])&&f(r.prototype,a),i&&f(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,i}(n.Component);v.propTypes={action:c.a.node,className:c.a.string,description:c.a.oneOfType([c.a.string,c.a.node]),isInactive:c.a.bool,title:c.a.oneOfType([c.a.string,c.a.node])};t.a=v},358:function(e,t,r){"use strict";var n=r(0);t.a=function(e){var t=e.children,r=e.className,a=void 0===r?"":r;return Object(n.createElement)("div",{className:"bwf-c-container"},Object(n.createElement)("div",{className:"bwf-c-content-inner"},Object(n.createElement)("div",{className:"bwf-c-content-body ".concat(a)},t)))}},359:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return p}));var n=r(0),a=r(1),o=r(4),i=r(320),c=r.n(i),l=r(2),u=r(13),s=r.n(u),f=function(e,t){return Object(n.createElement)(n.Fragment,null,e.title,":"," ",c()({mixedString:e.operators?e.readable_text:"{{value /}}",components:{key:Object(n.createElement)(n.Fragment,null,e.title),rule:Object(n.createElement)(n.Fragment,null,b(e,t)),value:Object(n.createElement)("strong",{title:Object(n.renderToString)(d(e,t)),className:"bwf-t-overflow-ellipsis"},d(e,t))}}))},b=function(e,t){var r;if(e.operators)return"number"===e.type?e.operators[t.rule]:"search"===e.type?null===(r=e.operators[t.rule])||void 0===r?void 0:r.replace("Is",""):e.operators[t.rule]},d=function(e,t){if("date-range"===e.type)return t.data.period?p[t.data.period]:s()(t.data.after).format(Object(o.Z)())===s()(t.data.before).format(Object(o.Z)())?"".concat(s()(t.data.after).format(Object(o.Z)())):Object(n.createElement)(n.Fragment,null,"".concat(s()(t.data.after).format(Object(o.Z)())," - ").concat(s()(t.data.before).format(Object(o.Z)())));if("select"===e.type)return e.options[t.data];if("number"===e.type||"text"===e.type)return t.data;if("search"===e.type&&Object(l.isArray)(t.data)&&!Object(l.isEmpty)(t.data))return t.data.map((function(e){return e.label})).join(", ");if("search-select"===e.type)return t.data.label;if("checklist"===e.type){if(Object(l.isArray)(t.data))return Object(l.isEmpty)(t.data)||t.data.length!==Object.keys(e.options).length?t.data.map((function(t){return e.options[t]})).join(", "):"All";if(t.data)return e.options[t.data]}return null},p={today:Object(a.__)("Today","funnel-builder"),yesterday:Object(a.__)(" Yesterday","funnel-builder"),week:Object(a.__)("This Week","funnel-builder"),last_week:Object(a.__)("Last Week","funnel-builder"),month:Object(a.__)("This Month","funnel-builder"),last_month:Object(a.__)("Last Month","funnel-builder"),quarter:Object(a.__)("Quarter to Date","funnel-builder"),last_quarter:Object(a.__)("Last Quarter","funnel-builder"),year:Object(a.__)("Year to Date","funnel-builder"),last_year:Object(a.__)("Last Year","funnel-builder"),specificDate:Object(a.__)("On Specific Date","funnel-builder"),custom:Object(a.__)("Custom Date Range","funnel-builder")}},363:function(e,t,r){"use strict";var n=r(0),a=r(2),o=r(15),i=r.n(o),c=r(337);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["numberOfRows"];function s(){return(s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function v(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}function y(e,t,r){return t=h(t),function(e,t){if(t&&("object"==l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],h(e).constructor):t.apply(e,r))}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return(O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function t(){return p(this,t),y(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){var e=this,t=this.props,r=t.numberOfRows,o=void 0===r?5:r,i=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(t,u),l=Object(a.range)(o).map((function(){return e.props.headers.map((function(){return{display:Object(n.createElement)("span",{className:"is-placeholder"})}}))})),f=this.props.headers.map((function(e){return b(b({},e),{},{label:Object(n.createElement)("span",{className:"is-placeholder"})})}));return Object(n.createElement)(c.a,s({ariaHidden:!0,classNames:"is-loading",rows:l},i,{headers:f}))}}])&&m(r.prototype,o),i&&m(r,i),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,i}(n.Component);g.propTypes={query:i.a.object,headers:i.a.arrayOf(i.a.shape({hiddenByDefault:i.a.bool,defaultSort:i.a.bool,isSortable:i.a.bool,key:i.a.string,label:i.a.node,required:i.a.bool})),numberOfRows:i.a.number},t.a=g},368:function(e,t,r){},384:function(e,t,r){"use strict";var n=r(0),a=r(6),o=r.n(a),i=r(2),c=r(1),l=r(8),u=r(5),s=r(84),f=(r(420),r(288)),b=r(10),d=r.n(b),p=r(132),m=r(4),v=r(22);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||w(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var k=function(e){e.slug;var t=e.api,r=e.setData,a=e.value,l=e.searchHelper,u=void 0===l?{}:l,s=e.default_options,f=e.operators,b=e.val_label,y=u.funnelId,O=_(Object(n.useState)([]),2),j=O[0],w=O[1],E=_(Object(n.useState)(Object(i.size)(s)?s:[{id:"no-result",name:"No data available"}]),2),k=E[0],S=E[1],P=_(Object(n.useState)(!Object(i.size)(s)&&!Object(i.size)(a)),2),C=P[0],D=P[1],T=_(Object(n.useState)(!1),2),N=T[0],A=T[1],x=_(Object(n.useState)(!1),2),F=x[0],L=x[1],R=_(Object(n.useState)(Object(i.isArray)(a)?a.map((function(e){var t;return g(g({},e),{},{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()})})):[]),2),I=R[0],M=R[1],B=Object(n.useRef)(new AbortController),q=function(e){return e.value?Object(n.createElement)("div",{className:"bwf-flex bwf--space-between"},Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis bwf-w-180",title:e.label||e.name},e.label||e.name),Object(n.createElement)(v.c,{content:e.value})):e.label||e.name},U=function(e,t){e&&r("",t)},Y=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){B.current=new AbortController,Object(i.size)(e)?D(!0):D(!!r);var a=t.replace("{{search}}",encodeURIComponent(e))+(y?"&funnel_id=".concat(y):"");d()({path:Object(m.y)(a),signal:B.current.signal}).then((function(t){if(t&&Object(i.isArray)(t)&&!Object(i.isEmpty)(t)){var n,a,o;A(null===(n=t[0])||void 0===n?void 0:n.hasOwnProperty("steps"));var c=t.map((function(e){return{name:e.name||e.label,id:e.id.toString(),labelText:q(e),steps:null==e?void 0:e.steps}})),l=t.map((function(e){var t;return{name:(null==e?void 0:e.name)||(null==e?void 0:e.label),id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString()}}));Object(i.size)(e)&&null!==(a=t[0])&&void 0!==a&&a.hasOwnProperty("steps")?(w(c),U(r,c)):null!==(o=t[0])&&void 0!==o&&o.hasOwnProperty("steps")?(S(c),U(r,c)):Object(i.size)(e)?(w(l),U(r,l)):(S(l),U(r,l))}else Object(i.isEmpty)(e)?w([{id:"no-result",name:"No data available"}]):w([{id:"no-result",name:'No result found for "'.concat(e,'"')}]),U(r,[{id:"no-result",name:"No data available"}]);D(!1),L(!1)})).catch((function(e){D(!1),console.log(e)}))}};Object(n.useEffect)((function(){Object(i.isEmpty)(s)&&(Y("",!!Object(i.isEmpty)(a)),L(!0))}),[]),Object(n.useEffect)((function(){var e;null!==(e=k[0])&&void 0!==e&&e.hasOwnProperty("steps")&&A(!0)}),[k]);var V=Object(i.isArray)(I)?I.map((function(e){return e.id})):[];return Object(n.createElement)(p.a,{conditionLabel:b,values:V,isFirstLoading:F,searchedValue:function(e,t,r){Y(e,t,r)},selectedValue:I,onChangeValue:function(){},multiGroup:N,hasDefaultOption:k,onChangeData:function(e){var t=e.map((function(e){var t;return{id:null==e||null===(t=e.id)||void 0===t?void 0:t.toString(),label:e.label||e.name}}));M(h(t)),r(e.map((function(e){return{id:null==e?void 0:e.id,label:e.label||e.name}})))},options:h(j.filter((function(e){return V.findIndex((function(t){return t.id===e.id}))<0}))),defaultOptions:k,className:o()("bwf-filter-search",{"no-operator":Object(i.isEmpty)(f)}),isLoading:C,placeholder:Object(c.__)("Search","funnel-builder"),showInitialList:!1,abortController:B})},S=r(13),P=r.n(S),C=r(315),D=r(15),T=r.n(D),N=r(385),A=r(351);r(341);function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,L(n.key),n)}}function L(e){var t=function(e,t){if("object"!=x(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=x(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==x(t)?t:t+""}function R(e,t,r){return t=I(t),function(e,t){if(t&&("object"==x(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],I(e).constructor):t.apply(e,r))}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var B=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=R(this,t,[e])).isValidSelection=r.isValidSelection.bind(r),r.popoverRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(t,e),r=t,(a=[{key:"getButtonLabel",value:function(){var e=this.props.dateQuery,t=e.primaryDate,r=e.secondaryDate,n=["".concat(t.label," (").concat(t.range,")")];return this.props.hideCompare||n.push("".concat(Object(c.__)("vs.","funnel-builder")," ").concat(r.label," (").concat(r.range,")")),n}},{key:"isValidSelection",value:function(e){var t=this.state,r=t.compare,n=t.after,a=t.before;return"custom"!==e||r&&n&&a}},{key:"render",value:function(){var e=this,t=this.props,r=t.disablePresets,a=void 0!==r&&r,c=t.hasValue,l=t.showIcon,u=t.onRangeSelect,f=t.dateQuery,b=t.dateRange;return Object(n.createElement)("div",{className:"bwf-range-filter"},Object(n.createElement)("div",{className:o()("bwf-range-filters-container",{"bwf-presets-disable":a})},Object(n.createElement)(s.a,{contentClassName:"bwf-filters-date-content is-from-bottom-only",expandOnMobile:!0,renderToggle:function(e){var t=e.isOpen,r=e.onToggle;return Object(n.createElement)(A.a,{onClick:r,isOpen:t,labels:!Object(i.isEmpty)(b)&&b.hasOwnProperty("after")?["".concat(P()(b.after).format(m.c)," - ").concat(P()(b.before).format(m.c))]:["Start Date ~ End Date"],showIcon:l,hasValue:c})},renderContent:function(t){var r=t.onClose;return Object(n.createElement)(N.a,{hideCompare:e.props.hideCompare,onClose:r,after:b.hasOwnProperty("after")?P()(b.after):null,before:P()(b.before).endOf("day"),isValidSelection:e.isValidSelection,disablePresets:a,value:function(e){return u(e)},dateQuery:f,popoverRef:e.popoverRef})},popoverProps:{ref:this.popoverRef}})))}}])&&F(r.prototype,a),l&&F(r,l),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,l}(n.Component);B.propTypes={onRangeSelect:T.a.func,dateQuery:T.a.shape({period:T.a.string,compare:T.a.string,before:T.a.object,after:T.a.object,primaryDate:T.a.shape({label:T.a.string,range:T.a.string}),secondaryDate:T.a.shape({label:T.a.string,range:T.a.string})})};var q=B,U=r(83),Y=r(12);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=V(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=V(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==V(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=function(e){var t=e.value,r=e.rule,a=e.setData,o=e.returnPeriod,c=Object(n.useRef)(!0),l=Object(Y.i)(),u=o&&{period:r};return Object(n.useEffect)((function(){if(Object(i.isEmpty)(r)||"specificDate"===r||"custom"===r)c.current||a("");else{l.period=r;var e=((t=l).compare="previous_year",{primary:Object(U.d)(t).primary}).primary;a(z({before:e.before.format(m.f),after:e.after.format(m.e)},u))}var t;c.current&&(c.current=!1)}),[r]),Object(n.createElement)(n.Fragment,null,"specificDate"!==r&&"custom"!==r&&Object(n.createElement)("div",{style:{marginTop:-16}}),"specificDate"===r&&Object(n.createElement)(C.b,{dateFormat:m.c,onUpdate:function(e){a(z({before:P()(e.date).endOf("day").format(m.f),after:P()(e.date).startOf("day").format(m.e)},u))},text:t&&t.before?P()(t.before).format(m.c):"Select Date",date:t&&t.before?P()(t.before).format(m.c):P()().format(m.c),hasValue:!(!t||!t.before),iconRight:!0,placeHolder:"Select Date",disabled:!0,position:"bottom right",isInvalidDate:function(e){return P()(e).isAfter(P()(),"day")},className:"is-from-bottom-only"}),"custom"===r&&Object(n.createElement)(q,{key:JSON.stringify(l),dateRange:Object(i.size)(t)?t:{before:P()().endOf("day").format(m.c)},hasValue:!Object(i.isEmpty)(t),onRangeSelect:function(e){a(z({before:P()(e.before).format(m.f),after:P()(e.after).format(m.e)},u))},isoDateFormat:m.c,hideCompare:!0,showIcon:!0}))},W=r(359);function $(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var X=function(e){var t=e.options,r=e.value,a=e.setData,o=(e.remove,e.multiple),c=void 0!==o&&o;return Object(n.createElement)("div",{className:"bwf-filter-checklist"},Object.keys(t).map((function(e,o){return Object(n.createElement)("div",{key:"bwf-filter-check-item-".concat(o),onClick:function(){c?Object(i.isEmpty)(r)?a([e]):r.includes(e)?a(r.filter((function(t){return t!==e}))):a([].concat($(r),[e])):a(e)}},Object(n.createElement)("span",null,t[e])," ",(c&&Object(i.isArray)(r)&&r.includes(e)||r===e)&&Object(n.createElement)(u.a,{icon:"tick",height:"16",width:"16"}))})))},Z=r(55),J=r(28),ee=function(){return Object(n.createElement)(Z.a,{justify:"flex-start"},Object(n.createElement)(Z.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})),Object(n.createElement)(Z.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})),Object(n.createElement)(Z.c,null,Object(n.createElement)(J.a,{h:24,w:100,br:19})))},te=r(20),re=r(18),ne=r(407),ae=["options"],oe=["options"];function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function le(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return fe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function be(){return(be=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ie(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ie(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ve=function(e){var t=e.label,r=e.icon,a=e.isPrimary,i=void 0!==a&&a,c=e.onClick,l=void 0===c?function(){}:c,s=e.onClear,f=e.isActive,b=e.rule,d=e.isProFeatureLocked,p=e.isLocked,m=e.iconColor;return Object(n.createElement)("div",{className:o()("bwf-filter__tag",{"is-primary":i,"is-active":f,"is-locked":p,"is-pro-locked":(null==b?void 0:b.is_pro)&&d}),onClick:p||d&&null!=b&&b.is_pro?function(){}:l},!f&&(d&&null!=b&&b.is_pro?Object(n.createElement)(v.b,{className:"size-16"}):Object(n.createElement)(u.a,{icon:p?"lock":r,height:"16",width:"16",color:m||re.TEXT_COLOR_2})),Object(n.createElement)("span",null,t),f&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)(u.a,{icon:"angle-down",height:"12",width:"12",color:"#212121"}),Object(n.createElement)("span",{className:"remove-icon",onClick:s},Object(n.createElement)(u.a,{icon:"dismiss-circle",height:"16",width:"16",color:"#353030"}))))},ye=function(e){var t=e.rule,r=e.filter,a=e.filterData,o=e.remove,u=e.setFilter,f=e.tempFilters,b=e.updateTempRule,d=e.propsToPass,p=void 0===d?{}:d,v=e.isProFeatureLocked,y=e.isLocked,h=function(e,t){return!(!e.required.includes("data")||!Object(i.isEmpty)(t.data))||!(e.hasOwnProperty("operators")||!e.required.includes("data")||!Object(i.isEmpty)(t.data))},O=Object(n.useRef)(),g=Object(n.useRef)();Object(m.ub)(g,(function(){void 0!==O.current&&O.current()}));var j=f.find((function(e){return e.filter===t.slug})),_=a.find((function(e){return(Object(i.isEmpty)(t.required)||(!t.required.includes("data")||Object(i.size)(e.data))&&(!t.required.includes("rule")||Object(i.size)(e.rule)))&&e.filter===t.slug})),w=Object(n.useMemo)((function(){if(t.data_2)return!t.data_2.toggler||j&&j[t.data_2.toggler[0]]===t.data_2.toggler[1]}),[t,j]);return Object(n.createElement)("div",{className:"bwf-filter__sticky"},Object(n.createElement)(s.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:g,flip:!1,renderToggle:function(e){var r=e.isOpen,a=e.onToggle;return Object(n.createElement)(ve,{icon:"add-circle",onClick:function(){r&&_&&b(_),a()},label:_?Object(W.b)(t,_):t.title,isActive:_,rule:t,onClear:function(e){e.stopPropagation(),o(j),r&&a()},isProFeatureLocked:v,isLocked:y})},renderContent:function(e){e.onClose;var a=e.onToggle;return O.current=a,Object(n.createElement)("div",null,Object(n.createElement)("div",{className:"bwf-filter-heading"},t.title),Object(n.createElement)(ge,be({},t,{filter:r,value:j.rule,setRule:function(e){b(pe(pe({},j),{},{rule:e}))}})),Object(n.createElement)("div",{className:"".concat(!Object(i.isEmpty)(t.operators)&&Object(i.isEmpty)(j.rule)?"bwf-no-operator":"")},Object(n.createElement)(je,be({},t,p,{value:j.data,rule:j.rule,default_options:j.options,setData:function(e,t){Object(i.isEmpty)(t)||b(pe(pe({},j),{},{options:t})),b(pe(pe({},j),{},{data:e}))},remove:function(){return o(j)}}))),w&&Object(n.createElement)("div",{className:"bwf-mt-16"},Object(n.createElement)(je,be({},t.data_2,{value:j.data_2,rule:j.rule,default_options:t.data_2.options,setData:function(e,t){Object(i.isEmpty)(t)||b(pe(pe({},j),{},{options:t})),b(pe(pe({},j),{},{data_2:e}))},remove:function(){return o(j)}}))),Object(n.createElement)(l.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,onClick:function(){u(j),a()},disabled:h(t,j)},Object(c.__)("Apply","woocommerce")))}}))},he=function(e){var t=e.rules,r=e.filterData,a=e.setFilter,o=e.tempFilters,f=e.updateTempRule,b=e.propsToPass,d=void 0===b?{}:b,p=e.isProFeatureLocked,v=e.isLocked,y=ue(Object(n.useState)({}),2),h=y[0],O=y[1],g=o.find((function(e){return e.filter===h.slug})),j=Object(n.useRef)(),_=Object(n.useRef)();Object(m.ub)(_,(function(){void 0!==j.current&&j.current()}));var w=function(e){return r.find((function(t){return Object(i.size)(t.data)&&t.filter===e.slug}))};return Object(n.createElement)("div",{className:"bwf-filter__list"},Object(n.createElement)(s.a,{contentClassName:"bwf-filter-dropdown",placement:"bottom right",expandOnMobile:!0,focusOnMount:!1,ref:_,flip:!1,renderToggle:function(e){e.isOpen;var t=e.onToggle;return Object(n.createElement)(ve,{label:Object(c.__)("Add Filter","funnel-builder"),icon:"filter",onClick:function(){t()},isPrimary:!0,isProFeatureLocked:p,iconColor:re.BLUE_BASE})},renderContent:function(e){var o,s,b=e.isOpen,m=(e.onClose,e.onToggle);return j.current=m,Object(n.createElement)("div",null,Object(n.createElement)("div",{className:"bwf-filter-heading"},Object(c.__)("Filter By","funnel-builder")),Object(i.isEmpty)(h)?Object(n.createElement)("div",{className:"bwf-filter-list-item-wrap"},t.map((function(e,t){return Object(n.createElement)(Oe,be({},e,{key:"list-filter-item-".concat(t),onClick:function(){return O(e)},isSelected:r.findIndex((function(t){return Object(i.size)(t.data)&&t.filter===e.slug}))>-1,isProFeatureLocked:p,isLocked:v}))}))):Object(n.createElement)("div",{className:"bwf-filter-list-item__inner-wrap"},Object(n.createElement)("div",{className:"bwf-filter-list-item__inner-header"},Object(n.createElement)("span",{onClick:function(){b&&w(h)&&f(w(h)),O({})}},Object(n.createElement)(u.a,{icon:"arrow-left",size:"16"})),Object(n.createElement)("span",null,h.title)),Object(n.createElement)(ge,be({},h,{value:g.rule,setRule:function(e){f(pe(pe({},g),{},{rule:e}))}})),Object(n.createElement)("div",{className:"".concat(!Object(i.isEmpty)(h.operators)&&Object(i.isEmpty)(g.rule)?"bwf-no-operator":"")},Object(n.createElement)(je,be({},h,{value:g.data,rule:g.rule,default_options:null==g?void 0:g.options,setData:function(e,t){Object(i.isEmpty)(t)||a(g,t,g.filter),f(pe(pe({},g),{},{data:e}))}},d))),Object(n.createElement)(l.Button,{className:"bwf-filter-apply-btn bwf-no-ripple",isPrimary:!0,disabled:(o=h,s=g,!(!o.required.includes("data")||!Object(i.isEmpty)(s.data))||!(o.hasOwnProperty("operators")||!o.required.includes("data")||!Object(i.isEmpty)(s.data))),onClick:function(){a(g),O({}),m()}},Object(c.__)("Apply","woocommerce"))))}}))},Oe=function(e){var t=e.title,r=e.isSelected,a=e.onClick,o=e.is_pro,i=e.isProFeatureLocked,c=e.isLocked;return Object(n.createElement)("div",{className:"bwf-filter-list-item",onClick:function(e){c||o&&i||a(e)}},c?Object(n.createElement)(u.a,{icon:"lock",size:"16",color:re.TEXT_COLOR_2}):o&&i?Object(n.createElement)(v.b,{className:"size-16"}):Object(n.createElement)(u.a,{icon:r?"checkmark-circle-filled":"add-circle",width:"16",height:"16",color:r?re.BLUE_BASE:re.TEXT_COLOR_2}),Object(n.createElement)("span",null,t))},ge=function(e){var t=e.setRule,r=e.op_label,a=e.value,o=void 0===a?"":a,c=e.operators,l=void 0===c?{}:c,u=(e.op_default,e.type),s=e.hideFilters;if("date-range"===u){var b=Object(i.cloneDeep)(W.a);s&&Object.keys(W.a).forEach((function(e){s.includes(e)&&delete b[e]})),l=b}if(Object(i.isEmpty)(l))return null;var d=Object.keys(l).map((function(e){return{key:e,label:l[e]}}));return Object(n.createElement)("div",{className:"bwf-filter-operator-wrap"},Object(n.createElement)("label",null,r),Object(n.createElement)(f.b,{className:"bwf-filter-operator",options:d,onChange:function(e){t(e)},selected:o,bottomFixed:!0}))},je=function(e){var t,r,a=e.type,i=e.options,u=e.value,s=e.setData,b=e.val_label,d=e.operators,p=e.op_label,m=(e.default_options,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o()(t,{"no-operator":!d})});if("select"===a&&i){var v=Object.keys(i).map((function(e){return{key:e,label:i[e]}}));return Object(n.createElement)("div",{className:m("bwf-filter-select-wrap")},b&&Object(n.createElement)("label",null,b),Object(n.createElement)(f.b,{options:v,selected:u,onChange:function(e){return s(e)}}))}return"search"===a?Object(n.createElement)(k,be({},e,{className:m()})):"number"===a?Object(n.createElement)("input",{type:"number",value:u,placeholder:Object(c.__)("Enter value","funnel-builder"),onChange:function(e){return s(e.target.value)},className:m("bwf-number-control")}):"text"===a?Object(n.createElement)(l.TextControl,{value:u,label:p,onChange:function(e){return s(e)},className:m()}):"date-range"===a?Object(n.createElement)(G,be({},e,{className:m()})):"checklist"===a?Object(n.createElement)(X,be({},e,{className:m()})):"search-select"===a?Object(n.createElement)("div",{className:m("bwf-filter-checklist-dropdown-wrap")},b&&Object(n.createElement)("label",null,b),Object(n.createElement)(ne.a,{options:i,label:Object(n.createElement)("span",{className:"bwf-t-overflow-ellipsis",title:null!==(t=null==u?void 0:u.label)&&void 0!==t?t:Object(c.__)("Select","funnel-builder")},null!==(r=null==u?void 0:u.label)&&void 0!==r?r:Object(c.__)("Select","funnel-builder")),selected:null==u?void 0:u.value,onSelect:function(e){s(e)},className:m()})):void 0};t.a=function(e){var t=e.filterList,r=void 0===t?[]:t,a=e.filterData,o=e.setFilterData,c=e.propsToPass,l=e.isLoading,u=e.isLocked,s=Object(te.b)().isProFeatureLocked,f=ue(Object(n.useState)([]),2),b=f[0],d=f[1],p=ue(Object(n.useState)([]),2),m=p[0],v=p[1];if(Object(n.useEffect)((function(){if(!Object(i.isEmpty)(r)){var e=[];r.forEach((function(t){e.push.apply(e,le(null==t?void 0:t.rules))})),v(e.map((function(e){var t="";e.hasOwnProperty("operators")&&(t=Object.keys(null==e?void 0:e.operators)[0]);var r=a.find((function(t){return t.filter===e.slug}));return r||{filter:e.slug,rule:t,data:""}})))}}),[r,a]),Object(n.useEffect)((function(){if(!Object(i.isEmpty)(a)){var e,t=[],n=null===(e=r.find((function(e){return"list"===e.type})))||void 0===e?void 0:e.rules;a.forEach((function(e){if(n&&n.findIndex((function(t){return t.slug===e.filter}))>-1&&Object(i.size)(null==e?void 0:e.data)){var a,o=(null===(a=r.find((function(e){return"list"===e.type})))||void 0===a?void 0:a.rules).find((function(t){return t.slug===e.filter}));t.push(o)}})),d(t)}}),[a,r]),!Object(i.size)(r)||l)return Object(n.createElement)(ee,null);var y=function(e,t,r){var n,c=a.find((function(t){return t.filter===e.filter})),l=a;n=(l=Object(i.isEmpty)(l)?[e]:c?l.map((function(t){return t.filter===c.filter?e:t})):[].concat(le(l),[e])).map((function(e){return e.filter===r?pe(pe({},e),{},{options:t}):e}));var u=l.map((function(e){e.options;return ce(e,ae)})).filter((function(e){return!Object(i.isEmpty)(e.data)}));o(Object(i.isEmpty)(null==e?void 0:e.data)?[]:u,n)},h=function(e){v((function(t){return t.map((function(t){return t.filter===e.filter?e:t}))}))},O=function(e){e.rule="",e.data="",h(e),d((function(t){return t.filter((function(t){return t.slug!==e.filter}))}));var t,r=a.map((function(e){e.options;return ce(e,oe)})).filter((function(t){return t.filter!==e.filter&&!Object(i.isEmpty)(t.data)}));t=a.filter((function(t){return t.filter!==e.filter&&!Object(i.isEmpty)(t.data)})),o(r,t)},g=r.find((function(e){return"sticky"===e.type})),j=r.find((function(e){return"list"===e.type}));return Object(n.createElement)("div",{className:"bwf-filter-wrap"},g&&[].concat(le(null==g?void 0:g.rules),le(b)).map((function(t,r){return Object(n.createElement)(ye,be({},g,e,{propsToPass:c,rule:t,filterData:a,tempFilters:m,updateTempRule:h,setFilter:y,remove:O,key:"sticky-filter-wrap-".concat(r),isProFeatureLocked:s,isLocked:u}))})),j&&Object(n.createElement)(he,be({},j,e,{filterData:a,tempFilters:m,updateTempRule:h,setFilter:y,remove:O,propsToPass:c,isProFeatureLocked:s,isLocked:u})))}},385:function(e,t,r){"use strict";var n=r(0),a=r(15),o=r.n(a),i=r(13),c=r.n(i),l=(r(386),r(329),r(330),r(1)),u=r(6),s=r.n(u),f=r(441),b=r(2),d=r(182),p=r(83),m=(r(341),r(8)),v=r(5),y=(r(296),function(e){var t=e.disabled,r=void 0!==t&&t,a=e.value,o=e.onChange,i=e.dateFormat,c=e.label,l=e.describedBy,u=e.error,f=e.onFocus,d=void 0===f?function(){}:f,p=e.onKeyDown,y=void 0===p?b.noop:p,h=e.errorPosition,O=void 0===h?"bottom center":h,g=s()("bwf-calendar-input",{"is-empty":0===a.length,"is-error":u}),j=Object(b.uniqueId)("_woo-dates-input");return Object(n.createElement)("div",{className:g},Object(n.createElement)("div",{className:"bwf-date-range-input"},Object(n.createElement)("input",{type:"text",className:"bwf-calendar-input-text",value:a,onChange:o,"aria-label":c,id:j,"aria-describedby":"".concat(j,"-message"),placeholder:i,onFocus:d,onKeyDown:y,disabled:r}),Object(n.createElement)("div",{className:"bwf-label"},c)),u&&Object(n.createElement)(m.Popover,{className:"bwf-calendar-input-error bwf-tooltip",focusOnMount:!1,position:O},u),Object(n.createElement)("span",{className:"bwf-calender-custom-icon"},Object(n.createElement)(v.a,{icon:"calender-1",width:"16",height:"16"})),Object(n.createElement)("p",{className:"screen-reader-text",id:"".concat(j,"-message")},u||l))});y.propTypes={disabled:o.a.bool,value:o.a.string,onChange:o.a.func,dateFormat:o.a.string,label:o.a.string,describedBy:o.a.string,error:o.a.string,errorPosition:o.a.string,onFocus:o.a.func,onKeyDown:o.a.func};var h=y,O=r(347),g=r(4);function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function E(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=j(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==j(t)?t:t+""}function k(e,t,r){return t=S(t),function(e,t){if(t&&("object"==j(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],S(e).constructor):t.apply(e,r))}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function P(e,t){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var C=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=k(this,t,[e])).state={lastCurrentMonth:c()(),rangeKey:Object(g.w)()},r.onDatesChange=r.onDatesChange.bind(r),r.onFocusChange=r.onFocusChange.bind(r),r.onInputChange=r.onInputChange.bind(r),r.nodeRef=Object(n.createRef)(),r.keepFocusInside=r.keepFocusInside.bind(r),r.handleEndPrevClick=r.handleEndPrevClick.bind(r),r.handleStartPrevClick=r.handleStartPrevClick.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P(e,t)}(t,e),r=t,(a=[{key:"onDatesChange",value:function(e){var t=e.startDate,r=e.endDate,n=this.props,a=n.onUpdate;n.shortDateFormat,a({after:t,before:r,afterText:t?t.format("MM/DD/YYYY"):"",beforeText:r?r.format("MM/DD/YYYY"):"",afterError:null,beforeError:null})}},{key:"onFocusChange",value:function(e){this.props.onUpdate({focusedInput:e||"startDate"})}},{key:"onInputChange",value:function(e,t){var r=t.target.value,n=this.props,a=n.after,o=n.before,i=(n.shortDateFormat,Object(p.j)(e,r,o,a,"MM/DD/YYYY")),l=i.date,u=i.error;this.setState({lastCurrentMonth:c()(l).add(1,"month")}),this.props.onUpdate(_(_(_({},e,l),e+"Text",r),e+"Error",r.length>0?u:null)),"before"!==e||u||this.setState({rangeKey:Object(g.w)()})}},{key:"setTnitialVisibleMonth",value:function(e,t){return function(){var r=t||c()();return e?r.clone().subtract(1,"month"):r}}},{key:"keepFocusInside",value:function(e,t){var r=this.props.popoverRef;(!t.relatedTarget||!t.relatedTarget.classList.contains("bwf-calendar-input-text")&&null!=r&&r.current&&null!=r&&r.current.contains(t.relatedTarget))&&this.nodeRef.current.querySelector(".DayPicker_focusRegion").focus({preventScroll:!0})}},{key:"handleStartPrevClick",value:function(e){this.setState({lastCurrentMonth:c()(e).add(1,"month")})}},{key:"handleEndPrevClick",value:function(e){this.setState({lastCurrentMonth:c()(e).add(1,"month")})}},{key:"render",value:function(){var e=this,t=this.props,r=t.after,a=t.before,o=t.focusedInput,i=t.afterText,u=t.beforeText,d=t.afterError,p=t.beforeError,y=(t.shortDateFormat,t.isViewportMobile),g=t.isInvalidDate,j=c()().format("MM");return Object(n.createElement)("div",{className:s()("bwf-calendar bwf-date-range-calender",{"is-mobile":y})},Object(n.createElement)("div",{className:"bwf-calendar-inputs"},Object(n.createElement)(h,{value:i,onChange:Object(b.partial)(this.onInputChange,"after"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("Start Date","funnel-builder"),error:d,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's start date in format %s","funnel-builder"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("startDate")}}),Object(n.createElement)("div",{className:"bwf-calendar-inputs-to"},Object(l.__)("to","funnel-builder")),Object(n.createElement)(h,{value:u,onChange:Object(b.partial)(this.onInputChange,"before"),dateFormat:"MM/DD/YYYY",label:Object(l.__)("End Date","funnel-builder"),error:p,describedBy:Object(l.sprintf)(Object(l.__)("Date input describing a selected date range's end date in format %s","funnel-builder"),"MM/DD/YYYY"),onFocus:function(){return e.onFocusChange("endDate")}})),Object(n.createElement)("div",{className:"bwf-date-picker-container bwf-calendar-react-dates",ref:this.nodeRef,onBlur:Object(b.partial)(this.keepFocusInside,"container"),tabIndex:-1},Object(n.createElement)(f.DayPickerRangeController,{onPrevMonthClick:this.handleStartPrevClick,onNextMonthClick:this.handleEndPrevClick,navNext:this.state.lastCurrentMonth.format("MM")===j?Object(n.createElement)("span",{className:"bwf-cursor-text"},Object(n.createElement)(v.a,{height:16,width:16,icon:"angle-right",color:"#9A9898"})):Object(n.createElement)(v.a,{height:16,width:16,icon:"angle-right",color:"#323232"}),navPrev:Object(n.createElement)(v.a,{height:16,width:16,icon:"angle-left",color:"#323232"}),onDatesChange:this.onDatesChange,onFocusChange:this.onFocusChange,focusedInput:o,startDate:r,endDate:a,orientation:"horizontal",numberOfMonths:2,isOutsideRange:function(e){return g&&g(e.toDate())},maxDate:c()().endOf("month"),minimumNights:0,hideKeyboardShortcutsPanel:!0,noBorder:!0,isRTL:Object(l.isRTL)(),initialVisibleMonth:this.setTnitialVisibleMonth(!0,a),phrases:O.a,key:this.state.rangeKey})),Object(n.createElement)("div",{className:"bwf-date-picker-actions"},Object(n.createElement)(m.Button,{isPrimary:!0,disabled:Object(b.isEmpty)(i)||Object(b.isEmpty)(u),className:Object(b.isEmpty)(i)||Object(b.isEmpty)(u)?"bwf-no-ripple":"",onClick:function(){var t={after:i,before:u};e.props.value(t),e.props.onClose()}},Object(l.__)("Done","funnel-builder"))))}}])&&w(r.prototype,a),o&&w(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(n.Component);C.propTypes={after:o.a.object,afterError:o.a.string,afterText:o.a.string,before:o.a.object,beforeError:o.a.string,beforeText:o.a.string,focusedInput:o.a.string,isInvalidDate:o.a.func,onUpdate:o.a.func.isRequired,shortDateFormat:o.a.string.isRequired,losesFocusTo:o.a.instanceOf(Element)};var D=Object(d.withViewportMatch)({isViewportMobile:"< medium",isViewportSmall:"< small"})(C);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,A(n.key),n)}}function A(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=T(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}function x(e,t,r){return t=F(t),function(e,t){if(t&&("object"==T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],F(e).constructor):t.apply(e,r))}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t){return(L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var R=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=x(this,t,[e])).state=r.getResetState(),r.onTabSelect=r.onTabSelect.bind(r),r.onUpdate=r.onUpdate.bind(r),r.controlsRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(t,e),r=t,(a=[{key:"getResetState",value:function(){var e=this.props,t=e.period,r=e.compare,n=e.before,a=e.after;return{period:t,compare:r,before:n,after:a,focusedInput:"startDate",afterText:this.formatDate(a,"MM/DD/YYYY"),beforeText:this.formatDate(n,"MM/DD/YYYY"),afterError:null,beforeError:null}}},{key:"formatDate",value:function(e,t){return e&&e._isAMomentObject&&"function"==typeof e.format?e.format(t):""}},{key:"onUpdate",value:function(e){this.setState(e)}},{key:"onTabSelect",value:function(e){var t=this.props.period;"period"===e&&"custom"===t&&this.onUpdate({period:"today"})}},{key:"isFutureDate",value:function(e){return c()().isBefore(c()(e),"day")}},{key:"render",value:function(){var e=this.props,t=e.onClose,r=e.value,a=e.popoverRef,o=this.state,i=o.after,c=o.before,l=o.focusedInput,u=o.afterText,s=o.beforeText,f=o.afterError,b=o.beforeError;return Object(n.createElement)(D,{after:i,before:c,onUpdate:this.onUpdate,isInvalidDate:this.isFutureDate,focusedInput:l,afterText:u,beforeText:s,afterError:f,beforeError:b,shortDateFormat:"MM/DD/YYYY",losesFocusTo:this.controlsRef.current,onClose:function(){return t()},value:function(e){return r(e)},popoverRef:a})}}])&&N(r.prototype,a),o&&N(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(n.Component);R.propTypes={onClose:o.a.func};t.a=R},389:function(e,t,r){},390:function(e,t,r){},394:function(e,t,r){"use strict";var n=r(3),a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,o=r(338),i=r(395),c=r(396),l="function"==typeof Symbol&&Symbol.iterator;function u(e,t){return e&&"object"==typeof e&&null!=e.key?(r=e.key,n={"=":"=0",":":"=2"},"$"+(""+r).replace(/[=:]/g,(function(e){return n[e]}))):t.toString(36);var r,n}function s(e,t,r,n){var o,c=typeof e;if("undefined"!==c&&"boolean"!==c||(e=null),null===e||"string"===c||"number"===c||"object"===c&&e.$$typeof===a)return r(n,e,""===t?"."+u(e,0):t),1;var f=0,b=""===t?".":t+":";if(Array.isArray(e))for(var d=0;d<e.length;d++)f+=s(o=e[d],b+u(o,d),r,n);else{var p=function(e){var t=e&&(l&&e[l]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(p){0;for(var m,v=p.call(e),y=0;!(m=v.next()).done;)f+=s(o=m.value,b+u(o,y++),r,n)}else if("object"===c){0;var h=""+e;i(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===h?"object with keys {"+Object.keys(e).join(", ")+"}":h,"")}}return f}var f=/\/+/g;function b(e){return(""+e).replace(f,"$&/")}var d,p,m=v,v=function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)},y=function(e){i(e instanceof this,"Trying to release an instance into a pool of a different type."),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)};function h(e,t,r,n){this.result=e,this.keyPrefix=t,this.func=r,this.context=n,this.count=0}function O(e,t,r){var a,i,c=e.result,l=e.keyPrefix,u=e.func,s=e.context,f=u.call(s,t,e.count++);Array.isArray(f)?g(f,c,r,o.thatReturnsArgument):null!=f&&(n.isValidElement(f)&&(a=f,i=l+(!f.key||t&&t.key===f.key?"":b(f.key)+"/")+r,f=n.cloneElement(a,{key:i},void 0!==a.props?a.props.children:void 0)),c.push(f))}function g(e,t,r,n,a){var o="";null!=r&&(o=b(r)+"/");var i=h.getPooled(t,o,n,a);!function(e,t,r){null==e||s(e,"",t,r)}(e,O,i),h.release(i)}h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},d=function(e,t,r,n){if(this.instancePool.length){var a=this.instancePool.pop();return this.call(a,e,t,r,n),a}return new this(e,t,r,n)},(p=h).instancePool=[],p.getPooled=d||m,p.poolSize||(p.poolSize=10),p.release=y;e.exports=function(e){if("object"!=typeof e||!e||Array.isArray(e))return c(!1,"React.addons.createFragment only accepts a single object. Got: %s",e),e;if(n.isValidElement(e))return c(!1,"React.addons.createFragment does not accept a ReactElement without a wrapper object."),e;i(1!==e.nodeType,"React.addons.createFragment(...): Encountered an invalid child; DOM elements are not valid children of React components.");var t=[];for(var r in e)g(e[r],t,r,o.thatReturnsArgument);return t}},395:function(e,t,r){"use strict";e.exports=function(e,t,r,n,a,o,i,c){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,a,o,i,c],s=0;(l=new Error(t.replace(/%s/g,(function(){return u[s++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},396:function(e,t,r){"use strict";var n=r(338);e.exports=n},397:function(e,t,r){"use strict";function n(e){return e.match(/^\{\{\//)?{type:"componentClose",value:e.replace(/\W/g,"")}:e.match(/\/\}\}$/)?{type:"componentSelfClosing",value:e.replace(/\W/g,"")}:e.match(/^\{\{/)?{type:"componentOpen",value:e.replace(/\W/g,"")}:{type:"string",value:e}}e.exports=function(e){return e.split(/(\{\{\/?\s*\w+\s*\/?\}\})/g).map(n)}},407:function(e,t,r){"use strict";var n=r(0),a=r(6),o=r.n(a),i=r(5),c=(r(421),r(75)),l=r(131),u=r(65),s=r(2),f=r(1);function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=[{key:"",label:Object(f.__)("No result found","funnel-builder"),disabled:!0}];t.a=function(e){var t=e.label,r=e.className,a=e.options,f=e.searchText,d=void 0===f?"":f,m=e.onSearch,v=e.isLoading,y=e.selected,h=void 0===y?{}:y,O=e.onSelect,g=void 0===O?function(){}:O,j=e.title,_=b(Object(n.useState)(d),2),w=_[0],E=_[1],k=Object(n.useCallback)((function(e){var t=e.onToggle,r=a.filter((function(e){var t;return-1!==(null===(t=e.label)||void 0===t?void 0:t.toLowerCase().indexOf(null==w?void 0:w.toLowerCase()))}));return(Object(s.isEmpty)(r)?p:r).map((function(e,r){return Object(n.createElement)(u.a,{key:"funnel-".concat(r),isClickable:!e.disabled,onInvoke:function(){g(e),t()},title:e.label},Object(n.createElement)("span",{className:"bwf-whitespace-wrap"},e.label),e.key===h&&Object(n.createElement)(i.a,{icon:"tick",height:"16",width:"16"}))}))}),[h,a,w]);return Object(n.createElement)(c.a,{label:j,menuPosition:"bottom left",classes:"components-button is-secondary-gray",wrapperClasses:o()("bwf-checklist__dropdown is-from-bottom-only",r),buttonLabel:Object(n.createElement)(n.Fragment,null,t,Object(n.createElement)(i.a,{icon:"angle-down",height:"12",width:"12"})),renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(l.a,{query:{s:null!=d?d:w},setSearchData:function(e){m?m(e):E(e)},showResultCount:!1,isLoading:v}),k({onToggle:t}))}})}},408:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(6),i=r.n(o),c=r(1213),l=r(2),u=r(480),s=r.n(u),f=r(8),b=r(1227),d=r(524),p=r(182),m=r(12),v=r(15),y=r.n(v),h=r(42);function O(e){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_(n.key),n)}}function _(e){var t=function(e,t){if("object"!=O(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=O(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==O(t)?t:t+""}function w(e,t,r){return t=E(t),function(e,t){if(t&&("object"==O(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],E(e).constructor):t.apply(e,r))}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t){return(k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var S=function(e){function t(){return g(this,t),w(this,t,arguments)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),r=t,(a=[{key:"render",value:function(){var e=this.props.height,t=void 0===e?0:e;return Object(n.createElement)("div",{"aria-hidden":"true",className:"bwf-chart-placeholder",style:{height:t}},Object(n.createElement)(h.a,{size:"xl"}))}}])&&j(r.prototype,a),o&&j(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(n.Component);S.propTypes={height:y.a.number};var P=S,C=r(300),D=(r(444),r(1228)),T=r(1208);r(445);function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function x(e){var t=function(e,t){if("object"!=N(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=N(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==N(t)?t:t+""}function F(e,t,r){return t=L(t),function(e,t){if(t&&("object"==N(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],L(e).constructor):t.apply(e,r))}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t){return(R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var I=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=F(this,t,[e])).chartRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(t,e),r=t,(a=[{key:"componentDidMount",value:function(){this.drawUpdatedChart()}},{key:"shouldComponentUpdate",value:function(e){return this.props.className!==e.className||!Object(l.isEqual)(this.props.data,e.data)||!Object(l.isEqual)(this.props.orderedKeys,e.orderedKeys)||this.props.drawChart!==e.drawChart||this.props.height!==e.height||this.props.chartType!==e.chartType||this.props.width!==e.width||this.props.chartMeta!==e.chartMeta}},{key:"componentDidUpdate",value:function(){this.drawUpdatedChart()}},{key:"componentWillUnmount",value:function(){this.deleteChart()}},{key:"delayedScroll",value:function(){var e=this.props.tooltip;return Object(l.throttle)((function(){e&&e.hide()}),300)}},{key:"deleteChart",value:function(){Object(T.a)(this.chartRef.current).selectAll("svg").remove()}},{key:"drawUpdatedChart",value:function(){(0,this.props.drawChart)(this.getContainer())}},{key:"getContainer",value:function(){var e=this.props,t=e.className,r=e.height,n=e.width;this.deleteChart();var a=Object(T.a)(this.chartRef.current).append("svg").attr("viewBox","0 0 ".concat(n," ").concat(r)).attr("height",r).attr("width",n).attr("preserveAspectRatio","xMidYMid meet");return t&&a.attr("class","".concat(t,"__viewbox")),a.append("g")}},{key:"render",value:function(){var e=this.props.className;return Object(n.createElement)("div",{className:i()("d3-base",e),ref:this.chartRef,onScroll:this.delayedScroll()})}}])&&A(r.prototype,a),o&&A(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(n.Component);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}I.propTypes={className:y.a.string,data:y.a.array,orderedKeys:y.a.array,tooltip:y.a.object,chartType:y.a.string};var Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.b;return"function"==typeof e?e:t(e)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new Set(e.reduce((function(e,t){return e.concat(Object.keys(t))}),[]));return B(t).filter((function(e){return"date"!==e}))},K=r(1229),z=r(1212),H=r(1219),G=r(13),W=r.n(G);function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var X=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(K.a)().domain(e.filter((function(e){return e.visible})).map((function(e){return e.key}))).rangeRound([0,t.bandwidth()]).padding(r?0:.07)},Z=function(e,t){return Object(z.a)().domain([W()(e[0],"YYYY-MM-DD HH:mm").toDate(),W()(e[e.length-1],"YYYY-MM-DD HH:mm").toDate()]).rangeRound([0,t])},J=function(e){var t=function(e){var t=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;return e.forEach((function(e){for(var n=0,a=Object.entries(e);n<a.length;n++){var o=$(a[n],2),i=o[0],c=o[1];"date"!==i&&Number.isFinite(c.value)&&c.value>t&&(t=c.value),"date"!==i&&Number.isFinite(c.value)&&c.value<r&&(r=c.value)}})),{upper:t,lower:r}}(e),r=t.lower,n=t.upper,a=function(e,t){if(!Number.isFinite(e)||!Number.isFinite(t))return 1;if(0===t&&0===e)return 1/3;if(0===e&&t>0&&t<=1)return Math.pow(10,Math.floor(Math.log10(t)))/2;var r=Math.max(-e,t),n=3*Math.pow(10,(Math.log(r)*Math.LOG10E+1|0)-2),a=Math.ceil(r/n)*n/3;return t<1&&e>-1?Math.round(4*a)/4:Math.ceil(a)}(r,n),o={lower:0,upper:0,step:a};return(Number.isFinite(r)||r<0)&&(o.lower=Math.floor(r/a)*a,o.lower===r&&0!==r&&(o.lower-=a)),(Number.isFinite(n)||n>0)&&(o.upper=a<=1?4:4*a,o.upper===n&&0!==n&&(o.upper+=a)),o},ee=r(1224),te=function(e){for(var t=[],r=1;r<=Math.floor(Math.sqrt(e));r++)e%r==0&&(t.push(r),e/r!==r&&t.push(e/r));return t.sort((function(e,t){return e-t})),t},re=function(e,t,r,n){var a,o=function(e,t){if(e<783)return 7;if(e>=783&&e<=1130)return 12;if(e>1130&&e<=1365){if("time-comparison"===t)return 16;if("item-comparison"===t)return 12}else if(e>1365){if("time-comparison"===t)return 31;if("item-comparison"===t)return 16}return 16}(t,r);return(e.length>=63&&"day"===n||e.length>=9&&"week"===n)&&(e=(a=e).filter((function(e,t){return 0===t||W()(e).toDate().getMonth()!==W()(a[t-1]).toDate().getMonth()}))),e.length<=o||"hour"===n&&function(e){var t=W()(e[0]).toDate(),r=W()(e[e.length-1]).toDate();return t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}(e)&&t>783?e:function(e,t){for(var r=[],n=0;n<e.length;n+=t)r.push(e[n]);return r[0]!==e[0]&&r.unshift(e[0]),r}(e,function(e,t){for(var r=[],n=1;r.length<=3;)r=te(e.length-n),n+=1;return r.find((function(r){return e.length/r<t}))}(e,o))},ne=function(e,t,r,n){var a=W()(e).toDate(),o=0!==t?r[t-1]:r[t];return o=o instanceof Date?o:W()(o).toDate(),0===t?n(a):function(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new RegExp([" |,"],"g"),n=e.split(r),a=t.split(r),o=new Array,i=e.length>t.length?n:a,c=0;c<i.length;c++)n[c]!==a[c]&&o.push(a[c]);return o}(n(o),n(a)).join(" ")},ae=r(4);function oe(e){return function(e){if(Array.isArray(e))return ie(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(e,t,r){for(var n=[],a=0;a<e;a++){var o=(a+1)/e*t,i=r?Math.round(o):o;n[n.length-1]!==i&&n.push(i)}return n},le=function(e,t,r){return[0].concat(oe(function(e,t){if(e>=0)return[];var r=Math.ceil(-e/t);return ce(r,e,e<-1)}(e,r)),oe(function(e,t){if(e<=0)return[];var r=Math.ceil(e/t);return ce(r,e,e>1)}(t,r)))},ue=function(e,t,r,n,a,o){Object(ae.A)();var i=le(t.yScale.domain()[0],t.yScale.domain()[1],t.step),c=t.xScale.range()[1],l=a?c+n.left+n.right+35:-n.left/2-15,u=t.yMin>=0||t.yMax>0?" with-positive-ticks":"";e.append("g").attr("class","grid"+u).attr("transform","translate(0, 0)").call(Object(ee.b)(t.yScale).tickValues(i).tickSize(-c-n.left-n.right).tickFormat("")),e.append("g").attr("class","axis y-axis").attr("aria-hidden","true").attr("transform","translate("+l+", 0)").attr("text-anchor","start").call(Object(ee.b)(t.yScale).tickValues(0===t.yMax&&0===t.yMin?[i[0]]:i).tickFormat((function(e){return e>-1&&e<1&&r.yBelow1Format?r.yBelow1Format(e):o&&!o.isCurrency?r.yFormat(e):(t=r.yFormat(e),"left"===(null==(a=null!==(n=wffn_contacts_data.currency)&&void 0!==n?n:{symbol:""})?void 0:a.symbolPosition)?(null==a?void 0:a.symbol)+t:t+(null==a?void 0:a.symbol));var t,n,a})))},se=function(e,t,r,n,a,o,i){!function(e,t,r,n){var a=r.yScale.range()[0],o=re(t.uniqueDates,r.xScale.range()[1],t.mode,t.interval);"line"!==t.chartType&&"curve-line"!==t.chartType||(o=o.map((function(e){return W()(e).toDate()}))),e.append("g").attr("class","axis").attr("aria-hidden","true").attr("transform","translate(0, ".concat(a+10,")")).call(Object(ee.a)(r.xScale).tickValues(o).tickFormat((function(e,r){return"hour"===t.interval?n.xFormat(e instanceof Date?e:W()(e).toDate()):ne(e,r,o,n.xFormat)}))),"day"===t.interval&&e.append("g").attr("class","axis axis-month").attr("aria-hidden","true").attr("transform","translate(0, ".concat(a+("day"===t.interval?30:0),")")).call(Object(ee.a)(r.xScale).tickValues(o).tickFormat((function(e,t){return ne(e,t,o,n.x2Format)}))),e.append("g").attr("class","pipes").attr("transform","translate(0, ".concat(a,")")).call(Object(ee.a)(r.xScale).tickValues(o).tickSize(5).tickFormat(""))}(e,t,r,n),ue(e,r,n,a,o,i),e.selectAll(".domain").remove(),e.selectAll(".axis .tick line").remove()},fe=r(1114),be=r(1124);function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(r),!0).forEach((function(t){ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ve(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=de(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=de(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==de(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ye=function(e,t,r,n,a,o){var i,c,u=n.yScale.range()[0],s=n.xScale.range()[1],f=(i=n.xScale,c=n.yScale,Object(be.a)().x((function(e){return i(W()(e.date).toDate())})).y((function(e){return c(e.value)}))),b=function(e,t){return t.map((function(t){return{key:t.key,focus:t.focus,visible:t.visible,label:t.label,values:e.map((function(e){return{date:e.date,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,visible:t.visible}}))}}))}(t,r.visibleKeys),d=e.append("g").attr("class","lines").selectAll(".line-g").data(b.filter((function(e){return e.visible})).reverse()).enter().append("g").attr("class","line-g").attr("role","region").attr("aria-label",(function(e){return e.label||e.key})),p=function(e,t,r,n,a){var o=r.slice().reverse();return t.map((function(r,i){var c=Object(l.first)(e.filter((function(e){return e.date===r}))),u=a(W()(r).toDate()),s=a(i>=1?W()(t[i-1]).toDate():W()(t[0]).toDate()),f=i<t.length-1?a(W()(t[i+1]).toDate()):a(W()(t[t.length-1]).toDate()),b=0===i?f-u:u-s,d=0===i?0:u-b/2;return b=0===i||i===t.length-1?b/2:b,{date:r,start:t.length>1?d:0,width:t.length>1?b:n,values:o.map((function(e){var t=e.key,n=c[t];return n?{key:t,value:n.value,date:r}:null})).filter(Boolean)}}))}(t,r.uniqueDates,r.visibleKeys,s,n.xScale),m=s<=1365||r.uniqueDates.length>50?2:3;m=s<=783?1.25:m;var v=s<=1365?4:6;r.uniqueDates.length>1&&d.append("path").attr("fill","none").attr("stroke-width",m).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke",(function(e){return r.getColor(e.key)})).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("d",(function(e){return f(e.values)}));s/r.uniqueDates.length>36&&d.selectAll("circle").data((function(e,t){return e.values.map((function(r){return me(me({},r),{},{i:t,visible:e.visible,key:e.key})}))})).enter().append("circle").attr("r",v).attr("fill",(function(e){return r.getColor(e.key)})).attr("stroke","#fff").attr("stroke-width",m+1).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})).attr("tabindex","0").attr("aria-label",(function(e){var t=a.screenReaderFormat(e.date instanceof Date?e.date:W()(e.date).toDate());return"".concat(t," ").concat(o.valueFormat(e.value))})).on("focus",(function(e,r,n){o.show(t.find((function(t){return t.date===e.date})),n[r].parentNode,fe.b.target)})).on("blur",(function(){return o.hide()}));var y=e.append("g").attr("class","focusspaces").selectAll(".focus").data(p).enter().append("g").attr("class","focus"),h=y.append("g").attr("class","focus-grid").attr("opacity","0");h.append("line").attr("x1",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y1",0).attr("x2",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y2",u),h.selectAll("circle").data((function(e){return e.values})).enter().append("circle").attr("r",v+2).attr("fill",(function(e){return r.getColor(e.key)})).attr("stroke","#fff").attr("stroke-width",m+2).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})),y.append("rect").attr("class","focus-g").attr("x",(function(e){return e.start})).attr("y",0).attr("width",(function(e){return e.width})).attr("height",u).attr("opacity",0).on("mouseover",(function(e,n,a){var i=(0===n||n===p.length-1)&&r.uniqueDates.length>1?0:.5;o.show(t.find((function(t){return t.date===e.date})),fe.b.target,a[n].parentNode,i)})).on("mouseout",(function(){return o.hide()}))},he=[[],[.5],[.333,.667],[.2,.5,.8],[.12,.375,.625,.88],[0,.25,.5,.75,1]],Oe=function(e,t){return function(r){var n=e.length>5?5:e.length,a=Object(l.findIndex)(e,(function(e){return e.key===r})),o=a<=4?he[n][a]:0;return t(o)}};function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_e(n.key),n)}}function _e(e){var t=function(e,t){if("object"!=ge(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ge(t)?t:t+""}var we=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.ref=null,this.chart=null,this.position="",this.title="",this.labelFormat="",this.valueFormat="",this.visibleKeys="",this.getColor=null,this.interval="",this.margin=24,this.chartMeta={},this.type="old",this.isProFeatureLocked=!1,this.component=!1},(t=[{key:"calculateXPosition",value:function(e,t,r){var n=this.ref.getBoundingClientRect(),a=this.ref.parentNode.querySelector(".d3-base").getBoundingClientRect(),o=Math.max(a.left,t.left);if("below"===this.position)return Math.max(this.margin,Math.min(e.left+.5*e.width-n.width/2-o,a.width-n.width-this.margin));var i=e.left+e.width*r+this.margin-o;return i+n.width+this.margin>a.width?Math.max(this.margin,e.left+e.width*(1-r)-n.width-this.margin-o):i}},{key:"calculateYPosition",value:function(e,t){if("below"===this.position)return t.height;var r=this.ref.getBoundingClientRect(),n=e.top+this.margin-t.top;return n+r.height+this.margin>t.height?Math.max(0,e.top-r.height-this.margin-t.top):n}},{key:"calculatePosition",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=e.getBoundingClientRect(),o=this.chart.getBoundingClientRect(),i=this.ref.getBoundingClientRect();return"below"===this.position&&(t=0),{x:r<50||r>o.width-220?this.calculateXPosition(a,o,t):r-i.width/4,y:n-("new"===this.type?.65*i.height:i.height)}}},{key:"hide",value:function(){Object(T.a)(this.chart).selectAll(".barfocus, .focus-grid").attr("opacity","0"),Object(T.a)(this.ref).style("visibility","hidden")}},{key:"getTooltipRowLabel",value:function(e,t){return e[t.key].labelDate?this.labelFormat(W()(e[t.key].labelDate).toDate()):t.label||t.key}},{key:"show",value:function(e,t,r){var a=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,i=arguments.length>4?arguments[4]:void 0,c=arguments.length>5?arguments[5]:void 0;if(this.visibleKeys.length){Object(T.a)(r).select(".focus-grid, .barfocus").attr("opacity","1");var l=this.calculatePosition(t,o,i,c),u=(this.visibleKeys.map((function(t){return'\n\t\t\t\t\t<li class="key-row">\n\t\t\t\t\t\t<div class="key-container">\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclass="key-color"\n\t\t\t\t\t\t\t\tstyle="background-color: '.concat(a.getColor(t.key),'">\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span class="key-key">').concat(a.getTooltipRowLabel(e,t),'</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span class="key-value">').concat(a.valueFormat(e[t.key].value),"</span>\n\t\t\t\t\t</li>\n\t\t\t\t")})),this.title?this.title:this.labelFormat(W()(e.date).toDate()),Object(ae.A)()),s=function(e){return"year"===a.interval?W()(e).year():W()(e).format("month"===a.interval?"MMM YYYY":Object(ae.Z)())},f=function(t){var r,o,i,c,l,f,b,d,p,m,v,y=a.visibleKeys[0].key;if(a.component){var h,O=a.component;return'<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t\t\t'.concat(Object(n.renderToString)(Object(n.createElement)(O,{data:e[y]})),'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t\t\t<div>').concat(a.chartMeta.title,"</div>\n\t\t\t\t\t\t\t\t<div>").concat(s(null===(h=e[y])||void 0===h?void 0:h.labelDate),"</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>")}switch(t){case"old":return 1===a.visibleKeys.length?'\n\t\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-value">\n\t\t\t\t\t\t\t\t'.concat(a.chartMeta&&!a.chartMeta.isCurrency?e[y].value:u.formatAmount(e[y].value),'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t\t<div>').concat(a.chartMeta.title,"</div>\n\t\t\t\t\t\t\t<div>").concat(s(null===(r=e[y])||void 0===r?void 0:r.labelDate),"</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t"):'\n\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val bwf-mb-16">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="color" style="background: #0073AA;"></div>\n\t\t\t\t\t\t\t\t<div class="label">'.concat(s(null===(o=e.primary)||void 0===o?void 0:o.labelDate),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t').concat(a.chartMeta&&!a.chartMeta.isCurrency?e.primary.value:u.formatAmount(e.primary.value),'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<div class="color" style="background: #F5C452;"></div>\n\t\t\t\t\t\t\t\t<div class="label">').concat(s(null===(i=e.secondary)||void 0===i?void 0:i.labelDate),'</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t').concat(a.chartMeta&&!a.chartMeta.isCurrency?e.secondary.value:u.formatAmount(e.secondary.value),'\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t<div>').concat(a.chartMeta.title,"</div>\n\t\t\t\t\t\t<div>").concat(s(null===(c=e.primary)||void 0===c?void 0:c.labelDate),"</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t");case"new":return 1===a.visibleKeys.length?'\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-value">\n\t\t\t\t\t\t\t\t\t\t'.concat(u.formatAmount(e[y].value),'\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-sec-values">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">Checkout</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="value">').concat(u.formatAmount(null===(l=e[y].data)||void 0===l?void 0:l.checkout),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">Order Bump</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="value">').concat(a.isProFeatureLocked?"-":u.formatAmount(null===(f=e[y].data)||void 0===f?void 0:f.orderBump),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">Upsell</div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="value">').concat(a.isProFeatureLocked?"-":u.formatAmount(null===(b=e[y].data)||void 0===b?void 0:b.upsell),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t\t\t\t<div>').concat(null===(d=e[y].data)||void 0===d?void 0:d.orders," Orders</div>\n\t\t\t\t\t\t\t\t\t<div>").concat(s(e.date),"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"):'\n\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-wrap">\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-body">\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val bwf-mb-16">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="color" style="background: #0073AA;"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label" >'.concat(s(null===(p=e.primary)||void 0===p?void 0:p.labelDate),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t\t\t\t').concat(u.formatAmount(e.primary.value),'\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-multi-val">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="color" style="background: #F5C452;"></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class="label">').concat(s(null===(m=e.secondary)||void 0===m?void 0:m.labelDate),'</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="value">\n\t\t\t\t\t\t\t\t\t\t\t').concat(u.formatAmount(e.secondary.value),'\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="bwf-chart-tooltip-footer">\n\t\t\t\t\t\t\t\t\t<div></div>\n\t\t\t\t\t\t\t\t\t<div>').concat(s(null===(v=e.primary)||void 0===v?void 0:v.labelDate),"</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t")}};Object(T.a)(this.ref).style("left",l.x+"px").style("top",l.y+"px").style("visibility","visible").html(f(this.type))}}}])&&je(e.prototype,t),r&&je(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,r}(),Ee=r(1203),ke=r(1204),Se=r(18);function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Te(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Pe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Pe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t="";switch(e){case 0:t=Se.BLUE_BASE;break;case 1:t=Se.NOTICE_YELLOW;break;case 2:t="#F5C452";break;default:t=Se.BLUE_BASE}return t},Ae=function(e,t,r,n,a,o,i){var c,u,s=n.yScale.range()[0],f=n.xScale.range()[1],b=(c=n.xScale,u=n.yScale,Object(be.a)().curve(Ee.a).x((function(e){return c(W()(e.date).toDate())})).y((function(e){return u(e.value)}))),d=function(e,t){return t.map((function(t){return{key:t.key,focus:t.focus,visible:t.visible,label:t.label,values:e.map((function(e){return{date:e.date,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,visible:t.visible}}))}}))}(t,r.visibleKeys),p=e.append("g").attr("class","lines").selectAll(".line-g").data(d.filter((function(e){return e.visible})).reverse()).enter().append("g").attr("class","line-g").attr("role","region").attr("aria-label",(function(e){return e.label||e.key})),m=function(e,t,r,n,a){var o=r.slice().reverse();return t.map((function(r,i){var c=Object(l.first)(e.filter((function(e){return e.date===r}))),u=a(W()(r).toDate()),s=a(i>=1?W()(t[i-1]).toDate():W()(t[0]).toDate()),f=i<t.length-1?a(W()(t[i+1]).toDate()):a(W()(t[t.length-1]).toDate()),b=0===i?f-u:u-s,d=0===i?0:u-b/2;return b=0===i||i===t.length-1?b/2:b,{date:r,start:t.length>1?d:0,width:t.length>1?b:n,values:o.map((function(e){var t=e.key,n=c[t];return n?{key:t,value:n.value,date:r}:null})).filter(Boolean)}}))}(t,r.uniqueDates,r.visibleKeys,f,n.xScale),v=p.append("defs");p.append("g").attr("class","line-group").each((function(e,t){var r,a=Object(T.a)(this),o=Object(l.findIndex)(i,(function(t){return t.key===e.key})),c=Ne(o),u=(r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null,f="grad-".concat(e.key,"-").concat(t),d=v.append("linearGradient").attr("id",f).attr("x1","0%").attr("x2","0%").attr("y1","0%").attr("y2","100%");[{offset:"0%",opacity:.02},{offset:"20%",opacity:.03},{offset:"50%",opacity:.04},{offset:"80%",opacity:.02},{offset:"100%",opacity:0}].forEach((function(e){d.append("stop").attr("offset",e.offset).style("stop-color","rgba(".concat(u.r,", ").concat(u.g,", ").concat(u.b,", ").concat(e.opacity,")"))}));var p=Object(ke.a)().curve(Ee.a).x((function(e){return n.xScale(W()(e.date).toDate())})).y0(s).y1((function(e){return n.yScale(e.value)}));a.append("path").attr("class","area").attr("d",p(e.values)).attr("fill","url(#".concat(f,")")).style("opacity",1),a.append("path").attr("fill","none").attr("stroke-width",2).attr("stroke-linejoin","round").attr("stroke-linecap","round").attr("stroke",c).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).attr("d",b(e.values))}));var y=2;y=f<=783?2:y;var h=f<=1365?4:6;f/r.uniqueDates.length>36&&p.selectAll("circle").data((function(e,t){return e.values.map((function(r){return De(De({},r),{},{i:t,visible:e.visible,key:e.key})}))})).enter().append("circle").attr("r",h).attr("fill",(function(e){return"#0073aa"})).attr("stroke","#fff").attr("stroke-width","4px").style("opacity",(function(e){e.focus;return 0})).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})).attr("tabindex","0").attr("aria-label",(function(e){var t=a.screenReaderFormat(e.date instanceof Date?e.date:W()(e.date).toDate());return"".concat(t," ").concat(o.valueFormat(e.value))})).on("focus",(function(e,t,r){})).on("blur",(function(){return o.hide()}));var O=e.append("g").attr("class","focusspaces").selectAll(".focus").data(m).enter().append("g").attr("class","focus"),g=O.append("g").attr("class","focus-grid").attr("opacity","0");g.selectAll(null).data((function(e){return e.values})).enter().append("line").attr("x1",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y1",(function(e){return n.yScale(e.value)})).attr("x2",(function(e){return n.xScale(W()(e.date).toDate())})).attr("y2",s),g.selectAll("circle").data((function(e){return e.values})).enter().append("circle").attr("r",h+2).attr("fill",(function(e){var t=Object(l.findIndex)(i,(function(t){return t.key===e.key}));return Ne(t)})).attr("stroke","#fff").style("filter","url(#glow)").attr("stroke-width",y).attr("cx",(function(e){return n.xScale(W()(e.date).toDate())})).attr("cy",(function(e){return n.yScale(e.value)})),O.append("rect").attr("class","focus-g").attr("x",(function(e){return e.start})).attr("y",0).attr("width",(function(e){return e.width})).attr("height",s).attr("opacity",0).on("mouseover",(function(e,a,c){var l,u,s,f,b,d,p=(0===a||a===m.length-1)&&r.uniqueDates.length>1?0:.5,v=e.values.sort((function(e,t){return(null==i?void 0:i.findIndex((function(t){return(null==t?void 0:t.key)===(null==e?void 0:e.key)})))-(null==i?void 0:i.findIndex((function(e){return(null==e?void 0:e.key)===(null==t?void 0:t.key)})))})),y=null!==(l=null===(u=v[0])||void 0===u?void 0:u.value)&&void 0!==l?l:0,h=null!==(s=null===(f=v[1])||void 0===f?void 0:f.value)&&void 0!==s?s:0,O=null!==(b=null===(d=v[2])||void 0===d?void 0:d.value)&&void 0!==b?b:0;o.show(t.find((function(t){return t.date===e.date})),fe.b.target,c[a].parentNode,p,n.xScale(W()(e.date).toDate()),n.yScale(Math.max(y,h,O)))})).on("mouseout",(function(){return o.hide()}))},xe=r(1223),Fe=r(1205),Le=r(1122),Re=r(289);function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Be(n.key),n)}}function Be(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ie(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}function qe(e,t,r){return t=Ue(t),function(e,t){if(t&&("object"==Ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],Ue(e).constructor):t.apply(e,r))}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ye(e,t){return(Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ve=function(){return"rtl"===document.documentElement.dir},Ke=function(e){function t(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=qe(this,t,[e])).drawChart=r.drawChart.bind(r),r.getParams=r.getParams.bind(r),r.tooltipRef=Object(n.createRef)(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(t,e),r=t,(a=[{key:"getFormatParams",value:function(){var e=this.props,t=e.screenReaderFormat,r=e.xFormat,n=e.x2Format,a=e.yFormat,o=e.yBelow1Format;return{screenReaderFormat:Y(t,D.a),xFormat:Y(r,D.a),x2Format:Y(n,D.a),yBelow1Format:Y(o),yFormat:Y(a)}}},{key:"getScaleParams",value:function(e){var t=this.props,r=t.data,n=t.height,a=t.orderedKeys,o=t.chartType,i=this.getMargin(),c=n-i.top-i.bottom,l=this.getWidth()-i.left-i.right,u=J(r),s=u.upper,f=u.lower,b=u.step,d=function(e,t,r){return Object(H.a)().domain([Math.min(t,0),0===r&&0===t?1:Math.max(r,0)]).rangeRound([e,0])}(c,f,s);if("line"===o||"curve-line"===o)return{step:b,xScale:Z(e,l),yMax:s,yMin:f,yScale:d};var p=this.shouldBeCompact(),m=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(K.a)().domain(e).range([0,t]).paddingInner(r?0:.1)}(e,l,p);return{step:b,xGroupScale:X(a,m,p),xScale:m,yMax:s,yMin:f,yScale:d}}},{key:"getParams",value:function(e){var t=this.props,r=t.chartType,n=t.colorScheme,a=t.data,o=t.interval,i=t.mode,c=t.orderedKeys||function(e){return V(e).map((function(t){return{key:t,focus:!0,total:e.reduce((function(e,r){return e+r[t].value}),0),visible:!0}})).sort((function(e,t){return t.total-e.total}))}(a),l=c.filter((function(e){return e.visible})),u=c.length>5?l:c;return{getColor:Oe(u,n),interval:o,mode:i,chartType:r,uniqueDates:e,visibleKeys:l}}},{key:"createTooltip",value:function(e,t,r){var n=this.props,a=n.tooltipLabelFormat,o=n.tooltipPosition,i=n.tooltipTitle,c=n.tooltipValueFormat,l=n.interval,u=n.chartMeta,s=n.toopTipComponent,f=new we;f.ref=this.tooltipRef.current,f.type=u?"old":"new",f.chart=e,f.position=o,f.title=i,f.labelFormat=Y(a,D.a),f.valueFormat=Y(c),f.visibleKeys=r,f.getColor=t,f.interval=l,f.chartMeta=u,f.isProFeatureLocked=this.props.isProFeatureLocked,f.component=s,this.tooltip=f}},{key:"drawChart",value:function(e){var t,r=this.props,n=r.data,a=r.dateParser,o=r.chartType,i=r.emptyText,c=r.chartMeta,u=r.chartId,s=r.orderedKeys,f=this.getMargin(),b=e.attr("id","chart").append("g").attr("transform","translate(".concat(f.left,", ").concat(f.top,")"));if("donut"===o)return null===(t=Object(T.a)("#".concat(u," .d3-donut-tip")).node())||void 0===t||t.remove(),void function(e,t,r){var n=r.width,a=void 0===n?640:n,o=r.height,i=void 0===o?400:o,c=(r.margin,r.emptyText),u=void 0===c?"":c,s=r.chartId,f=r.donutTip,b=Math.min(a,i)/2+35,d=t.reduce((function(e,t){return e+(t.value||0)}),0),p=d?t:[{key:"dummy",value:100,color:["#DEDFEA","#DEDFEA"]}],m=Object(Le.a)().domain(p.map((function(e){return e.key}))).range(p.map((function(e){return e.color&&Object(l.isArray)(e.color)?e.color[0]:Se.TEXT_COLOR_3}))),v=Object(xe.a)().sort(null).value((function(e){return e.value}))(p),y=Object(Fe.a)().innerRadius(.52*b).outerRadius(.8*b),h=Object(Fe.a)().innerRadius(.52*(b+2)).outerRadius(.8*(b+8));Object(Fe.a)().innerRadius(.9*b).outerRadius(.9*b),e.attr("transform","translate("+a/2+","+i/2+")");var O=e.append("defs").append("filter").attr("id","drop-shadow").attr("height","130%");O.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",2).attr("result","blur"),O.append("feFlood").attr("flood-color","#323247").attr("flood-opacity","0.5").attr("result","offsetColor"),O.append("feOffset").attr("in","blur").attr("dx",1).attr("dy",1).attr("result","offsetBlur"),O.append("feComposite").attr("in","offsetColor").attr("in2","offsetBlur").attr("result","offsetBlur").attr("operator","in");var g=O.append("feMerge");g.append("feMergeNode").attr("in","offsetBlur"),g.append("feMergeNode").attr("in","SourceGraphic");var j=function(e){if(d){Object(T.a)("#slice-"+e.data.key).attr("d",h).attr("filter","url(#drop-shadow");var t=e.data.tooltip;Object(T.a)("#".concat(s," .d3-donut-tip")).style("opacity",1),f.html(t).style("opacity",1).style("left",fe.b.layerX-50+"px").style("top",fe.b.layerY+10+"px")}},_=function(e){Object(T.a)("#slice-"+e.data.key).attr("d",y).attr("filter",""),Object(T.a)("#".concat(s," .d3-donut-tip")).style("opacity",0)};e.selectAll("allSlices").data(v).enter().append("path").attr("id",(function(e){return"slice-"+e.data.key})).attr("d",y).attr("fill",(function(e){return m(e.data.key)})).style("stroke-width","0").on("mousemove",j).on("mouseleave",_),e.selectAll("allValues").data(v).enter().append("text").text((function(e){return e.data.value>4?e.data.value<10&&e.data.value%1?Math.floor(e.data.value)+"%":e.data.value+"%":""})).attr("id",(function(e){return"value-"+e.data.key})).attr("class","slice-value").attr("transform",(function(e){return"translate("+y.centroid(e)+")"})).style("text-anchor","middle").style("fill",(function(e){return e.data.color&&Object(l.isArray)(e.data.color)?e.data.color[1]:"#ffffff"})).on("mousemove",j).on("mouseleave",_),d||e.append("text").attr("class","name-text").text(u).attr("text-anchor","middle").attr("x","0").attr("y","0").attr("width","100").style("fill",Se.TEXT_COLOR_3).call((function(e){e.each((function(){for(var e=Object(T.a)(this),t=e.text().split(/\s+/).reverse(),r=parseFloat(e.attr("width")),n=parseFloat(e.attr("y")),a=e.attr("x"),o=e.attr("text-anchor"),i=e.text(null).append("tspan").attr("x",a).attr("y",n).attr("text-anchor",o),c=0,l=[],u=t.pop();u;)l.push(u),i.text(l.join(" ")),i.node().getComputedTextLength()>r&&(c+=1,l.pop(),i.text(l.join(" ")),l=[u],i=e.append("tspan").attr("x",a).attr("y",n+20*c).attr("anchor",o).text(u)),u=t.pop()}))}))}(b,n,{height:280,width:280,emptyText:i,chartId:u,donutTip:Object(T.a)("#"+u).append("div").style("opacity",0).attr("class","d3-donut-tip")});var d=function(e,t){var r=Object(D.b)(t);return B(new Set(e.map((function(e){return e.date})))).sort((function(e,t){return r(e)-r(t)}))}(n,a),p=this.getFormatParams(),m=this.getParams(d),v=this.getScaleParams(d);this.createTooltip(b.node(),m.getColor,m.visibleKeys),se(b,m,v,p,f,Ve(),c),"curve-line"!==o?("line"===o&&ye(b,n,m,v,p,this.tooltip),"bar"===o&&function(e,t,r,n,a,o){var i=n.yScale.range()[0],c=e.append("g").attr("class","bars").selectAll("g").data(t).enter().append("g").attr("transform",(function(e){return"translate(".concat(n.xScale(e.date),", 0)")})).attr("class","bargroup").attr("role","region").attr("aria-label",(function(e){return"item-comparison"===r.mode?a.screenReaderFormat(e.date instanceof Date?e.date:W()(e.date).toDate()):null}));c.append("rect").attr("class","barfocus").attr("x",0).attr("y",0).attr("width",n.xGroupScale.range()[1]).attr("height",i).attr("opacity","0").on("mouseover",(function(e,r,n){o.show(t.find((function(t){return t.date===e.date})),fe.b.target,n[r].parentNode)})).on("mouseout",(function(){return o.hide()}));var l=n.yScale(0);c.selectAll(".bar").data((function(e){return r.visibleKeys.map((function(t){return{key:t.key,focus:t.focus,value:e.hasOwnProperty(t.key)&&e[t.key].hasOwnProperty("value")?e[t.key].value:0,label:t.label,visible:t.visible,date:e.date}}))})).enter().append("rect").attr("class","bar").attr("x",(function(e){return n.xGroupScale(e.key)})).attr("y",(function(e){return Math.min(l,n.yScale(e.value))})).attr("width",n.xGroupScale.bandwidth()).attr("height",(function(e){return Math.abs(l-n.yScale(e.value))})).attr("fill",(function(e){return r.getColor(e.key)})).attr("pointer-events","none").attr("tabindex","0").attr("aria-label",(function(e){var n=e.label||e.key;if("time-comparison"===r.mode){var i=t.find((function(t){return t.date===e.date}));n=a.screenReaderFormat(W()(i[e.key].labelDate).toDate())}return"".concat(n," ").concat(o.valueFormat(e.value))})).style("opacity",(function(e){var t=e.focus?1:.1;return e.visible?t:0})).on("focus",(function(e,r,n){var a=e.value>0?fe.b.target:fe.b.target.parentNode;o.show(t.find((function(t){return t.date===e.date})),a,n[r].parentNode)})).on("blur",(function(){return o.hide()}))}(b,n,m,v,p,this.tooltip)):Ae(b,n,m,v,p,this.tooltip,s)}},{key:"shouldBeCompact",value:function(){var e=this.props,t=e.data,r=e.chartType,n=e.width;if("bar"!==r)return!1;var a=this.getMargin(),o=n-a.left-a.right,i=t&&t.length?Object.keys(t[0]).length-1:0;return o<t.length*(i+1)}},{key:"getMargin",value:function(){var e=this.props.margin;return Ve()?{bottom:e.bottom,left:-30,right:e.left,top:e.top}:e}},{key:"getWidth",value:function(){var e=this.props,t=e.data,r=e.chartType,n=e.width;if("bar"!==r)return n;var a=this.getMargin(),o=t&&t.length?Object.keys(t[0]).length-1:0,i=this.shouldBeCompact()?t.length*o:t.length*(o+1);return Math.max(n,i+a.left+a.right)}},{key:"getEmptyMessage",value:function(){var e=this.props,t=e.baseValue,r=e.data,a=e.emptyMessage;if(a&&function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=0;r<e.length;r++)for(var n=0,a=Object.entries(e[r]);n<a.length;n++){var o=M(a[n],2),i=o[0],c=o[1];if("date"!==i&&!Object(l.isNil)(c.value)&&c.value!==t)return!1}return!0}(r,t))return Object(n.createElement)("div",{className:"d3-chart__empty-message"},a)}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.data,a=e.height,o=e.orderedKeys,c=e.chartType,l=e.chartMeta,u=this.getWidth();return Object(n.createElement)("div",{className:i()("d3-chart__container",t)},this.getEmptyMessage(),Object(n.createElement)("div",{className:"d3-chart__tooltip",ref:this.tooltipRef}),Object(n.createElement)(I,{className:i()(t),data:r,drawChart:this.drawChart,chartMeta:l,height:a,orderedKeys:o,tooltip:this.tooltip,chartType:c,width:u}))}}])&&Me(r.prototype,a),o&&Me(r,o),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a,o}(n.Component);Ke.propTypes={baseValue:y.a.number,className:y.a.string,colorScheme:y.a.func,data:y.a.array.isRequired,dateParser:y.a.string.isRequired,emptyMessage:y.a.string,height:y.a.number,interval:y.a.oneOf(["hour","day","week","month","quarter","year",""]),margin:y.a.shape({bottom:y.a.number,left:y.a.number,right:y.a.number,top:y.a.number}),mode:y.a.oneOf(["item-comparison","time-comparison"]),screenReaderFormat:y.a.oneOfType([y.a.string,y.a.func]),orderedKeys:y.a.array,tooltipLabelFormat:y.a.oneOfType([y.a.string,y.a.func]),tooltipValueFormat:y.a.oneOfType([y.a.string,y.a.func]),tooltipPosition:y.a.oneOf(["below","over"]),tooltipTitle:y.a.string,chartType:y.a.oneOf(["bar","line","curve-line","donut"]),width:y.a.number,xFormat:y.a.oneOfType([y.a.string,y.a.func]),x2Format:y.a.oneOfType([y.a.string,y.a.func]),yBelow1Format:y.a.oneOfType([y.a.string,y.a.func]),yFormat:y.a.oneOfType([y.a.string,y.a.func])};var ze=Object(Re.a)(Ke,{baseValue:0,data:[],dateParser:"%Y-%m-%dT%H:%M:%S",height:200,margin:{bottom:30,left:40,right:0,top:20},mode:"time-comparison",screenReaderFormat:"%B %-d, %Y",tooltipPosition:"over",tooltipLabelFormat:"%B %-d, %Y",tooltipValueFormat:",",chartType:"line",width:600,xFormat:"%Y-%m-%d",x2Format:"",yBelow1Format:".3~f",yFormat:".3~s"}),He=r(43),Ge=r(82);function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qe(n.key),n)}}function Qe(e){var t=function(e,t){if("object"!=We(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=We(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==We(t)?t:t+""}function Xe(e,t,r){return t=Ze(t),function(e,t){if(t&&("object"==We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],Ze(e).constructor):t.apply(e,r))}function Ze(e){return(Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Je(e,t){return(Je=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var et=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=Xe(this,t)).listRef=Object(n.createRef)(),e.state={isScrollable:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Je(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){this.updateListScroll(),window.addEventListener("resize",this.updateListScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateListScroll)}},{key:"updateListScroll",value:function(){if(this&&this.listRef){var e=this.listRef.current,t=e.scrollHeight-e.scrollTop<=e.offsetHeight;this.setState({isScrollable:!t})}}},{key:"render",value:function(){var e=this.props,t=(e.colorScheme,e.data),r=e.handleLegendHover,o=e.handleLegendToggle,c=e.interactive,l=e.legendDirection,u=(e.legendValueFormat,e.instanceId),s=e.totalLabel,f=this.state.isScrollable,b=t.filter((function(e){return e.visible})),d=b.length,p="column"===l&&t.length>5&&s;return t.length,Object(n.createElement)("div",{className:i()("bwf-legend","bwf-legend-direction-".concat(l),{"has-total":p,"is-scrollable":f},this.props.className)},Object(n.createElement)("ul",{className:"bwf-legend-list",ref:this.listRef,onScroll:p?this.updateListScroll:null},t.map((function(e,t){return Object(n.createElement)("li",{className:i()("bwf-legend-item",{"bwf-legend-item-checked":e.visible}),key:e.key,id:"bwf-legend-".concat(u,"__item__").concat(e.key),onMouseEnter:r,onMouseLeave:r,onBlur:r,onFocus:r},Object(n.createElement)("button",{onClick:o,id:"bwf-legend-".concat(u,"__item-button__").concat(e.key),disabled:e.visible&&d<=1||!e.visible&&d>=5||!c,title:d>=5?Object(a.sprintf)(Object(a.__)("You may select up to %d items.","funnel-builder"),5):""},Object(n.createElement)("div",{className:"bwf-legend-item-container"},Object(n.createElement)(Ge.a,{checked:e.visible,onChange:function(){},color:1===t?Se.NOTICE_YELLOW:Se.BLUE_BASE}),Object(n.createElement)("span",{className:"bwf-legend-item-title"},e.label))))}))),p&&Object(n.createElement)("div",{className:"bwf-legend-total"},s))}}])&&$e(r.prototype,o),c&&$e(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,c}(n.Component);et.propTypes={className:y.a.string,colorScheme:y.a.func,data:y.a.array.isRequired,handleLegendToggle:y.a.func,handleLegendHover:y.a.func,interactive:y.a.bool,legendDirection:y.a.oneOf(["row","column"]),legendValueFormat:y.a.oneOfType([y.a.string,y.a.func]),totalLabel:y.a.string,instanceId:y.a.number};var tt=Object(He.withInstanceId)(Object(Re.a)(et,{interactive:!0,legendDirection:"row",legendValueFormat:","}));r(446);function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(){return(nt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function at(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ot(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ot(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,st(n.key),n)}}function ct(e,t,r){return t=lt(t),function(e,t){if(t&&("object"==rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,r||[],lt(e).constructor):t.apply(e,r))}function lt(e){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e,t){return(ut=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=function(e,t){if("object"!=rt(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rt(t)?t:t+""}function ft(e,t){switch(t){case"left_space":return[e+" ",""];case"right":return["",e];case"right_space":return[""," "+e];case"left":default:return[e,""]}}var bt=function(e){function t(e){var r,a,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=ct(this,t,[e]),a=r,i=function(){return Object(n.createElement)("div",{className:"bwf-chart__donut-legends"},r.props.data.map((function(e,t){return Object(n.createElement)("div",{className:"bwf-chart__donut-legend",key:"bwf-chart__donut-legend-".concat(t)},Object(n.createElement)("div",{className:"bwf-chart__donut-legend-color",style:{backgroundColor:e.color[0]}}),e.title)})))},(o=st(o="getDonutLegends"))in a?Object.defineProperty(a,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):a[o]=i,r.chartBodyRef=Object(n.createRef)();var c=r.getDataKeys();return r.state={focusedKeys:[],visibleKeys:c.slice(0,5),width:0},r.prevDataKeys=c.sort(),r.handleTypeToggle=r.handleTypeToggle.bind(r),r.handleLegendToggle=r.handleLegendToggle.bind(r),r.handleLegendHover=r.handleLegendHover.bind(r),r.updateDimensions=r.updateDimensions.bind(r),r.getVisibleData=Object(d.a)(r.getVisibleData),r.getOrderedKeys=Object(d.a)(r.getOrderedKeys),r.setInterval=r.setInterval.bind(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ut(e,t)}(t,e),r=t,(o=[{key:"getDataKeys",value:function(){var e=this.props,t=e.data,r=e.filterParam,n=e.mode,a=e.query;if("item-comparison"===n){var o=r?Object(m.e)(a[r]):[];return this.getOrderedKeys([],[],o).map((function(e){return e.key}))}return V(t)}},{key:"componentDidUpdate",value:function(){var e=this.props.data;if(e&&e.length){var t=V(e).sort();if(!Object(l.isEqual)(t,this.prevDataKeys)){var r=this.getDataKeys();this.prevDataKeys=t,this.setState({visibleKeys:r.slice(0,5)})}}}},{key:"componentDidMount",value:function(){this.updateDimensions(),this.setD3DefaultFormat(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"setD3DefaultFormat",value:function(){var e=this.props.currency,t=e.symbol,r=e.symbolPosition,n=e.decimalSeparator,a=e.thousandSeparator;Object(c.a)({decimal:n,thousands:a,grouping:[3],currency:ft(t,r)})}},{key:"getOrderedKeys",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=this.props,a=n.data,o=n.legendTotals,i=n.mode;if(!a||0===a.length)return[];var c=a.reduce((function(e,t){return Object.entries(t).forEach((function(t){var r=at(t,2),n=r[0],a=r[1];"date"===n||e[n]||(e[n]=a.label)})),e}),{}),l=Object.entries(c).map((function(r){var n=at(r,2),i=n[0],c=n[1];return{focus:0===e.length||e.includes(i),key:i,label:c,total:o&&void 0!==o[i]?o[i]:"conversion_rate"!==i?a.reduce((function(e,t){return e+t[i].value}),0):0!==a.reduce((function(e,t){return e+t.conversion.value}),0)?a.reduce((function(e,t){return e+t.conversion.value}),0)/a.reduce((function(e,t){return e+t.view.value}),0)*100:0,visible:t.includes(i)}}));return"item-comparison"===i?l.sort((function(e,t){return t.total-e.total})).filter((function(e){return e.total>0||r.includes(parseInt(e.key,10))})):l}},{key:"handleTypeToggle",value:function(e){if(this.props.chartType!==e){var t=this.props,r=t.path,n=t.query,a=t.onChartChange,o=void 0===a?l.noop:a,i=t.updateQuery;(void 0===i||i)&&Object(m.k)({chartType:e},r,n),o(e)}}},{key:"handleLegendToggle",value:function(e){if(this.props.interactiveLegend){var t=e.currentTarget.id.split("_").pop(),r=this.state,n=r.focusedKeys,a=r.visibleKeys;a.includes(t)?this.setState({focusedKeys:Object(l.without)(n,t),visibleKeys:Object(l.without)(a,t)}):this.setState({focusedKeys:n.concat([t]),visibleKeys:a.concat([t])})}}},{key:"handleLegendHover",value:function(e){if("mouseleave"===e.type||"blur"===e.type)this.setState({focusedKeys:[]});else if("mouseenter"===e.type||"focus"===e.type){var t=e.currentTarget.id.split("__").pop();this.setState({focusedKeys:[t]})}}},{key:"updateDimensions",value:function(){this.setState({width:this.props.width?this.props.width:this.chartBodyRef.current.offsetWidth})}},{key:"getVisibleData",value:function(e,t){var r=t.filter((function(e){return e.visible}));return Object(l.isEmpty)(r)?[]:e.map((function(e){var t={date:e.date};return r.forEach((function(r){t[r.key]=e[r.key]})),t}))}},{key:"setInterval",value:function(e){var t=this.props,r=t.path,n=t.query,a=t.onIntervalChange,o=void 0===a?l.noop:a,i=t.updateQuery;(void 0===i||i)&&Object(m.k)({interval:e},r,n),o(e)}},{key:"renderIntervalSelector",value:function(){var e=this.props,t=e.interval,r=e.allowedIntervals;if(!r||r.length<1)return null;!0===r.includes("quarter")&&r.splice(r.indexOf("quarter"),1);var o={hour:Object(a.__)("By hour","funnel-builder"),day:Object(a.__)("By day","funnel-builder"),week:Object(a.__)("By week","funnel-builder"),month:Object(a.__)("By month","funnel-builder"),quarter:Object(a.__)("By quarter","funnel-builder"),year:Object(a.__)("By year","funnel-builder")};return Object(n.createElement)(f.SelectControl,{value:t,options:r.map((function(e){return{value:e,label:o[e]}})),onChange:this.setInterval})}},{key:"getChartHeight",value:function(){var e=this.props,t=e.isViewportLarge;return e.isViewportMobile?180:t?300:220}},{key:"getLegendPosition",value:function(){var e=this.props,t=e.legendPosition,r=e.mode,n=e.isViewportWide;return t||(n&&"time-comparison"===r?"top":n&&"item-comparison"===r?"side":"bottom")}},{key:"render",value:function(){var e=this.state,t=e.focusedKeys,r=e.visibleKeys,o=e.width,c=this.props,u=c.baseValue,d=c.chartType,p=c.data,v=c.dateParser,y=c.emptyMessage,h=c.filterParam,O=c.interactiveLegend,g=c.interval,j=c.isRequesting,_=c.isViewportLarge,w=c.itemsLabel,E=c.mode,k=c.query,S=c.screenReaderFormat,D=c.showHeaderControls,T=c.title,N=c.tooltipLabelFormat,A=c.tooltipValueFormat,x=c.tooltipTitle,F=c.valueType,L=c.xFormat,R=c.x2Format,I=c.yBelow1Format,M=c.yFormat,B=c.hideTypeSelect,q=c.className,U=c.customHeaderItem,Y=c.showLegend,V=c.height,K=c.emptyText,z=c.chartMeta,H=c.chartId,G=c.customFooter,W=c.isProFeatureLocked,$=c.toopTipComponent,Q=c.donutEmptyState,X=h?Object(m.e)(k[h]):[],Z=this.getOrderedKeys(t,r,X),J=j||Object(l.isEmpty)(p)?null:this.getVisibleData(p,Z),ee=this.getLegendPosition(),te="top"===ee?"row":"column",re="side"===ee?"row":"column",ne=V||this.getChartHeight(),ae=j||!Y?null:"donut"===d?this.getDonutLegends():Object(n.createElement)(tt,{colorScheme:b.a,data:Z,handleLegendHover:this.handleLegendHover,handleLegendToggle:this.handleLegendToggle,interactive:O,legendDirection:te,legendValueFormat:A,totalLabel:Object(a.sprintf)(w,Z.length)}),oe=M,ie=I;if(!M)switch(F){case"average":oe=",.0f";break;case"currency":oe="$.3~s",ie="$.3~f";break;case"number":oe=",.0f"}return Object(n.createElement)("div",nt({className:i()("bwf-chart",q)},H&&{id:H}),D&&Object(n.createElement)("div",{className:"bwf-chart-header"},Object(n.createElement)("div",{className:"bwf-chart-title"},T),"top"===ee&&ae,U,this.renderIntervalSelector(),!B&&Object(n.createElement)(f.NavigableMenu,{className:"bwf-chart-types",orientation:"horizontal",role:"menubar"},Object(n.createElement)(f.Button,{className:i()("bwf-chart-type-button",{"bwf-chart-type-button-selected":"line"===d}),title:Object(a.__)("Line chart","funnel-builder"),"aria-checked":"line"===d,role:"menuitemradio",tabIndex:"line"===d?0:-1,onClick:Object(l.partial)(this.handleTypeToggle,"line")},Object(n.createElement)(s.a,{icon:"line-graph"})),Object(n.createElement)(f.Button,{className:i()("bwf-chart-type-button",{"bwf-chart-type-button-selected":"bar"===d}),title:Object(a.__)("Bar chart","funnel-builder"),"aria-checked":"bar"===d,role:"menuitemradio",tabIndex:"bar"===d?0:-1,onClick:Object(l.partial)(this.handleTypeToggle,"bar")},Object(n.createElement)(s.a,{icon:"stats-alt"})))),Object(n.createElement)(C.b,{component:!1},Object(n.createElement)("div",{className:i()("bwf-chart-body","bwf-chart-body-".concat(re)),ref:this.chartBodyRef},"donut"===d&&Q&&Object(n.createElement)("div",{className:"bwf-donut-chart-empty-state"},Q),"side"===ee&&ae,j&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("span",{className:"screen-reader-text"},Object(a.__)("Your requested data is loading","funnel-builder")),Object(n.createElement)(P,{height:ne})),!j&&!Object(l.isEmpty)(J)&&o>0&&Object(n.createElement)(ze,{baseValue:u,chartType:d,colorScheme:b.a,data:J,dateParser:v,height:ne,emptyMessage:y,interval:g,margin:{bottom:50,left:50,right:30,top:0},mode:E,orderedKeys:Z,screenReaderFormat:S,tooltipLabelFormat:N,tooltipValueFormat:A,tooltipPosition:_?"over":"below",tooltipTitle:x,valueType:F,width:"row"===re?o-320:o,xFormat:L,x2Format:R,yBelow1Format:ie,yFormat:oe,emptyText:K,chartMeta:z,chartId:H,isProFeatureLocked:W,toopTipComponent:$})),"bottom"===ee&&Object(n.createElement)("div",{className:"bwf-chart-footer"},ae)),G)}}])&&it(r.prototype,o),u&&it(r,u),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,o,u}(n.Component);t.a=Object(p.withViewportMatch)({isViewportMobile:"< medium",isViewportLarge:">= large",isViewportWide:">= wide"})(Object(Re.a)(bt,{baseValue:0,chartType:"line",data:[],dateParser:"%Y-%m-%dT%H:%M:%S",interactiveLegend:!0,interval:"day",isRequesting:!1,mode:"time-comparison",screenReaderFormat:"%B %-d, %Y",showHeaderControls:!0,tooltipLabelFormat:"%B %-d, %Y",tooltipValueFormat:",",xFormat:"%d",x2Format:"%b %Y",currency:{symbol:"$",symbolPosition:"left",decimalSeparator:".",thousandSeparator:","},className:"",showLegend:!0}))},420:function(e,t,r){},421:function(e,t,r){},431:function(e,t,r){"use strict";var n=r(0),a=r(4);t.a=function(e){var t=e.amount,r=Object(a.A)().formatAmount(null!=t?t:0),o=r.lastIndexOf(a.q),i=0===a.o?r:r.slice(0,o),c=r.slice(o+1);return Object(n.createElement)(n.Fragment,null,i,0!==a.o&&-1!==o&&Object(n.createElement)(n.Fragment,null,a.q,Object(n.createElement)("span",{className:"bwf-analytics__amount-decimal"},c)))}},434:function(e,t,r){"use strict";var n=r(0),a=r(1),o=r(6),i=r.n(o),c=r(22),l=r(86);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.className,r=(e.align,e.title),o=e.proLink,s=e.message,f=s||Object(a.sprintf)(Object(a.__)("Use our sample data to explore %s. See how it summarises metrics across multiple funnels.","funnel-builder"),r),b=u(Object(n.useState)(!1),2),d=b[0],p=b[1];return Object(n.useEffect)((function(){var e=document.querySelector("body:not(.modal-open) #bwf-header-upgrade-pro-cta");if(e){var t=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?p(!1):p(!0)}))}),{root:null,rootMargin:"0px",threshold:.1});return t.observe(e),function(){t.disconnect()}}p(!0)}),[]),Object(n.createElement)("div",{className:i()("bwf-lite-noticebar is-sample-data-notice",t,{"is-btn-visible":d})},Object(n.createElement)("div",{className:"bwf-lite-noticebar__content-wrap"},Object(n.createElement)("div",{className:"bwf-lite-noticebar__title-wrap"},r," ",Object(n.createElement)(c.c,{content:Object(a.__)("Sample Data","funnel-builder"),type:"black"})),Object(n.createElement)("div",{className:"bwf-noticebar-conatiner"},Object(n.createElement)("div",{className:"bwf-noticebar-content"},f))),Object(n.createElement)(l.a,{isPrimary:!0,proLink:o}))}},444:function(e,t,r){},445:function(e,t,r){},446:function(e,t,r){},468:function(e,t,r){"use strict";r.d(t,"h",(function(){return _})),r.d(t,"e",(function(){return S})),r.d(t,"j",(function(){return T})),r.d(t,"i",(function(){return N})),r.d(t,"f",(function(){return L})),r.d(t,"g",(function(){return R})),r.d(t,"c",(function(){return I})),r.d(t,"a",(function(){return M})),r.d(t,"b",(function(){return B})),r.d(t,"d",(function(){return q}));var n=r(2),a=r(83),o=r(10),i=r.n(o),c=r(98),l=r(1),u=r(4);r(13);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function v(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return y(u,"_invoke",function(r,n,a){var o,c,l,u=0,s=a||[],f=!1,b={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,c=0,l=e,b.n=r,i}};function d(r,n){for(c=r,l=n,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],d=b.p,p=o[2];r>3?(a=p===n)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(c=0,b.v=n,b.n=o[1]):d<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,b.n=p,c=0))}if(a||r>1)return i;throw f=!0,n}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),c=s,l=p;(t=c<2?e:l)||!f;){o||(c?c<3?(c>1&&(b.n=-1),d(c,l)):b.n=l:b.v=l);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(f=b.n<0)?l:r.call(n,b))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(r,a,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(y(t={},n,(function(){return this})),t),f=u.prototype=c.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,y(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,y(f,"constructor",u),y(u,"constructor",l),l.displayName="GeneratorFunction",y(u,a,"GeneratorFunction"),y(f),y(f,a,"Generator"),y(f,n,(function(){return this})),y(f,"toString",(function(){return"[object Generator]"})),(v=function(){return{w:o,m:b}})()}function y(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(y=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){y(e,t,(function(e){return this._invoke(t,r,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,r,n)}function h(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function O(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){h(o,n,a,i,c,"next",e)}function c(e){h(o,n,a,i,c,"throw",e)}i(void 0)}))}}var g=new AbortController,j=function(){var e=O(v().m((function e(t){var r,n;return v().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,i()({path:Object(u.y)("/funnel-analytics/dashboard/overview".concat(Object(u.x)(t))),signal:g.signal});case 1:if(!(r=e.v).status){e.n=2;break}return e.a(2,null!==(n=r.data)&&void 0!==n?n:{});case 2:throw r;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=O(v().m((function e(t,r,a,o){var i,c,l,s,f,b,d,m,y,h,O,_,w,E,k,S;return v().w((function(e){for(;;)switch(e.n){case 0:if(g.abort(),g=new AbortController,i=t.period,c=t.before,l=t.after,s=Object(u.B)(Object(u.Y)({period:i,before:c,after:l,compare:r})),f=s.primary,s.secondary,b={},e.p=1,d=["overall"===i?{overall:""}:{after:f.after.format(u.e),before:f.before.format(u.f)}],m=[{after:u.g,before:f.after.endOf("day").format(u.f)}],!Object(n.isEmpty)(a.primary)&&a.filter.period===t.period){e.n=3;break}return e.n=2,Promise.all([j.apply(void 0,d),j.apply(void 0,m)]);case 2:y=e.v,h=p(y,2),O=h[0],_=h[1],b.primary=O,b.secondary=_,e.n=5;break;case 3:return b.primary=a.primary,e.n=4,Promise.all([j.apply(void 0,m)]);case 4:w=e.v,E=p(w,1),k=E[0],b.secondary=k;case 5:b.filter=t,b.compare=r,b.isLoading=!1,o(b),e.n=7;break;case 6:e.p=6,"AbortError"!==(S=e.v).name&&o({error:S,isLoading:!1});case 7:return e.a(2)}}),e,null,[[1,6]])})));return function(t,r,n,a){return e.apply(this,arguments)}}(),w=new AbortController,E=function(){var e=O(v().m((function e(t,r){var n,a;return v().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,i()({path:Object(u.y)("/funnel-analytics/dashboard/stats".concat(Object(u.x)(t))),signal:r});case 1:if(!(n=e.v).status){e.n=2;break}return e.a(2,null!==(a=n.data)&&void 0!==a?a:{});case 2:throw n;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r){return e.apply(this,arguments)}}(),k=function(e){return Number(Number(e).toFixed(2).replace(/\.00$/,""))},S=function(){var e=O(v().m((function e(t){var r,o,i,l,s,f,d,m,y,h,O,g,j,_,S,P,C,D,T,N,A,x,F,L,R,I,M=arguments;return v().w((function(e){for(;;)switch(e.n){case 0:if(r=M.length>1&&void 0!==M[1]?M[1]:{data:[]},o=M.length>2?M[2]:void 0,w.abort(),w=new AbortController,e.p=1,i=t.period,l=t.before,s=t.after,f=t.compare,d=void 0===f?"none":f,m=t.interval,y=Object(u.B)(Object(u.Y)({period:i,before:l,after:s,compare:"none"===d?"previous_period":d})),h=y.primary,O=y.secondary,g=["overall"===i?{overall:""}:{after:h.after.format(u.e),before:h.before.format(u.f),interval:m},w.signal],j=[{after:"overall"===i?u.g:O.after.format(u.f),before:O.before.endOf("day").format(u.d),interval:m},w.signal],_={},S={},"none"===d||!r||r.filter.period!==i||"custom"===i||Object(n.isEmpty)(r.data)){e.n=3;break}return e.n=2,Promise.all([E.apply(void 0,j)]);case 2:P=e.v,C=p(P,1),D=C[0],S.data=r.data.map((function(e,r){var n=Object(a.f)(e.primary.labelDate,h.after,O.after,d,m),o=D&&D.intervals&&D.intervals[r]?D.intervals[r]:{subtotals:{orders:0,revenue:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0}};return b(b({},e),{},{secondary:{label:Object(u.S)(t,d,!0),labelDate:n.format(u.d),value:k(o.subtotals.revenue),data:{checkout:k(o.subtotals.checkout_revenue),orderBump:k(o.subtotals.bump_revenue),upsell:k(o.subtotals.upsell_revenue),orders:k(o.subtotals.orders)}}})})),e.n=9;break;case 3:if(!Object(n.isEmpty)(r.data)&&"none"===d&&r.filter.period===i&&"custom"!==i){e.n=8;break}if("none"===d){e.n=5;break}return e.n=4,Promise.all([E.apply(void 0,g),E.apply(void 0,j)]);case 4:T=e.v,N=p(T,2),A=N[0],x=N[1],_.primary=A,_.secondary=x,e.n=7;break;case 5:return e.n=6,Promise.all([E.apply(void 0,g)]);case 6:F=e.v,L=p(F,1),R=L[0],_.primary=R;case 7:S.data=_.primary.intervals.map((function(e,r){var n=Object(a.f)(e.start_date,h.after,O.after,d,m),o=_.secondary&&_.secondary.intervals&&_.secondary.intervals[r]?_.secondary.intervals[r]:{subtotals:{orders:0,revenue:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0}};return b({date:Object(c.format)("Y-m-d\\TH:i:s",e.start_date),primary:{label:Object(u.D)(t,!0),labelDate:e.start_date,value:k(e.subtotals.revenue),data:{checkout:k(e.subtotals.checkout_revenue),orderBump:k(e.subtotals.bump_revenue),upsell:k(e.subtotals.upsell_revenue),orders:k(e.subtotals.orders)}}},"none"!==d&&o&&{secondary:{label:Object(u.S)(u.D,d,!0),labelDate:n.format(u.d),value:k(o.subtotals.revenue),data:{checkout:k(o.subtotals.checkout_revenue),orderBump:k(o.subtotals.bump_revenue),upsell:k(o.subtotals.upsell_revenue),orders:k(o.subtotals.orders)}}})})),S.interval_type=_.primary.interval_type,e.n=9;break;case 8:S.data=r.data.map((function(e){return delete e.secondary,e}));case 9:S.filter=t,S.isLoading=!1,o(S),e.n=11;break;case 10:e.p=10,"AbortError"!==(I=e.v).name&&(console.log(I),o({error:I,isLoading:!1}));case 11:return e.a(2)}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),P=new AbortController,C=function(){var e=O(v().m((function e(t,r){var n,a;return v().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,i()({path:Object(u.y)("/funnel-analytics/dashboard/sources".concat(Object(u.x)(t))),signal:r});case 1:if(!(n=e.v).status){e.n=2;break}return e.a(2,null!==(a=n.data)&&void 0!==a?a:{});case 2:throw n;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r){return e.apply(this,arguments)}}(),D={google:["#4385F5","#ffffff"],"google-ads":["#4385F5","#ffffff"],snapchat:["#FFFC00","#000000"],yahoo:["#000000","#ffffff"],facebook:["#4267B2","#ffffff"],tiktok:["#000000","#ffffff"],"x/twitter":["#1d9bf0","#ffffff"],pinterest:["#E60023","#ffffff"],instagram:["#C13584","#ffffff"],direct:["#826eb4","#ffffff"],others:["#f78b53","#000000"],youtube:["rgb(255, 0, 0)","#ffffff"]},T=function(){var e=O(v().m((function e(t,r){var n,a,o,i,c,s,f,b;return v().w((function(e){for(;;)switch(e.n){case 0:return P.abort(),P=new AbortController,e.p=1,n=t.period,a=t.before,o=t.after,i=Object(u.B)(Object(u.Y)({period:n,before:a,after:o})),c=i.primary,s={data:{}},e.n=2,C("overall"===n?{overall:""}:{after:c.after.format(u.e),before:c.before.format(u.f)},P.signal);case 2:f=e.v,Object.keys(f).forEach((function(e){s.data[e]=f[e].map((function(t){return{key:t.ref_key,title:t.referrers,value:t.percentage,color:D[t.ref_key],tooltip:"lead"===e?"<div>".concat(Object(l.__)("Source :","funnel-builder")," ").concat(t.referrers,"</div><div >").concat(Object(l.__)("Percentage :","funnel-builder")," ").concat(t.percentage,'%</div><div class="bwf-mb-8">').concat(Object(l.__)("Conversion :","funnel-builder")," ").concat(t.conversion,"</div>"):"<div>".concat(Object(l.__)("Source :","funnel-builder")," ").concat(t.referrers,"</div><div>").concat(Object(l.__)("Orders :","funnel-builder")," ").concat(t.orders,"</div><div>").concat(Object(l.__)("Revenue :","funnel-builder")," ").concat(Object(u.A)().formatAmount(t.total_revenue),'</div><div class="bwf-mb-8">').concat(Object(l.__)("Percentage :","funnel-builder")," ").concat(t.percentage,"%</div>")}}))})),s.filter=t,s.isLoading=!1,r(s),e.n=4;break;case 3:e.p=3,"AbortError"!==(b=e.v).name&&(console.log(b),r({error:b,isLoading:!1}));case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(t,r){return e.apply(this,arguments)}}(),N=function(e){var t={data:{}};t.data.sales=[{ref_key:"snapchat",referrers:"snapchat",percentage:20},{ref_key:"google",referrers:"google",percentage:5},{ref_key:"facebook",referrers:"facebook",percentage:12.5},{ref_key:"others",referrers:"others",percentage:12.5},{ref_key:"pinterest",referrers:"pinterest",percentage:20},{ref_key:"instagram",referrers:"instagram",percentage:20},{ref_key:"tiktok",referrers:"tiktok",percentage:30}].map((function(e){return{key:e.referrers.toLowerCase(),title:e.referrers,value:e.percentage,color:D[e.referrers.toLowerCase()]}})),t.filter={filter:"overall"},t.isLoading=!1,e(t)},A=new AbortController,x=function(){var e=O(v().m((function e(t,r){var n,a,o;return v().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,i()({path:Object(u.y)("/funnel-analytics/revenue-percentage".concat(Object(u.x)(t))),signal:r});case 1:if(!(a=e.v).status||null==a||null===(n=a.result)||void 0===n||!n.items){e.n=2;break}return e.a(2,(null==a||null===(o=a.result)||void 0===o?void 0:o.items)||[]);case 2:throw a;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r){return e.apply(this,arguments)}}(),F={checkout:["#0073AA","#ffffff"],bump:["#369B71","#ffffff"],upsell:["#F69642","#ffffff"],cart_upsell:["#A70F7C","#ffffff"]},L=function(){var e=O(v().m((function e(t,r){var n,a,o,i,c,s,f,b,d;return v().w((function(e){for(;;)switch(e.n){case 0:return A.abort(),A=new AbortController,e.p=1,n=t.period,a=t.before,o=t.after,i=Object(u.B)(Object(u.Y)({period:n,before:a,after:o})),c=i.primary,s={data:{}},e.n=2,x("overall"===n?{overall:""}:{after:c.after.format(u.e),before:c.before.format(u.f)},A.signal);case 2:f=e.v,b=[],Object.keys(f).forEach((function(e){var t=f[e];b.push({key:e,title:t.source,value:t.percentage,color:F[e],tooltip:"<div>".concat(Object(l.__)("Source :","funnel-builder")," ").concat(t.source,"</div><div>").concat(Object(l.__)("Orders :","funnel-builder")," ").concat(t.orders,"</div><div>").concat(Object(l.__)("Revenue :","funnel-builder")," ").concat(Object(u.A)().formatAmount(t.revenue),'</div><div class="bwf-mb-8">').concat(Object(l.__)("Percentage :","funnel-builder")," ").concat(t.percentage,"%</div>")})})),s.data=b,s.filter=t,s.isLoading=!1,r(s),e.n=4;break;case 3:e.p=3,"AbortError"!==(d=e.v).name&&(console.log(d),r({error:d,isLoading:!1}));case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(t,r){return e.apply(this,arguments)}}(),R=function(e){var t={data:{}},r={checkout:{source:Object(l.__)("Checkouts","funnel-builder"),orders:125,revenue:4250.5,percentage:65},bump:{source:Object(l.__)("Order Bump","funnel-builder"),orders:28,revenue:980.25,percentage:15},upsell:{source:Object(l.__)("One Click Upsell","funnel-builder"),orders:38,revenue:1520.75,percentage:20}},n=[];Object.keys(r).forEach((function(e){var t=r[e];n.push({key:e,title:t.source,value:t.percentage,color:F[e],tooltip:"<div>".concat(Object(l.__)("Source :","funnel-builder")," ").concat(t.source,"</div><div>").concat(Object(l.__)("Orders :","funnel-builder")," ").concat(t.orders,"</div><div>").concat(Object(l.__)("Revenue :","funnel-builder")," ").concat(Object(u.A)().formatAmount(t.revenue),'</div><div class="bwf-mb-8">').concat(Object(l.__)("Percentage :","funnel-builder")," ").concat(t.percentage,"%</div>")})})),t.data=n,t.filter={filter:"overall"},t.isLoading=!1,e(t),e(t)},I={title:Object(l.__)("Top Performing UTM Campaigns","funnel-builder"),content:{benefits:[Object(l.__)("Track top performing UTM campaigns and see which marketing efforts are resulting in the highest orders or revenue.","funnel-builder")]},image:Object(u.T)()+"top-performing-campaigns.png",proLink:Object(u.U)(["Dashboard","Revenue","Chart"])},M={title:Object(l.__)("Conversion by Revenue","funnel-builder"),content:{benefits:[Object(l.__)("Track sources of the revenue from Checkout, Order Bumps, One Click Upsell and Cart Upsell.","funnel-builder")]},image:Object(u.T)()+"conversion-by-revenue.png",proLink:Object(u.U)(["Dashboard","Conversion","By","Revenue","Chart"])},B={title:Object(l.__)("Conversion by Referrers","funnel-builder"),content:{benefits:[Object(l.__)("Uncover top referrers and find out sources that result in the highest orders or revenue.","funnel-builder")]},image:Object(u.T)()+"order-by-sources.png",proLink:Object(u.U)(["Dashboard","Sources","Chart"])},q={top_campaigns:{sales:[{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"}],lead:[{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"},{campaign:"summer_sale_2003",source_medium:[{source_medium:"Google"}],sm_count:"4",conversion:"20",revenue:"1000"}]},top_upsells:[{funnelId:1,id:1,title:"Premium Membership",views:1200,conversion:150,total:45e3,type:"wfocu_offer",conversion_rate:"12.5"},{funnelId:1,id:1,title:"Extended Warranty",views:800,conversion:90,total:27e3,type:"wfocu_offer",conversion_rate:"11.25"},{funnelId:1,id:1,title:"Gift Wrapping",views:300,conversion:45,total:4500,type:"wfocu_offer",conversion_rate:"15.0"},{funnelId:1,id:1,title:"Expedited Shipping",views:650,conversion:85,total:13e3,type:"wfob_bump",conversion_rate:"13.08"},{funnelId:1,id:1,title:"Installation Service",views:400,conversion:50,total:2e4,type:"wfob_bump",conversion_rate:"12.5"}]}},473:function(e,t,r){"use strict";var n=r(0),a=r(6),o=r.n(a),i=r(13),c=r.n(i),l=r(2),u=r(1),s=r(315),f=r(385),b=r(75),d=r(5),p=r(65),m=(r(659),r(4));function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.className,r=e.hideFilters,a=void 0===r?[]:r,i=e.onChange,y=void 0===i?function(){}:i,h=e.defaultValue,O=e.value,g=void 0===O?{period:h,before:c()(),after:c()()}:O,j=v(Object(n.useState)(g),2),_=j[0],w=j[1],E=m.p[_.period]?m.p[_.period]:m.p[h]?m.p[h]:Object(u.__)("Select","funnel-builder");return Object(n.createElement)(b.a,{label:E,menuPosition:"bottom right",classes:"components-button is-secondary-gray",wrapperClasses:o()("bwf-date-filter__dropdown is-from-bottom-only",t),buttonLabel:Object(n.createElement)(n.Fragment,null,E,Object(n.createElement)(d.a,{icon:"angle-down",height:"12",width:"12"})),renderContent:function(e){var t=e.onToggle;return Object(n.createElement)(n.Fragment,null,function(e){var t=e.onToggle;return Object.keys(m.p).map((function(e,r){return!a.includes(e)&&("specificDate"===e?Object(n.createElement)(b.a,{menuPosition:"bottom right",classes:o()("bwf-date-filter-item__dropdown-btn bwf-ellipsis-menu__item",{"is-selected":_.period===e}),focusOnMount:!1,wrapperClasses:"bwf-date-filter-item__dropdown",buttonLabel:Object(n.createElement)(n.Fragment,null,m.p[e]),renderContent:function(e){var r=e.onToggle;return Object(n.createElement)(s.a,{onToggle:function(){},dateFormat:m.d,date:_.after,isInvalidDate:function(e){return c()(e).isAfter(c()(),"day")},onDateChange:function(e,n){var a={period:"specificDate",before:c()(n).endOf("day").format(m.d),after:c()(n).format(m.d)};w(a),y(a),t(),r()}})},key:"date-filter-item-".concat(r)}):"custom"===e?Object(n.createElement)(b.a,{menuPosition:"bottom right",classes:o()("bwf-date-filter-item__dropdown-btn bwf-ellipsis-menu__item ",{"is-selected":_.period===e}),focusOnMount:!1,wrapperClasses:"bwf-date-filter-item__dropdown bwf-ellipsis-menu__item-date-range",buttonLabel:Object(n.createElement)(n.Fragment,null,m.p[e]),renderContent:function(e){var r=e.onToggle;return Object(n.createElement)(f.a,{after:Object(l.isEmpty)(_.after)||"custom"!==_.period?null:c()(_.after),before:Object(l.isEmpty)(_.before)||"custom"!==_.period?c()().endOf("day"):c()(_.before),hideCompare:!0,onClose:function(){},shortDateFormat:Object(m.Z)(),disablePresets:!0,value:function(e){var n={period:"custom",before:c()(e.before).endOf("day").format(m.d),after:c()(e.after).format(m.d)};w(n),y(n),t(),r()}})},key:"date-filter-item-".concat(r)}):Object(n.createElement)(p.a,{isClickable:!0,onInvoke:function(){if(_.period!==e){var r={period:e,before:"",after:""};w(r),y(r)}t()},key:"date-filter-item-".concat(r),className:o()({"is-selected":_.period===e})},m.p[e]))})).filter((function(e){return!1!==e}))}({onToggle:t}))}})}},479:function(e,t,r){"use strict";var n=r(25),a=r(4),o=r(19),i=r(10),c=r.n(i);r(2);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=["state","fetch","setStateProp"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}t.a=function(){var e=Object(o.a)("dashboard"),t=e.state,r=e.fetch,i=e.setStateProp;return f(f({},function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,u)),{},{setStateProp:i,fetch:function(e){var t=Object(a.B)(Object(a.Y)(e)).primary;r("GET",Object(a.y)("/funnel-analytics/dashboard")+"?"+Object(n.stringify)(f({limit:5,top_campaigns_limit:5},"overall"===e.period?{overall:""}:{after:t.after.format(a.d),before:t.before.format(a.d)})))},setDashboardOverview:function(e){i("overview",f(f({},t.overview),e))},setRevenueChartData:function(e){i("revenue_chart",f(f({},t.revenue_chart),e))},setConversionChartData:function(e){i("conversion_chart",f(f({},t.conversion_chart),e))},setCampaignChartData:function(e){i("campaign_chart",f(f({},t.campaign_chart),e))},fetchTopCartUpsells:function(){i("top_cart_upsells",f(f({},t.top_cart_upsells),{},{isLoading:!0}));var e=f({},t.top_cart_upsells);c()({path:""}).then((function(t){t.status&&(e.data=t.data),e.isLoading=!1,i("top_cart_upsells",e)})).catch((function(t){console.log(t),e.error=t.message,e.isLoading=!1,i("top_cart_upsells",e)}))},resetData:function(){i("overview",{primary:{},secondary:{},filter:{period:"overall",after:"",before:""},isLoading:!0}),i("revenue_chart",{data:[],filter:{period:"last_30_days",after:"",before:"",compare:"none"},isLoading:!0}),i("campaign_chart",{data:[],filter:{period:"overall",after:"",before:""},isLoading:!0})},updateDashboardData:function(e){i("data",f(f({},t.data),e))}})}},517:function(e,t,r){"use strict";r.d(t,"b",(function(){return f})),r.d(t,"a",(function(){return y})),r.d(t,"c",(function(){return E}));var n=r(0),a=(r(473),r(1)),o=r(4),i=r(138),c=r(468),l=r(479),u=r(20),s=r(431),f=function(e){var t=e.dashboard,r=void 0===t?{}:t,f=(e.query,e.filter),b=(e.compare,r.primary),d=r.secondary,p=r.isLoading,m=Object(o.A)(),v=Object(l.a)().setDashboardOverview,y=Object(u.b)(),h=y.isProFeatureLocked,O=y.isLite,g=function(e,t){return t?0:Object(o.n)(b[e],d[e])},j=function(e){var t,r,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0,i=n?m.formatAmount(a?0:null!==(t=d[e])&&void 0!==t?t:0):null!==(r=d[e])&&void 0!==r?r:0;return i+=" - "+Object(o.S)({period:"last_30_days"},{},!0,!0,!0)},_=function(e){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments.length>2?arguments[2]:void 0;return r?a?"-":Object(n.createElement)(s.a,{amount:b[e]}):null!==(t=b[e])&&void 0!==t?t:0},w=[{key:"total_orders",title:Object(a.__)("Total Orders","funnel-builder"),value:_("total_orders",!1),delta:g("total_orders"),label:j("total_orders",!1),icon:"product",isCurrency:!1},{key:"total-revenue",title:Object(a.__)("Total Revenue","funnel-builder"),value:_("revenue"),delta:g("revenue"),label:j("revenue"),icon:"revenue"},{key:"order-bump",title:Object(a.__)("Order Bump Revenue","funnel-builder"),value:_("bump_revenue",!0,O),delta:g("bump_revenue",O),label:j("bump_revenue",!0,O),icon:"order-bump",isPro:h},{key:"upsell-revenue",title:Object(a.__)("Upsell Revenue","funnel-builder"),value:_("upsell_revenue",!0,O),delta:g("upsell_revenue",O),label:j("upsell_revenue",!0,O),icon:"upsells",isPro:h}];return Object(n.useEffect)((function(){v({isLoading:!0}),Object(c.h)(f,"last_30_days",r,(function(e){return v(e)}))}),[f,"last_30_days"]),Object(n.createElement)(i.a,{items:w,title:Object(a.__)("Overview","funnel-builder"),isLoading:p})},b=r(6),d=r.n(b),p=r(318),m=r(363),v=r(28),y=function(e){var t=e.rows,r=e.title,a=e.currentpage,o=e.perpage,i=e.isLoading,c=e.headers,l=e.actions,u=e.footer,s=e.className;return Object(n.createElement)(n.Fragment,null,i?Object(n.createElement)("div",{className:d()("bwf-card bwf-table bwf-analytics-card has-menu",s)},Object(n.createElement)("div",{className:"bwf-card-header"},Object(n.createElement)("div",null,Object(n.createElement)(v.a,{h:20,w:200}),Object(n.createElement)(v.a,{h:10,w:300,mt:8}))),Object(n.createElement)(m.a,{caption:r,headers:c,numberOfRows:5})):Object(n.createElement)(p.a,{title:r,className:s,rows:t,headers:c,query:{paged:a},rowsPerPage:o,totalRows:10,isLoading:i,showMenu:!1,actions:l,footer:u,rowHeader:!0}))},h=r(2),O=r(22),g=r(5),j=r(23);function _(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var E=function(e){var t=e.data,r=e.isLoading,i=Object(o.A)();return Object(n.createElement)("div",{className:"bwf-card bwf-table bwf-analytics-card"},Object(n.createElement)("div",{className:"bwf-card-header"},Object(n.createElement)("div",{className:"bwf-card-title-wrapper"},Object(n.createElement)("div",{className:"bwf-card-title bwf-card-header-item"},Object(a.__)("Conversion Activity","funnel-builder")))),r?Object(n.createElement)("div",{className:"bwf-card-body bwf-placeholder-content"},_(Array(10)).map((function(e,t){return Object(n.createElement)("div",{className:"bwf-activity-item",key:"dahboard-activity-".concat(t)},Object(n.createElement)("div",{className:"bwf-activity-media is-placeholder"}),Object(n.createElement)("div",{className:"bwf-activity-data",style:{width:"100%"}},Object(n.createElement)("div",{className:"bwf-activity-label is-placeholder long"}),Object(n.createElement)("span",{className:"bwf-activity-time is-placeholder long"})))}))):Object(h.isEmpty)(t)?Object(n.createElement)("div",{className:"bwf-dashboard-card-zero-state"},Object(n.createElement)(g.a,{icon:"no-data",height:"82",width:"112"}),Object(n.createElement)("div",{className:"bwf-dashboard-card-zero-state__heading"},Object(a.__)("No Data","funnel-builder")),Object(n.createElement)("div",{className:"bwf-dashboard-card-zero-state__subheading"},Object(a.__)("Activity will began to show once a conversion is recorded.","funnel-builder"))):Object(n.createElement)("div",{className:"bwf-card-body"},Object(h.isEmpty)(t)?Object(n.createElement)("div",{className:"bwf-activity-item"},Object(a.__)("No Conversions","funnel-builder")):Object(n.createElement)(n.Fragment,null,t.map((function(e,t){if(e&&!("id"in e)&&!(parseInt(e.id)>0))return Object(n.createElement)(n.Fragment,null);e.cid;var r=e.f_name,c=void 0===r?"":r,l=e.l_name,u=void 0===l?"":l,s=e.date,f=void 0===s?"":s,b=(e.tot,""!==c||""!==u?(c+" "+u).trim():"");return Object(n.createElement)("div",{className:"bwf-activity-item",key:t},Object(n.createElement)("span",{className:"bwf-activity-media"},""!==b?Object(o.O)(b):Object(a.__)("-","funnel-builder")),Object(n.createElement)("div",{className:"bwf-activity-data"},function(e){var t=e.type,r=void 0===t?"":t,i=e.edit_link,c=void 0===i?"#":i,l=e.post_title,u=void 0===l?"-":l,s=e.order_edit_link,f=void 0===s?"":s,b=e.order_id,d=void 0===b?"":b,p=e.order_number,m=void 0===p?"":p,v=e.cid,y=void 0===v?"":v,O=e.f_name,g=void 0===O?"":O,_=e.l_name,w=void 0===_?"":_,E=e.fid,k={aero:Object(a.__)("completed a Checkout","funnel-builder"),upsell:Object(a.__)("accepted an Offer","funnel-builder"),bump:Object(a.__)("accepted a Order Bump","funnel-builder"),optin:Object(n.createElement)(n.Fragment,null,Object(a.__)("submitted an Optin","funnel-builder"),"",""!==c&&Object(n.createElement)(j.a,{href:c},""!==u?u:"-"))},S=k.hasOwnProperty(r)?k[r]:"";"optin"!==r&&(S=Object(n.createElement)(n.Fragment,null,k.hasOwnProperty(r)?k[r]:"","(",Object(a.__)("Order","funnel-builder")," ",""!==f&&""!==d&&Object(n.createElement)(j.a,{href:f},Object(h.isEmpty)(m)?d:m),")"));var P=""!==g||""!==w?(g+" "+w).trim():Object(a.__)("Someone","funnel-builder");return Object(n.createElement)("div",{className:"bwf-activity-label"},parseInt(y)>0?Object(n.createElement)(j.a,{href:E?Object(o.L)("/funnels/".concat(E,"/contacts/").concat(y)):Object(o.L)("/analytics/contacts/"+y)},P):P,"",S)}(e),""!==f?Object(n.createElement)("span",{className:"bwf-activity-time",title:Object(o.F)(f,!0)},Object(h.capitalize)(Object(o.M)(f).fromNow())):null),parseFloat(e.tot)>0&&Object(n.createElement)(O.c,{content:i.formatAmount(e.tot),type:"success"}))})))))}},525:function(e,t,r){"use strict";var n=r(0),a=r(6),o=r.n(a),i=r(345),c=(r(526),r(2)),l=r(5);function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=Object(n.forwardRef)((function(e,t){var r=e.data,a=e.rowsPerPage,s=void 0===a?10:a,f=e.totalRows,b=e.onQueryChange,d=e.query,p=void 0===d?{}:d,m=e.onPageChange,v=e.action,y=e.classNames,h=e.isLoading,O=e.placeholder,g=e.actionMeta,j=!(Object(c.isEmpty)(null==p?void 0:p.s)&&Object(c.isEmpty)(null==p?void 0:p.categories)||h||r.length);return Object(n.createElement)("div",{ref:t,className:o()("bwf-card-list-wrap",y,{"no-search-result":j,"is-loading":h})},v&&Object(n.createElement)("div",{className:"bwf-card-list__header"},v),g,Object(n.createElement)("div",{className:"bwf-card-list__list"},h?u(Array(10)).map((function(e,t){return Object(n.createElement)("div",{className:"bwf-card-list__card",key:"bwf-card-item-".concat(t)},O)})):r.length?r.map((function(e,t){var r=e.content,a=e.onClick,i=e.className;return Object(n.createElement)("div",{className:o()("bwf-card-list__card",i,{"is-clickable":!!a}),onClick:a,key:"bwf-card-item-".concat(t)},r)})):j&&Object(n.createElement)(l.a,{icon:"no-search-result",width:"206",height:"190"})),!Object(c.isEmpty)(p)&&!h&&r.length>0&&Object(n.createElement)(i.a,{key:parseInt(p.paged,10)||1,page:parseInt(p.paged,10)||1,perPage:s,total:f,onPageChange:m,onPerPageChange:b&&b("per_page")}))}))},526:function(e,t,r){},619:function(e,t,r){"use strict";var n=r(0),a=r(6),o=r.n(a),i=r(2),c=r(10),l=r.n(c),u=r(1),s=r(5),f=r(4),b=r(84);r(662);function d(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return v(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}t.a=function(e){var t=e.id,r=e.amount,a=e.type,c=p(Object(n.useState)([]),2),m=c[0],v=c[1],y=p(Object(n.useState)(!1),2),h=y[0],O=y[1],g=p(Object(n.useState)(!0),2),j=g[0],_=g[1],w=Object(n.useRef)(new AbortController),E=Object(f.A)(),k=Object(n.useRef)(),S=Object(n.useRef)();Object(f.ub)(S,(function(){void 0!==k.current&&k.current()})),Object(n.useEffect)((function(){if(h&&Object(i.isEmpty)(m)){_(!0);var e="/funnel-analytics/upsells-items".concat(Object(f.x)({id:t,type:a}));l()({path:Object(f.y)(e),signal:w.current.signal}).then((function(e){var t;e.status&&null!=e&&null!==(t=e.result)&&void 0!==t&&t.items&&v(e.result.items),_(!1)})).catch((function(e){"AbortError"===e.name?console.log(e):_(!1)}))}}),[h]),Object(n.useEffect)((function(){return function(){w.current.abort()}}),[]);return Object(n.createElement)(b.a,{contentClassName:"bwf-upsell-table-revenue-dropdown",ref:S,key:t,expandOnMobile:!0,renderToggle:function(e){var t=e.isOpen,a=e.onToggle;return Object(n.createElement)("div",{className:"bwf-badge bwf-badge-green bwf-flex bwf-cursor-pointer",onClick:function(){a(),O((function(e){return!e}))}},Object(n.createElement)("span",{className:"bwf-mr-10"},E.formatAmount(null!=r?r:0)),Object(n.createElement)(s.a,{icon:t?"angle-up":"angle-down",color:"#09B29C",size:12}))},renderContent:function(e){var r=e.onClose,a=e.onToggle;return k.current=a,Object(n.createElement)("div",{key:t},Object(n.createElement)("div",{className:"bwf-flex bwf--space-between bwf-mb-16",key:t},Object(n.createElement)("div",{className:"bwf-heading-1"},Object(u.__)("Revenue","funnel-builder")),Object(n.createElement)("div",{className:"bwf-modal-close bwf-cursor-pointer",title:Object(u.__)("Close"),onClick:function(){return r()}},Object(n.createElement)(s.a,{icon:"close",size:16}))),j?d(Array(3)).map((function(e,t){return Object(n.createElement)("div",{className:"bwf-flex bwf--space-between bwf-mt-8 bwf-g8",key:"placeholder-total-".concat(t)},Object(n.createElement)("div",{className:" bwf-placeholder-temp bwf-w-60 bwf-h-16"}),Object(n.createElement)("div",{className:" bwf-placeholder-temp bwf-w-40 bwf-h-16"}))})):Object(n.createElement)("div",{className:"bwf-flex bwf-flex-column bwf--g8 bwf--align-start"},m.map((function(e,t){return Object(n.createElement)("div",{className:o()("bwf-flex bwf--space-between bwf--align-start bwf--g8 bwf-w-full",{"bwf-mt-8":0!==t}),key:"total-".concat(t)},Object(n.createElement)("span",{className:"bwf-text-color-3"},e.product_name),Object(n.createElement)("span",{className:"bwf-no-word-break"},E.formatAmount(e.total)))}))))}})}},659:function(e,t,r){},661:function(e,t,r){"use strict";r.d(t,"a",(function(){return O})),r.d(t,"b",(function(){return j}));var n=r(0),a=r(2),o=r(1),i=r(517),c=r(12),l=r(297),u=r(5),s=r(23),f=r(18),b=r(34),d=r(20),p=r(40),m=r(619),v=r(127),y=r(4);function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}function O(e){var t=e.data,r=void 0===t?[]:t,O=e.isLoading,_=void 0===O||O,w=Object(b.a)(),E=w.getStatus,k=w.isStatusLoading,S=E(),P=Object(d.b)().isProFeatureLocked,C=Object(p.a)().setPreviousStep;Object(n.useEffect)((function(){C("dashboard")}),[]);var D=[{key:"name",label:Object(o.__)("Name","funnel-builder"),isLeftAligned:!1,required:!0,cellClassName:"bwf-word-break"},{key:"type",label:Object(o.__)("Type","funnel-builder"),isLeftAligned:!1,required:!0},{key:"conversion",label:Object(o.__)("Conversion","funnel-builder"),isLeftAligned:!1,required:!0},{key:"revenune",label:Object(o.__)("Revenue","funnel-builder"),isLeftAligned:!1,required:!0},{key:"conversion-rate",label:Object(o.__)("Conversion Rate","funnel-builder"),isLeftAligned:!1,required:!0,cellClassName:"bwf-no-wrap"}],T=function(e){return Object(n.createElement)("span",null,e.title?Object(n.createElement)("a",{onClick:function(){C("dashboard"),"cart_upsells"!==e.type?Object(c.k)({},Object(y.ab)(e.fid,e.type,!1,e.id,!1)):window.location.href="post.php?post=".concat(e.id,"&action=edit")},className:"bwf-cursor-pointer"},e.title):"(#"+e.fid+" - "+Object(o.__)("Removed","funnel-builder")+")")},N=r.map((function(e){return[{display:T(e),value:e.title},{display:Object(y.sb)(e.type,!1)||"-",value:e.type},{display:0===parseInt(e.conversion)?"-":Number(e.conversion).toFixed(2).replace(/\.00$/,""),value:e.conversion},{display:0===parseInt(e.conversion)?"-":Object(n.createElement)(m.a,{id:e.id,type:e.type,amount:e.revenue}),value:e.revenue},{display:0===parseInt(e.conversion_rate)?"-":e.conversion_rate+"%",value:e.conversion_rate}]})),A=Object(n.createElement)(n.Fragment,null,Object(o.__)("Top Performing Upsells","funnel-builder"),P&&Object(n.createElement)(v.b,{modalContent:g(),content:Object(o.__)("We're sorry, this feature is not available on your plan. Learn more about Upsells.","funnel-builder")})),x=Object(n.createElement)(s.a,{href:"admin.php?page=bwf&path=/analytics#upsells"},Object(o.__)("View Analytics","funnel-builder")," ",Object(n.createElement)(u.a,{icon:"arrow-right",height:"16",width:"16",color:f.BLUE_BASE})),F=Object(n.createElement)("div",{className:"bwf-card-header"},Object(n.createElement)("div",{className:"bwf-card-title-wrapper"},Object(n.createElement)("h2",{className:"bwf-card-title bwf-card-header-item"},A)));return k||null!=S&&S.is_orderbump||null!=S&&S.is_upsells||!Object(a.isEmpty)(r)?Object(a.isEmpty)(N)&&!_?Object(n.createElement)("div",{className:"bwf-card bwf-table bwf-analytics-card bwf-top-stats-card"},F,((null==S?void 0:S.is_orderbump)||(null==S?void 0:S.is_upsells))&&Object(n.createElement)("div",{className:"bwf-dashboard-card-zero-state"},Object(n.createElement)(u.a,{icon:"no-data",height:"82",width:"112"}),Object(n.createElement)("div",{className:"bwf-dashboard-card-zero-state__heading"},Object(o.__)("No Data","funnel-builder")),Object(n.createElement)("div",{className:"bwf-dashboard-card-zero-state__subheading"},Object(o.__)("Your best performing Upsells will began to show once few conversions will be recorded","funnel-builder")))):Object(n.createElement)(i.a,h({},e,{rows:N,headers:D,title:A,footer:x,currentPage:1,perpage:25,className:"bwf-top-funnels-table"})):Object(n.createElement)("div",{className:"bwf-card bwf-table bwf-analytics-card bwf-top-stats-card"},F,Object(n.createElement)(l.a,{data:j()}))}var g=function(){return{title:Object(o.__)("Top Performing Upsells","funnel-builder"),content:{benefits:[Object(o.__)("Get all the details of the top performing upsells by which you get the orders.","funnel-builder")]},image:Object(y.T)()+"top-performing-upsells.png",proLink:Object(y.U)(["Dashoard","Top","Upsells","Upgrade","Modal"])}},j=function(){return[{type:"icon",data:{class:"",content:Object(n.createElement)(u.a,{icon:"offer-flow",size:"72",color:f.TEXT_COLOR_2})}},{type:"content",data:{class:"bwf-zero-state-heading-1",content:Object(o.__)("Maximize Sales with Powerful Upsell Offers","funnel-builder")}},{type:"content",data:{class:"bwf-zero-state-heading-2",content:Object(o.__)("Boost your revenue with Order Bumps and One-Click Upsell Offers.","funnel-builder")}},{type:"buttons",data:{buttons:[{text:Object(o.__)("Create Order Bump","funnel-builder"),proCheck:!1,onClick:function(){Object(c.k)({},"/store-checkout")},props:{style:{marginRight:"16px"}},isSecondary:!0},{text:Object(o.__)("Create One Click Upsell","funnel-builder"),proCheck:!1,onClick:function(){Object(c.k)({},"/store-checkout")},props:{style:{marginRight:"16px"}},isSecondary:!0}]}}]}},662:function(e,t,r){},943:function(e,t,r){"use strict";r.r(t);var n=r(0),a=(r(386),r(25)),o=r(1),i=r(126),c=r(358),l=(r(13),r(2)),u=(r(473),r(4));var s=r(8),f=r(10),b=r.n(f),d=r(14),p=r(5),m=r(18);function v(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return y(u,"_invoke",function(r,n,a){var o,c,l,u=0,s=a||[],f=!1,b={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,c=0,l=e,b.n=r,i}};function d(r,n){for(c=r,l=n,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],d=b.p,p=o[2];r>3?(a=p===n)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(c=0,b.v=n,b.n=o[1]):d<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,b.n=p,c=0))}if(a||r>1)return i;throw f=!0,n}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),c=s,l=p;(t=c<2?e:l)||!f;){o||(c?c<3?(c>1&&(b.n=-1),d(c,l)):b.n=l:b.v=l);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(f=b.n<0)?l:r.call(n,b))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(r,a,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(y(t={},n,(function(){return this})),t),f=u.prototype=c.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,y(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,y(f,"constructor",u),y(u,"constructor",l),l.displayName="GeneratorFunction",y(u,a,"GeneratorFunction"),y(f),y(f,a,"Generator"),y(f,n,(function(){return this})),y(f,"toString",(function(){return"[object Generator]"})),(v=function(){return{w:o,m:b}})()}function y(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(y=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){y(e,t,(function(e){return this._invoke(t,r,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,r,n)}function h(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var j=function(e){var t=e.funnelId,r=void 0===t?0:t,a=e.onComplete,i=void 0===a?l.noop:a,c=O(Object(n.useState)(!1),2),f=c[0],y=c[1],g=O(Object(n.useState)(!1),2),j=g[0],_=g[1],w=function(){y(!1),S(null),D(!1)},E=O(Object(n.useState)(null),2),k=E[0],S=E[1],P=O(Object(n.useState)(!1),2),C=P[0],D=P[1],T=function(){var e,t=(e=v().m((function e(){var t,n;return v().w((function(e){for(;;)switch(e.n){case 0:return _(!0),e.p=1,e.n=2,b()({method:"GET",path:Object(u.y)("/funnel-analytics/".concat(r,"/reset"))});case 2:"status"in(t=e.v)&&t.status?(S(null),w(),i()):(D({message:Object(o.__)("There are some technical difficulties while reset analytics. Contact Support","funnel-builder")}),S(!1)),e.n=4;break;case 3:e.p=3,n=e.v,console.log(n),D(n),S(!1);case 4:_(!1);case 5:return e.a(2)}}),e,null,[[1,3]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){h(o,n,a,i,c,"next",e)}function c(e){h(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return Object(n.createElement)(n.Fragment,null,Object(n.createElement)(d.a,{className:"bwf-no-style-button bwf-analytics-reset-button",onClick:function(){return y(!0)}},Object(n.createElement)(p.a,{icon:"reset",color:m.TEXT_COLOR_3,size:"12"}),Object(o.__)("Reset","funnel-builder")),f&&Object(n.createElement)(s.Modal,{isDismissible:!0,onRequestClose:w,title:Object(o.__)("Reset Analytics"),className:"bwf-admin-modal bwf-admin-modal-squeezy"},null===k&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf_clear"}),Object(n.createElement)("div",{className:"bwf-modal-content"},Object(o.__)("You are about to Reset Analytics. This action cannot be undone. Click Cancel to stop, Reset to proceed.","funnel-builder")),Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"".concat(isRtl?"bwf-t-left":"bwf-t-right")},Object(n.createElement)(d.a,{onClick:w,className:"bwf-modal-cancel-btn",disabled:j},Object(o.__)("Cancel","funnel-builder")),Object(n.createElement)(d.a,{isPrimary:!0,disabled:j,isBusy:j,"aria-disabled":j,onClick:T},Object(o.__)("Reset","funnel-builder")))),!j&&!0===k&&Object(n.createElement)("div",{className:"bwf-t-center"},Object(n.createElement)("div",{style:{width:"100px",display:"inline-block"},dangerouslySetInnerHTML:{__html:wffn.icons.success_check}})),!j&&!1===k&&Object(n.createElement)("div",{className:"bwf-t-center"},Object(n.createElement)("div",{style:{width:"100px",display:"inline-block"},dangerouslySetInnerHTML:{__html:wffn.icons.error_cross}})),!j&&!1===k&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:"bwf_clear_20"}),Object(n.createElement)("div",{className:"bwf-t-center"},Object(n.createElement)("div",{className:"bwf-p"}," ",Object(o.__)("Error: ","funnel-builder")+C&&"message"in C?C.message:Object(o.__)("There are some technical difficulties while reset analytics. Please contact support","funnel-builder")," ")))))},_=r(6),w=r.n(_),E=r(408),k=r(83),S=r(98);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||x(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=P(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||x(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){if(e){if("string"==typeof e)return F(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F(e,t):void 0}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function L(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function o(r,n,a,o){var l=n&&n.prototype instanceof c?n:c,u=Object.create(l.prototype);return R(u,"_invoke",function(r,n,a){var o,c,l,u=0,s=a||[],f=!1,b={p:0,n:0,v:e,a:d,f:d.bind(e,4),d:function(t,r){return o=t,c=0,l=e,b.n=r,i}};function d(r,n){for(c=r,l=n,t=0;!f&&u&&!a&&t<s.length;t++){var a,o=s[t],d=b.p,p=o[2];r>3?(a=p===n)&&(l=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=e):o[0]<=d&&((a=r<2&&d<o[1])?(c=0,b.v=n,b.n=o[1]):d<p&&(a=r<3||o[0]>n||n>p)&&(o[4]=r,o[5]=n,b.n=p,c=0))}if(a||r>1)return i;throw f=!0,n}return function(a,s,p){if(u>1)throw TypeError("Generator is already running");for(f&&1===s&&d(s,p),c=s,l=p;(t=c<2?e:l)||!f;){o||(c?c<3?(c>1&&(b.n=-1),d(c,l)):b.n=l:b.v=l);try{if(u=2,o){if(c||(a="next"),t=o[a]){if(!(t=t.call(o,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,c<2&&(c=0)}else 1===c&&(t=o.return)&&t.call(o),c<2&&(l=TypeError("The iterator does not provide a '"+a+"' method"),c=1);o=e}else if((t=(f=b.n<0)?l:r.call(n,b))!==i)break}catch(t){o=e,c=1,l=t}finally{u=1}}return{value:t,done:f}}}(r,a,o),!0),u}var i={};function c(){}function l(){}function u(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(R(t={},n,(function(){return this})),t),f=u.prototype=c.prototype=Object.create(s);function b(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,R(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return l.prototype=u,R(f,"constructor",u),R(u,"constructor",l),l.displayName="GeneratorFunction",R(u,a,"GeneratorFunction"),R(f),R(f,a,"Generator"),R(f,n,(function(){return this})),R(f,"toString",(function(){return"[object Generator]"})),(L=function(){return{w:o,m:b}})()}function R(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(R=function(e,t,r,n){if(t)a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var o=function(t,r){R(e,t,(function(e){return this._invoke(t,r,e)}))};o("next",0),o("throw",1),o("return",2)}})(e,t,r,n)}function I(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function M(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){I(o,n,a,i,c,"next",e)}function c(e){I(o,n,a,i,c,"throw",e)}i(void 0)}))}}var B=new AbortController,q=function(){var e=M(L().m((function e(t,r){var n,a;return L().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,b()({path:Object(u.y)("/funnel-analytics/".concat(null!=r?r:0,"/overview/").concat(Object(u.x)(t))),signal:B.signal});case 1:if(!(n=e.v).status){e.n=2;break}return e.a(2,null!==(a=n.data)&&void 0!==a?a:{});case 2:throw n;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r){return e.apply(this,arguments)}}(),U=function(){var e=M(L().m((function e(t,r,n,a,o){var i,c,s,f,b,d,p,m,v,y,h,O,g,j,_,w,E;return L().w((function(e){for(;;)switch(e.n){case 0:if(B.abort(),B=new AbortController,i=t.period,c=t.before,s=t.after,f=Object(u.B)(Object(u.Y)({period:i,before:c,after:s,compare:r})),b=f.primary,d=f.secondary,p={},e.p=1,m=["overall"===i?{overall:""}:{after:b.after.format(u.e),before:b.before.format(u.f)},o],v=[{after:"overall"===i?u.g:d.after.format(u.e),before:d.before.endOf("day").format(u.f)},o],!Object(l.isEmpty)(n.primary)&&n.filter.period===t.period&&("custom"!==t.period&&"specificDate"!==t.period||n.filter.before===t.before&&n.filter.after===t.after)){e.n=3;break}return e.n=2,Promise.all([q.apply(void 0,m),q.apply(void 0,v)]);case 2:y=e.v,h=A(y,2),O=h[0],g=h[1],p.primary=O,p.secondary=g,e.n=5;break;case 3:return p.primary=n.primary,e.n=4,Promise.all([q.apply(void 0,v)]);case 4:j=e.v,_=A(j,1),w=_[0],p.secondary=w;case 5:p.filter=t,p.compare=r,p.isLoading=!1,a(p),e.n=7;break;case 6:e.p=6,"AbortError"!==(E=e.v).name&&a({error:E,isLoading:!1});case 7:return e.a(2)}}),e,null,[[1,6]])})));return function(t,r,n,a,o){return e.apply(this,arguments)}}(),Y=new AbortController,V=function(){var e=M(L().m((function e(t,r,n){var a,o;return L().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,b()({path:Object(u.y)("/funnel-analytics/".concat(null!=n?n:0,"/stats/").concat(Object(u.x)(t))),signal:r});case 1:if(!(a=e.v).status){e.n=2;break}return e.a(2,null!==(o=a.data)&&void 0!==o?o:{});case 2:throw a;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r,n){return e.apply(this,arguments)}}(),K=function(e){return Number(Number(e).toFixed(2).replace(/\.00$/,""))},z=function(){var e=M(L().m((function e(t){var r,n,a,o,i,c,s,f,b,d,p,m,v,y,h,O,g,j,_,w,E,P,C,D,N,x,F,R,I,M=arguments;return L().w((function(e){for(;;)switch(e.n){case 0:if(r=M.length>1&&void 0!==M[1]?M[1]:{data:[]},n=M.length>2?M[2]:void 0,a=M.length>3?M[3]:void 0,o=M.length>4?M[4]:void 0,i=M.length>5&&void 0!==M[5]?M[5]:{},Y.abort(),Y=new AbortController,e.p=1,c=t.period,s=t.before,f=t.after,b=t.compare,d=void 0===b?"none":b,p=t.interval,m=Object(u.B)(Object(u.Y)({period:c,before:s,after:f,compare:"none"===d?"previous_period":d})),v=m.primary,y=m.secondary,h=["overall"===c?{overall:""}:{after:v.after.format(u.e),before:v.before.format(u.f),interval:p},Y.signal,o],O=[{after:"overall"===c?u.g:y.after.format(u.e),before:y.before.endOf("day").format(u.f),interval:p},Y.signal,o],g=Object(l.isEmpty)(i)?{}:i,j={},"none"===d||!r||r.filter.period!==c||"custom"===c||Object(l.isEmpty)(r.data)||!Object(l.isEmpty)(g)){e.n=3;break}return e.n=2,Promise.all([V.apply(void 0,O)]);case 2:_=e.v,w=A(_,1),E=w[0],g.secondary=E,j.data=r.data.map((function(e,r){var n=Object(k.f)(e.labelDate,v.after,y.after,d,p),o=g.secondary&&g.secondary.intervals&&g.secondary.intervals[r]?g.secondary.intervals[r]:{subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}};return T(T({},e),{},{secondary:{label:Object(u.S)(t,d,!0),labelDate:n.format(u.d),value:K(o.subtotals[a.key])}})})),e.n=9;break;case 3:if(!Object(l.isEmpty)(r.data)&&"none"===d&&r.filter.period===c&&"custom"!==c&&Object(l.isEmpty)(g)){e.n=8;break}if("none"===d||g.hasOwnProperty("primary")||g.hasOwnProperty("secondary")){e.n=5;break}return e.n=4,Promise.all([V.apply(void 0,h),V.apply(void 0,O)]);case 4:P=e.v,C=A(P,2),D=C[0],N=C[1],g.primary=D,g.secondary=N,e.n=7;break;case 5:if("none"!==d||g.hasOwnProperty("primary")){e.n=7;break}return e.n=6,Promise.all([V.apply(void 0,h)]);case 6:x=e.v,F=A(x,1),R=F[0],g.primary=R;case 7:j.data=g.primary.intervals.map((function(e,r){var n=Object(k.f)(e.start_date,v.after,y.after,d,p),o=g.secondary&&g.secondary.intervals&&g.secondary.intervals[r]?g.secondary.intervals[r]:{subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}};return T({date:Object(S.format)("Y-m-d\\TH:i:s",e.start_date),primary:{label:Object(u.D)(t,!0),labelDate:e.start_date,value:K(e.subtotals[a.key])}},"none"!==d&&o&&{secondary:{label:Object(u.S)(t,d,!0),labelDate:n.format(u.d),value:K(o.subtotals[a.key])}})})),e.n=9;break;case 8:j.data=r.data.map((function(e){return delete e.secondary,e}));case 9:j.filter=t,j.isLoading=!1,j.interval_type=g.primary.interval_type,n(j,g),e.n=11;break;case 10:e.p=10,"AbortError"!==(I=e.v).name&&(console.log(I),n({error:I,isLoading:!1}));case 11:return e.a(2)}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),H=new AbortController,G=function(){var e=M(L().m((function e(t,r,n){var a,o;return L().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,b()({path:Object(u.y)("/funnel-analytics/".concat(n,"/steps/").concat(Object(u.x)(t))),signal:r});case 1:if(!(a=e.v).status){e.n=2;break}return e.a(2,null!==(o=a.data)&&void 0!==o?o:{});case 2:throw a;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r,n){return e.apply(this,arguments)}}(),W=function(){var e=M(L().m((function e(t,r,n){var a,o,i,c,l,s,f,b,d;return L().w((function(e){for(;;)switch(e.n){case 0:return H.abort(),H=new AbortController,a=t.period,o=t.before,i=t.after,c=Object(u.B)(Object(u.Y)({period:a,before:o,after:i})),l=c.primary,s={},e.p=1,f=["overall"===a?{overall:""}:{after:l.after.format(u.e),before:l.before.format(u.f)},H.signal,n],e.n=2,G.apply(void 0,f);case 2:b=e.v,s.data=b.records,s.filter=t,s.isLoading=!1,r(s,b.funnel_data),e.n=4;break;case 3:e.p=3,"AbortError"!==(d=e.v).name&&(console.log(d),r({error:d,isLoading:!1}));case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(t,r,n){return e.apply(this,arguments)}}(),$=new AbortController,Q=function(){var e=M(L().m((function e(t,r){var n,a;return L().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,b()({path:Object(u.y)("/funnel-analytics/global/funnel-list/".concat(Object(u.x)(t))),signal:r});case 1:if(!(n=e.v).status){e.n=2;break}return e.a(2,null!==(a=n.funnels)&&void 0!==a?a:{});case 2:throw n;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=M(L().m((function e(t,r){var n,a,o,i,c,l,s,f,b,d,p,m=arguments;return L().w((function(e){for(;;)switch(e.n){case 0:return n=m.length>2&&void 0!==m[2]?m[2]:{},a=m.length>3&&void 0!==m[3]&&m[3],$.abort(),$=new AbortController,o=t.period,i=t.before,c=t.after,l=Object(u.B)(Object(u.Y)({period:o,before:i,after:c})),s=l.primary,f={},e.p=1,b=[T("overall"===o?{overall:""}:{after:s.after.format(u.e),before:s.before.format(u.f)},n),H.signal],e.n=2,Q.apply(void 0,b);case 2:d=e.v,a&&(f.sale={isLoading:!0},f.lead={isLoading:!0}),f[n.funnel_type]={data:d.data,isLoading:!1,total:d.total_count},f.filter=t,f.isLoading=!1,r(f),e.n=4;break;case 3:e.p=3,"AbortError"!==(p=e.v).name&&(console.log(p),r({error:p,isLoading:!1}));case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(t,r){return e.apply(this,arguments)}}(),Z=new AbortController,J=function(){var e=M(L().m((function e(t,r){var n;return L().w((function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,b()({path:Object(u.y)("/funnel-analytics/all-upsells/".concat(Object(u.x)(t))),signal:r});case 1:if(!(n=e.v).status||null==n||!n.result){e.n=2;break}return e.a(2,n.result||{});case 2:throw n;case 3:throw e.p=3,e.v;case 4:return e.a(2)}}),e,null,[[0,3]])})));return function(t,r){return e.apply(this,arguments)}}(),ee=function(){var e=M(L().m((function e(t,r){var n,a,o,i,c,l,s,f,b,d,p,m=arguments;return L().w((function(e){for(;;)switch(e.n){case 0:return n=m.length>2&&void 0!==m[2]?m[2]:{},a=m.length>3&&void 0!==m[3]&&m[3],Z.abort(),Z=new AbortController,o=t.period,i=t.before,c=t.after,l=Object(u.B)(Object(u.Y)({period:o,before:i,after:c})),s=l.primary,f={},e.p=1,b=[T("overall"===o?{overall:""}:{after:s.after.format(u.d),before:s.before.format(u.d)},n),H.signal],e.n=2,J.apply(void 0,b);case 2:d=e.v,a&&(f.isLoading=!0),f.data=d.items,f.isLoading=!1,f.total=d.total_count,f.filter=t,r(f),e.n=4;break;case 3:e.p=3,"AbortError"!==(p=e.v).name&&(console.log(p),r({error:p,isLoading:!1}));case 4:return e.a(2)}}),e,null,[[1,3]])})));return function(t,r){return e.apply(this,arguments)}}(),te=r(26);function re(e){return(re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ne=["getStateProp"];function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ie(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=re(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=re(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==re(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ce=function(){var e=Object(te.a)("analytics"),t=e.getStateProp,r=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,ne),n=function(e){return e?"".concat(e,"_"):""};return oe(oe({},r),{},{getoverviewData:function(e){var r;return null!==(r=t("".concat(n(e),"overview")))&&void 0!==r?r:{}},getChartData:function(e){var r;return null!==(r=t("".concat(n(e),"chart_data")))&&void 0!==r?r:{}},getChartRawData:function(e){var r;return null!==(r=t("".concat(n(e),"chart_raw_data")))&&void 0!==r?r:{}},getStepsData:function(e){var r;return null!==(r=t("".concat(n(e),"steps")))&&void 0!==r?r:{}},getAnalyticsFunnel:function(){return t("selectedFunnel")},getFunnelRevenueData:function(){return t("funnel_revenue")},getUpsellRevenueData:function(){return t("upsell_revenue")},getFunnelList:function(){return t("funnel_list")}})},le=r(135),ue={primary:{unique_visits:"537",contacts:"111",total_orders:"140",total_revenue:5974.42,checkout_revenue:4682.22,upsell_revenue:860,bump_revenue:432.2,convert_time:"0.0000",average_order_value:42.67442857142857,revenue_per_visit:11.125549348230912},secondary:{unique_visits:"1",contacts:"0",total_orders:"0",total_revenue:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time:"0.0000",average_order_value:0,revenue_per_visit:0},extra:{unique_visits:"2",contacts:"0",total_orders:"0",total_revenue:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time:"0.0000",average_order_value:0,revenue_per_visit:0},filter:{period:"overall",after:"",before:""},isLoading:!1},se={data:[{date:"2023-04-19T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-19 00:00:00",value:20}},{date:"2023-04-20T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-20 00:00:00",value:25}},{date:"2023-04-21T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-21 00:00:00",value:30}},{date:"2023-04-22T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-22 00:00:00",value:35}},{date:"2023-04-23T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-23 00:00:00",value:40}},{date:"2023-04-24T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-24 00:00:00",value:50}},{date:"2023-04-25T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-25 00:00:00",value:80}},{date:"2023-04-26T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-26 00:00:00",value:90}},{date:"2023-04-27T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-27 00:00:00",value:180}},{date:"2023-04-28T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-28 00:00:00",value:240}},{date:"2023-04-29T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-29 00:00:00",value:150}},{date:"2023-04-30T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-04-30 00:00:00",value:130}},{date:"2023-05-01T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-01 00:00:00",value:90}},{date:"2023-05-02T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-02 00:00:00",value:250}},{date:"2023-05-03T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-03 00:00:00",value:320}},{date:"2023-05-04T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-04 00:00:00",value:140}},{date:"2023-05-05T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-05 00:00:00",value:450}},{date:"2023-05-06T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-06 00:00:00",value:56}},{date:"2023-05-07T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-07 00:00:00",value:60}},{date:"2023-05-08T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-08 00:00:00",value:14}},{date:"2023-05-09T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-09 00:00:00",value:150}},{date:"2023-05-10T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-10 00:00:00",value:180}},{date:"2023-05-11T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-11 00:00:00",value:120}},{date:"2023-05-12T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-12 00:00:00",value:140}},{date:"2023-05-13T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-13 00:00:00",value:250}},{date:"2023-05-14T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-14 00:00:00",value:147}},{date:"2023-05-15T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-15 00:00:00",value:250}},{date:"2023-05-16T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-16 00:00:00",value:258}},{date:"2023-05-17T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-17 00:00:00",value:147}},{date:"2023-05-18T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-18 00:00:00",value:35}},{date:"2023-05-19T00:00:00",primary:{label:"Last 30 Days (Apr 19 - May 19, 2023)",labelDate:"2023-05-19 00:00:00",value:80}}],filter:{period:"last_30_days",before:"",after:"",compare:"none",interval:"day"},isLoading:!1},fe={sale:{data:[{fid:"153",views:"30",conversion:"15",conversion_rate:"50",total:"120",title:"Summer Fashion Collection Launch"},{fid:"162",views:"25",conversion:"5",conversion_rate:"20",total:"340",title:"Black Friday Electronics Bundle"},{fid:"179",views:"25",conversion:"5",conversion_rate:"20",total:"520",title:"Holiday Gift Guide 2023"},{fid:"187",views:"250",conversion:"100",conversion_rate:"40",total:"470",title:"Fitness Program Launch"},{fid:"188",views:"180",conversion:"72",conversion_rate:"40",total:"360",title:"Home Decor Collection"},{fid:"189",views:"300",conversion:"90",conversion_rate:"30",total:"900",title:"Pet Care Essentials"},{fid:"190",views:"400",conversion:"160",conversion_rate:"40",total:"800",title:"Digital Marketing Course"},{fid:"191",views:"200",conversion:"80",conversion_rate:"40",total:"400",title:"Wedding Photography Package"},{fid:"192",views:"150",conversion:"45",conversion_rate:"30",total:"675",title:"Cooking Masterclass"},{fid:"193",views:"350",conversion:"140",conversion_rate:"40",total:"700",title:"Business Startup Kit"}],isLoading:!1,total:10},lead:{data:[],isLoading:!1,total:10},filter:{period:"last_30_days",before:"",after:""},isLoading:!1},be={data:[{type:"sales",object_id:"255307",object_name:"Sales page",revenue:null,conversions:734,views:1080,conversion_rate:67.96},{type:"optin",object_id:"255329",object_name:"Optin page",revenue:null,conversions:311,views:734,conversion_rate:42.37},{type:"checkout",object_id:"255308",object_name:"Checkout page",revenue:"27540.50",conversions:85,views:311,conversion_rate:27.33},{type:"bump",object_id:255318,object_name:"Bump",revenue:"4896.00",conversions:68,views:311,conversion_rate:21.86},{type:"upsell",object_id:"255323",object_name:"Upsells",revenue:"",conversions:"",views:"",conversion_rate:"",offers:[{object_id:"255324",object_name:"Offer 1 - Upsell",revenue:"3752.00",conversions:31,views:68,conversion_rate:45.58},{object_id:"255324",object_name:"Offer 2 - Downsell",revenue:"1275.00",conversions:15,views:37,conversion_rate:40.54}]},{type:"thankyou",object_id:"255309",object_name:"Thank you page",revenue:null,conversions:null,views:85,conversion_rate:null}],filter:{period:"last_30_days",before:"",after:""},isLoading:!1},de={primary:[{interval:"2023-04-19",start_date:"2023-04-19 00:00:00",date_start_gmt:"2023-04-18 18:30:00",end_date:"2023-04-19 23:59:59",date_end_gmt:"2023-04-19 18:29:59",subtotals:{unique_visits:20,total_orders:14,total_revenue:20,revenue_per_visit:35,checkout_revenue:47,upsell_revenue:50,bump_revenue:60,convert_time_second:14,contacts:10,average_order_value:50}},{interval:"2023-04-20",start_date:"2023-04-20 00:00:00",date_start_gmt:"2023-04-19 18:30:00",end_date:"2023-04-20 23:59:59",date_end_gmt:"2023-04-20 18:29:59",subtotals:{unique_visits:25,total_orders:24,total_revenue:85,revenue_per_visit:74,checkout_revenue:45,upsell_revenue:20,bump_revenue:35,convert_time_second:78,contacts:96,average_order_value:47}},{interval:"2023-04-21",start_date:"2023-04-21 00:00:00",date_start_gmt:"2023-04-20 18:30:00",end_date:"2023-04-21 23:59:59",date_end_gmt:"2023-04-21 18:29:59",subtotals:{unique_visits:30,total_orders:45,total_revenue:46,revenue_per_visit:46,checkout_revenue:74,upsell_revenue:85,bump_revenue:45,convert_time_second:4,contacts:5,average_order_value:10}},{interval:"2023-04-22",start_date:"2023-04-22 00:00:00",date_start_gmt:"2023-04-21 18:30:00",end_date:"2023-04-22 23:59:59",date_end_gmt:"2023-04-22 18:29:59",subtotals:{unique_visits:35,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-04-23",start_date:"2023-04-23 00:00:00",date_start_gmt:"2023-04-22 18:30:00",end_date:"2023-04-23 23:59:59",date_end_gmt:"2023-04-23 18:29:59",subtotals:{unique_visits:40,total_orders:74,total_revenue:35,revenue_per_visit:40,checkout_revenue:56,upsell_revenue:74,bump_revenue:63,convert_time_second:12,contacts:14,average_order_value:50}},{interval:"2023-04-24",start_date:"2023-04-24 00:00:00",date_start_gmt:"2023-04-23 18:30:00",end_date:"2023-04-24 23:59:59",date_end_gmt:"2023-04-24 18:29:59",subtotals:{unique_visits:50,total_orders:45,total_revenue:120,revenue_per_visit:10,checkout_revenue:41,upsell_revenue:52,bump_revenue:63,convert_time_second:74,contacts:45,average_order_value:45}},{interval:"2023-04-25",start_date:"2023-04-25 00:00:00",date_start_gmt:"2023-04-24 18:30:00",end_date:"2023-04-25 23:59:59",date_end_gmt:"2023-04-25 18:29:59",subtotals:{unique_visits:80,total_orders:74,total_revenue:63,revenue_per_visit:45,checkout_revenue:74,upsell_revenue:85,bump_revenue:56,convert_time_second:74,contacts:63,average_order_value:45}},{interval:"2023-04-26",start_date:"2023-04-26 00:00:00",date_start_gmt:"2023-04-25 18:30:00",end_date:"2023-04-26 23:59:59",date_end_gmt:"2023-04-26 18:29:59",subtotals:{unique_visits:90,total_orders:41,total_revenue:12,revenue_per_visit:85,checkout_revenue:74,upsell_revenue:96,bump_revenue:78,convert_time_second:63,contacts:25,average_order_value:78}},{interval:"2023-04-27",start_date:"2023-04-27 00:00:00",date_start_gmt:"2023-04-26 18:30:00",end_date:"2023-04-27 23:59:59",date_end_gmt:"2023-04-27 18:29:59",subtotals:{unique_visits:180,total_orders:44,total_revenue:41,revenue_per_visit:35,checkout_revenue:74,upsell_revenue:85,bump_revenue:45,convert_time_second:96,contacts:45,average_order_value:120}},{interval:"2023-04-28",start_date:"2023-04-28 00:00:00",date_start_gmt:"2023-04-27 18:30:00",end_date:"2023-04-28 23:59:59",date_end_gmt:"2023-04-28 18:29:59",subtotals:{unique_visits:240,total_orders:170,total_revenue:147,revenue_per_visit:45,checkout_revenue:52,upsell_revenue:12,bump_revenue:41,convert_time_second:65,contacts:78,average_order_value:52}},{interval:"2023-04-29",start_date:"2023-04-29 00:00:00",date_start_gmt:"2023-04-28 18:30:00",end_date:"2023-04-29 23:59:59",date_end_gmt:"2023-04-29 18:29:59",subtotals:{unique_visits:150,total_orders:96,total_revenue:78,revenue_per_visit:45,checkout_revenue:65,upsell_revenue:52,bump_revenue:82,convert_time_second:92,contacts:47,average_order_value:63}},{interval:"2023-04-30",start_date:"2023-04-30 00:00:00",date_start_gmt:"2023-04-29 18:30:00",end_date:"2023-04-30 23:59:59",date_end_gmt:"2023-04-30 18:29:59",subtotals:{unique_visits:130,total_orders:74,total_revenue:86,revenue_per_visit:41,checkout_revenue:52,upsell_revenue:63,bump_revenue:78,convert_time_second:96,contacts:41,average_order_value:21}},{interval:"2023-05-01",start_date:"2023-05-01 00:00:00",date_start_gmt:"2023-04-30 18:30:00",end_date:"2023-05-01 23:59:59",date_end_gmt:"2023-05-01 18:29:59",subtotals:{unique_visits:90,total_orders:89,total_revenue:63,revenue_per_visit:47,checkout_revenue:41,upsell_revenue:52,bump_revenue:85,convert_time_second:96,contacts:74,average_order_value:89}},{interval:"2023-05-02",start_date:"2023-05-02 00:00:00",date_start_gmt:"2023-05-01 18:30:00",end_date:"2023-05-02 23:59:59",date_end_gmt:"2023-05-02 18:29:59",subtotals:{unique_visits:250,total_orders:52,total_revenue:45,revenue_per_visit:63,checkout_revenue:74,upsell_revenue:52,bump_revenue:74,convert_time_second:78,contacts:32,average_order_value:62}},{interval:"2023-05-03",start_date:"2023-05-03 00:00:00",date_start_gmt:"2023-05-02 18:30:00",end_date:"2023-05-03 23:59:59",date_end_gmt:"2023-05-03 18:29:59",subtotals:{unique_visits:320,total_orders:74,total_revenue:85,revenue_per_visit:74,checkout_revenue:35,upsell_revenue:85,bump_revenue:62,convert_time_second:58,contacts:69,average_order_value:74}},{interval:"2023-05-04",start_date:"2023-05-04 00:00:00",date_start_gmt:"2023-05-03 18:30:00",end_date:"2023-05-04 23:59:59",date_end_gmt:"2023-05-04 18:29:59",subtotals:{unique_visits:140,total_orders:32,total_revenue:74,revenue_per_visit:35,checkout_revenue:74,upsell_revenue:35,bump_revenue:74,convert_time_second:52,contacts:74,average_order_value:85}},{interval:"2023-05-05",start_date:"2023-05-05 00:00:00",date_start_gmt:"2023-05-04 18:30:00",end_date:"2023-05-05 23:59:59",date_end_gmt:"2023-05-05 18:29:59",subtotals:{unique_visits:450,total_orders:36,total_revenue:58,revenue_per_visit:74,checkout_revenue:58,upsell_revenue:35,bump_revenue:74,convert_time_second:85,contacts:25,average_order_value:30}},{interval:"2023-05-06",start_date:"2023-05-06 00:00:00",date_start_gmt:"2023-05-05 18:30:00",end_date:"2023-05-06 23:59:59",date_end_gmt:"2023-05-06 18:29:59",subtotals:{unique_visits:56,total_orders:52,total_revenue:47,revenue_per_visit:58,checkout_revenue:36,upsell_revenue:85,bump_revenue:89,convert_time_second:74,contacts:35,average_order_value:78}},{interval:"2023-05-07",start_date:"2023-05-07 00:00:00",date_start_gmt:"2023-05-06 18:30:00",end_date:"2023-05-07 23:59:59",date_end_gmt:"2023-05-07 18:29:59",subtotals:{unique_visits:60,total_orders:45,total_revenue:36,revenue_per_visit:74,checkout_revenue:85,upsell_revenue:85,bump_revenue:96,convert_time_second:48,contacts:45,average_order_value:42}},{interval:"2023-05-08",start_date:"2023-05-08 00:00:00",date_start_gmt:"2023-05-07 18:30:00",end_date:"2023-05-08 23:59:59",date_end_gmt:"2023-05-08 18:29:59",subtotals:{unique_visits:14,total_orders:78,total_revenue:85,revenue_per_visit:96,checkout_revenue:74,upsell_revenue:47,bump_revenue:25,convert_time_second:78,contacts:35,average_order_value:78}},{interval:"2023-05-09",start_date:"2023-05-09 00:00:00",date_start_gmt:"2023-05-08 18:30:00",end_date:"2023-05-09 23:59:59",date_end_gmt:"2023-05-09 18:29:59",subtotals:{unique_visits:150,total_orders:14,total_revenue:52,revenue_per_visit:25,checkout_revenue:85,upsell_revenue:35,bump_revenue:96,convert_time_second:74,contacts:35,average_order_value:78}},{interval:"2023-05-10",start_date:"2023-05-10 00:00:00",date_start_gmt:"2023-05-09 18:30:00",end_date:"2023-05-10 23:59:59",date_end_gmt:"2023-05-10 18:29:59",subtotals:{unique_visits:180,total_orders:25,total_revenue:74,revenue_per_visit:65,checkout_revenue:47,upsell_revenue:40,bump_revenue:80,convert_time_second:90,contacts:45,average_order_value:74}},{interval:"2023-05-11",start_date:"2023-05-11 00:00:00",date_start_gmt:"2023-05-10 18:30:00",end_date:"2023-05-11 23:59:59",date_end_gmt:"2023-05-11 18:29:59",subtotals:{unique_visits:120,total_orders:450,total_revenue:10,revenue_per_visit:74,checkout_revenue:24,upsell_revenue:40,bump_revenue:78,convert_time_second:85,contacts:96,average_order_value:74}},{interval:"2023-05-12",start_date:"2023-05-12 00:00:00",date_start_gmt:"2023-05-11 18:30:00",end_date:"2023-05-12 23:59:59",date_end_gmt:"2023-05-12 18:29:59",subtotals:{unique_visits:140,total_orders:20,total_revenue:20,revenue_per_visit:74,checkout_revenue:30,upsell_revenue:85,bump_revenue:95,convert_time_second:74,contacts:42,average_order_value:85}},{interval:"2023-05-13",start_date:"2023-05-13 00:00:00",date_start_gmt:"2023-05-12 18:30:00",end_date:"2023-05-13 23:59:59",date_end_gmt:"2023-05-13 18:29:59",subtotals:{unique_visits:250,total_orders:96,total_revenue:75,revenue_per_visit:85,checkout_revenue:80,upsell_revenue:30,bump_revenue:74,convert_time_second:74,contacts:74,average_order_value:85}},{interval:"2023-05-14",start_date:"2023-05-14 00:00:00",date_start_gmt:"2023-05-13 18:30:00",end_date:"2023-05-14 23:59:59",date_end_gmt:"2023-05-14 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-15",start_date:"2023-05-15 00:00:00",date_start_gmt:"2023-05-14 18:30:00",end_date:"2023-05-15 23:59:59",date_end_gmt:"2023-05-15 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-16",start_date:"2023-05-16 00:00:00",date_start_gmt:"2023-05-15 18:30:00",end_date:"2023-05-16 23:59:59",date_end_gmt:"2023-05-16 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-17",start_date:"2023-05-17 00:00:00",date_start_gmt:"2023-05-16 18:30:00",end_date:"2023-05-17 23:59:59",date_end_gmt:"2023-05-17 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-18",start_date:"2023-05-18 00:00:00",date_start_gmt:"2023-05-17 18:30:00",end_date:"2023-05-18 23:59:59",date_end_gmt:"2023-05-18 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}},{interval:"2023-05-19",start_date:"2023-05-19 00:00:00",date_start_gmt:"2023-05-18 18:30:00",end_date:"2023-05-19 23:59:59",date_end_gmt:"2023-05-19 18:29:59",subtotals:{unique_visits:0,total_orders:0,total_revenue:0,revenue_per_visit:0,checkout_revenue:0,upsell_revenue:0,bump_revenue:0,convert_time_second:0,contacts:0,average_order_value:0}}]},pe={isLoading:!1,data:[{title:"Spring Essentials Bundle",funnel_name:"Spring Collection Launch",views:1500,conversion:120,type:"wfob_bump",revenue:"1500.00",conversion_rate:"8"},{title:"Black Friday Special",funnel_name:"Black Friday 2024",views:2500,conversion:300,type:"wfocu_offer",revenue:"7500.00",conversion_rate:"12"},{title:"Premium Membership Upgrade",funnel_name:"VIP Membership Funnel",views:1800,conversion:250,type:"wfocu_offer",revenue:"4500.00",conversion_rate:"13.89"},{title:"Holiday Gift Guide Bundle",funnel_name:"Holiday Gift Guide 2024",views:2e3,conversion:190,type:"wfob_bump",revenue:"3800.00",conversion_rate:"9.5"},{title:"Fitness Starter Pack",funnel_name:"New Year Fitness Challenge",views:3e3,conversion:450,type:"wfocu_offer",revenue:"13500.00",conversion_rate:"15"},{title:"Digital Marketing Course",funnel_name:"Marketing Academy Launch",views:2900,conversion:430,type:"wfob_bump",revenue:"12900.00",conversion_rate:"14.83"},{title:"Wedding Photography Package",funnel_name:"Wedding Season Special",views:3100,conversion:460,type:"wfocu_offer",revenue:"13900.00",conversion_rate:"14.84"},{title:"Home Office Setup Bundle",funnel_name:"Work From Home Essentials",views:2800,conversion:400,type:"wfob_bump",revenue:"12000.00",conversion_rate:"14.29"},{title:"Summer Beauty Box",funnel_name:"Summer Beauty Launch",views:3200,conversion:480,type:"wfob_bump",revenue:"14400.00",conversion_rate:"15"},{title:"Pet Care Essentials Kit",funnel_name:"Pet Care Collection",views:3300,conversion:500,type:"wfob_bump",revenue:"15000.00",conversion_rate:"15.15"}],total:10},me=r(20);function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ye(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var he=function(e){var t=e.funnelId,r=e.metrics,a=e.filter,i=e.compare,c=ce(),f=c.getChartData,b=c.getChartRawData,d=f(t),p=b(t),m=d.data,v=d.isLoading,y=void 0===v||v,h=d.interval_type,O=ve(Object(n.useState)(r[0]),2),g=O[0],j=O[1],_=Object(n.useRef)(!0),k=Object(me.b)().isProFeatureLocked,S=function(e){var r=e.period,n=e.before,a=e.after,o=e.compare,i=e.interval,c=e.selectedData,u=e.rawData,s=void 0===u?{}:u,f=e.reset,b=void 0!==f&&f;k&&Object(l.isEmpty)(s)?C(se,t):(C({isLoading:!0},t),z({period:r,before:n,after:a,compare:o,interval:i},k?se:b?[]:d,(function(e,r){C(e,t),D(r,t)}),c||g,t,b?[]:s))},P=Object(le.a)(),C=P.setChartData,D=P.setChartRawData;Object(n.useEffect)((function(){_.current&&!y||S({period:a.period,before:a.before,after:a.after,compare:i,interval:Object(u.K)(a),reset:!0}),_.current&&(_.current=!1)}),[t,a,i]);var T=Object(u.E)("overall"===a.period?h:Object(u.K)(a),d.length);return Object(n.createElement)(E.a,{allowedIntervals:[],interval:"overall"===a.period?h:Object(u.K)(a),isRequesting:y,data:m,chartType:"curve-line",title:Object(n.createElement)(n.Fragment,null,Object(n.createElement)("div",{className:""},Object(o.__)("Performance","funnel-builder"))),layout:"item-comparison",showLegend:"none"!==i,hideTypeSelect:!0,xFormat:T.xFormat,x2Format:T.x2Format,screenReaderFormat:T.screenReaderFormat,tooltipLabelFormat:T.tooltipLabelFormat,tabs:r,height:340,chartMeta:g,customHeaderItem:Object(n.createElement)(n.Fragment,null,r&&Object(l.isArray)(r)&&Object(n.createElement)("div",{className:"bwf-chart-tabs"},r.filter((function(e){return"convert_time"!==e.key})).map((function(e){return Object(n.createElement)(s.Button,{className:w()({"is-gray-light":g.key!==e.key,"is-secondary-light":g.key===e.key}),key:e.key,onClick:function(){j(e),k||S({period:a.period,before:a.before,after:a.after,compare:i,interval:Object(u.K)(a.period),selectedData:e,rawData:k?de:p})}},e.title)}))))})},Oe=r(55),ge=r(22),je=r(29),_e=r(28),we=r(525),Ee=r(45),ke=(r(1189),r(63));function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ce=function(e){var t=e.toggler,r=e.title,a=e.items,i=void 0===a?[]:a,c=e.total,l=e.totalText,s=void 0===l?Object(o.__)("Total","funnel-builder"):l,f=e.headers,b=void 0===f?[]:f,d=e.className,m=e.tooltip,v=e.tooltipKey,y=void 0===v?"Other":v,h=Se(Object(n.useState)(!1),2),O=h[0],g=h[1],j=Object(n.useRef)(),_=Object(n.useRef)();Object(u.ub)(j,(function(){g(!1)}),_);return Object(n.createElement)("span",{className:w()("bwf-breakdown-popover-wrap",d)},Object(n.createElement)("span",{onClick:function(){return g((function(e){return!e}))},ref:_,className:"bwf-breakdown-popover__toggler"},t),O&&Object(n.createElement)(Ee.a,{className:"bwf-breakdown-popover",ref:j},Object(n.createElement)("div",{className:"bwf-breakdown-popover__header"},r,Object(n.createElement)("span",{className:"bwf-breakdown-popover__close",onClick:function(){return g(!1)}},Object(n.createElement)(p.a,{icon:"cross",size:14}))),Object(n.createElement)("div",{className:"revenue-breakdown-popover__content"},Object(n.createElement)("table",null,Object(n.createElement)("thead",null,Object(n.createElement)("tr",null,b.map((function(e,t){return Object(n.createElement)("th",{key:t},e.label)})))),Object(n.createElement)("tbody",null,i.map((function(e,t){return Object(n.createElement)("tr",{key:"breakdown-item-".concat(t)},b.map((function(t,r){return Object(n.createElement)("td",{key:"item-".concat(t.key)},e[t.key],t.tag&&e[t.tag]&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("br",null),Object(n.createElement)(ge.c,{content:e[t.tag]})),0===r&&y===e[t.key]&&Object(n.createElement)(ke.a,{toolTipText:m},Object(n.createElement)(p.a,{icon:"info",size:28})))})))}))),Object(n.createElement)("tfoot",{className:"bwf-breakdown-popover__footer"},Object(n.createElement)("td",null,s),Object(n.createElement)("td",null),Object(n.createElement)("td",null,c))))))},De=r(12),Te=r(40),Ne=r(59),Ae=r(23);function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach((function(t){Re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=xe(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=xe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xe(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ie(e){return function(e){if(Array.isArray(e))return Me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Me(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Me(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Be=function(){return Object(n.createElement)(Ae.a,{href:Object(u.L)("/store-checkout/steps&importType=step")},Object(n.createElement)(ge.c,{content:Object(n.createElement)(n.Fragment,null,Object(n.createElement)(p.a,{icon:"error-connection",size:"16",color:m.DANGER_COLOR}),Object(o.__)("Setup FunnelKit Checkout ","funnel-builder")),type:"danger",className:"bwf-setup-store-checkout-tag"}))},qe=function(){return Object(n.createElement)(Ne.a,{status:"warning",className:"bwf-setup-store-checkout-notice"},Object(n.createElement)("b",null,Object(o.__)("Information:","funnel-builder")),Object(o.__)("You are using the default WooCommerce checkout page, To track checkout analytics, Please setup FunnelKit's checkout. ","funnel-builder"),Object(n.createElement)(Ae.a,{href:Object(u.L)("/store-checkout/steps&importType=step")},Object(o.__)("Setup Checkout","funnel-builder")))},Ue=function(){return Object(n.createElement)(Oe.a,{className:"bwf-analytics__step-content",gap:6},Object(n.createElement)(Oe.c,{className:"bwf-w-1/3"},Object(n.createElement)(_e.a,{w:"90%",h:20})),Object(n.createElement)(Oe.c,{className:"bwf-w-2/3"},Object(n.createElement)(Oe.a,null,Object(n.createElement)(Oe.c,null,Object(n.createElement)(_e.a,{w:104,h:20,br:24})),Object(n.createElement)(Oe.c,null,Object(n.createElement)(_e.a,{w:60,h:16,ml:"auto",mr:"auto"}),Object(n.createElement)(_e.a,{w:120,h:16,mt:4})),Object(n.createElement)(Oe.c,null,Object(n.createElement)(_e.a,{w:60,h:16,ml:"auto",mr:"auto"}),Object(n.createElement)(_e.a,{w:120,h:16,mt:4})),Object(n.createElement)(Oe.c,null,Object(n.createElement)(_e.a,{w:60,h:16,ml:"auto",mr:"auto"}),Object(n.createElement)(_e.a,{w:120,h:16,mt:4})),Object(n.createElement)(Oe.c,null,Object(n.createElement)(_e.a,{w:60,h:16,ml:"auto",mr:"auto"}),Object(n.createElement)(_e.a,{w:120,h:16,mt:4})))))},Ye=function(e){var t=e.funnelId,r=e.isGlobal,a=e.filter,i=e.globalFunnelTitle,c=Object(le.a)().setStepsData,s=ce().getStepsData,f=Object(u.A)(),b=Object(je.a)().setFunnelData,d=s(t),m=d.data,v=void 0===m?[]:m,y=d.isLoading,h=void 0===y||y,O=Object(me.b)().isProFeatureLocked,g=Object(n.useRef)(!0),j=Object(Te.a)().setPreviousStep;Object(n.useEffect)((function(){g.current&&!h||(O?c(be,t):(c({isLoading:!0},t),W({period:a.period,before:a.before,after:a.after},(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(e,t),Object(l.isEmpty)(r)||(b("funnelTitle",r.title),r.hasOwnProperty("status")&&b("status",r.status),b("isLoading",!1))}),t))),g.current&&(g.current=!1)}),[t,a]);var _=function(e){var t=function(e){return e.hasOwnProperty("object_name")&&e.object_name?e.object_name:e.object_id}(e),r=!1;return!0===e.ab&&(r=!0),Object(n.createElement)("div",{className:"bwf-c-contact-details-cell"},t,!0===r&&Object(n.createElement)("span",{className:"bwf-c-s-h"},"Variant"))},w=function(e){var t="";switch(e.type){case"sales":case"landing":t=Object(o.__)("Sales Page","funnel-builder");break;case"optin":t=Object(o.__)("Optin","funnel-builder");break;case"optin_ty":t=Object(o.__)("Optin Thankyou","funnel-builder");break;case"checkout":case"wc_native":t=Object(o.__)("Checkout","funnel-builder");break;case"bump":t=Object(o.__)("Order Bump","funnel-builder");break;case"upsell":t=Object(o.__)("One Click Upsell","funnel-builder");break;case"offer":t=Object(o.__)("Offer","funnel-builder");break;case"thankyou":t=Object(o.__)("Thankyou","funnel-builder")}return Object(n.createElement)(ge.c,{content:t})},E=Object(n.createElement)("div",{className:"bwf-card-title"},Object(o.__)("Steps","funnel-builder"),r&&Object(n.createElement)("span",{className:"bwf-analytics__date-filter-text"},"(",i,")")),k=function(e){return Array.isArray(e.source_revenue)&&e.source_revenue.length>0?Object(n.createElement)(Ce,{className:"bwf-ml-4",toggler:Object(n.createElement)(p.a,{icon:"info",size:"12"}),title:Object(o.__)("Revenue Sources","funnel-builder"),totalText:Object(o.__)("Checkout Total","funnel-builder"),items:e.source_revenue&&e.source_revenue.map((function(e){return Le(Le({},e),{},{amount:f.formatAmount(e.amount)})})),total:f.formatAmount(e.revenue),headers:[{key:"title",label:Object(o.__)("Step Name","funnel-builder"),tag:"type"},{key:"order",label:Object(o.__)("Orders","funnel-builder")},{key:"amount",label:Object(o.__)("Revenue","funnel-builder")}],tooltip:Object(n.createElement)(n.Fragment,null,Object(o.__)("Starting from version 3.6, it is possible to view the revenue breakdown from each sales page.","funnel-builder"),Object(n.createElement)("br",null),Object(n.createElement)("br",null),Object(o.__)("This is especially useful when multiple sales pages exist within a funnel, or an A/B test is running on a sales page.","funnel-builder"),Object(n.createElement)("br",null),Object(n.createElement)("br",null),Object(o.__)("All orders below version 3.6 will be categorized under Others.","funnel-builder"))}):null},S=function(e){var t;switch(e.type){case"sales":case"optin_ty":case"thankyou":case"upsell":case"wc_native":return"-";default:return f.formatAmount(null!==(t=e.revenue)&&void 0!==t?t:0)}},P=function(){if(!v)return[];var e=v.reduce((function(e,t,r){return t.hasOwnProperty("offers")?[].concat(Ie(e),[r]):e}),[]),t=0,r=e.map((function(e){var r=v.slice(t,e+1);t=e+1;var n=r[r.length-1],a=!!n.hasOwnProperty("offers")&&n.offers,o=Object.keys(a).map((function(e){return Le(Le({},a[e]),{},{type:"offer"})}));return a?r.concat(o):r}));return t+1<=v.length&&r.push(v.slice(t,v.length)),r.reduce((function(e,t){return e.concat(t)}),[])}().map((function(e,r){return{content:Object(n.createElement)(n.Fragment,null,Object(n.createElement)(Oe.a,{className:"bwf-analytics__step-content",gap:6},Object(n.createElement)(Oe.c,{className:"bwf-w-1/3"},Object(n.createElement)(Oe.a,{gap:4,justify:"flex-start"},Object(n.createElement)(Oe.c,{className:"bwf-flex bwf--g12"},_(e),Object(u.kb)()&&"wc_native"===e.type&&Object(n.createElement)(Be,null)),Object(n.createElement)(Oe.c,{style:{minWidth:"fit-content"}},e.experiment_status&&Object(n.createElement)(ge.a,{status:e.experiment_status,onClick:function(){return function(e){if(e){j("funnelAnalytics");var r="/funnels/".concat(t,"/experiments/").concat(e);Object(u.kb)()&&(r="/store-checkout/experiments/".concat(e)),Object(De.k)({},r)}}(e.object_id)}})))),Object(n.createElement)(Oe.c,{className:"bwf-w-2/3"},Object(n.createElement)(Oe.a,null,Object(n.createElement)(Oe.c,null,w(e)),(a=e.type,i="sales"===a||"landing"===a||"thankyou"===a||"optin_ty"===a,[{key:"views",label:"bump"===a?Object(o.__)("Orders","funnel-builder"):Object(o.__)("Views","funnel-builder")},{key:"conversions",label:i?Object(o.__)("Clicks","funnel-builder"):Object(o.__)("Conversions","funnel-builder")},{key:"conversion_rate",label:i?Object(o.__)("Click Rate","funnel-builder"):Object(o.__)("Conversion Rate","funnel-builder"),isPercentage:!0}]).map((function(t,r){var a=t.key,o=t.label,i=t.isPercentage,c=t.isCurrency;return Object(n.createElement)(Oe.c,{key:"analytics-item-".concat(r)},function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return!("type"in e)||"upsell"!==e.type&&"wc_native"!==e.type?e[t]&&""!==e[t]&&parseFloat(e[t])?r?f.formatAmount(e[t]):n?"".concat(e[t],"%"):e[t]:n?"0%":"0":"-"}(e,a,c,i),Object(n.createElement)("br",null),Object(n.createElement)("strong",null,o))})),Object(n.createElement)(Oe.c,null,S(e),"checkout"===e.type&&k(e),Object(n.createElement)("br",null),Object(n.createElement)("strong",null,Object(o.__)("Revenue","funnel-builder")))))),Object(u.kb)()&&"wc_native"===e.type&&Object(n.createElement)(qe,null))};var a,i}));return Object(n.createElement)("div",{className:"bwf-analytics_steps-card-wrap bwf-card"},E,Object(n.createElement)(we.a,{data:P,classNames:"bwf-analytics_steps-card",isLoading:h,placeholder:Object(n.createElement)(Ue,null)}))},Ve=r(138),Ke=r(431);function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){We(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=ze(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ze(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $e=function(e){var t=e.funnelId,r=void 0===t?0:t,a=e.metrics,i=e.filter,c=e.compare,l=Object(le.a)().setOverviewData,s=(0,ce().getoverviewData)(r),f=s.isLoading,b=void 0===f||f,d=s.primary,p=void 0===d?{}:d,m=s.secondary,v=void 0===m?{}:m,y=Object(me.b)().isProFeatureLocked,h="none"===c?"previous_period":c,O=Object(n.useRef)(!0),g=Object(u.A)(),j=function(e){return Object(u.n)(Number(p[e]),Number(v[e]))},_=i.period,w=void 0===_?"":_,E=function(e,t){var r,n,a=t?g.formatAmount(null!==(r=v[e])&&void 0!==r?r:0):null!==(n=v[e])&&void 0!==n?n:0;return a+=" - "+Object(u.S)(i,"overall"===w?{}:h,!1,!0,"overall"===w)},k=a.map((function(e){return Ge(Ge({},e),{},{value:(t=e.key,r=e.isCurrency,r?Object(n.createElement)(Ke.a,{amount:p[t]}):null!==(a=p[t])&&void 0!==a?a:0),delta:j(e.key),label:E(e.key,e.isCurrency)});var t,r,a}));return Object(n.useEffect)((function(){O.current&&!b||(y?l(ue,r):(l({isLoading:!0},r),U(i,h,s,(function(e){return l(e,r)}),r))),O.current&&(O.current=!1)}),[r,i,h]),Object(n.createElement)(Ve.a,{items:k,title:Object(o.__)("Overview","funnel-builder"),isLoading:b})},Qe=(r(1190),r(318)),Xe=r(291),Ze=r(21),Je=r(34);function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e){return function(e){if(Array.isArray(e))return ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||it(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(r),!0).forEach((function(t){at(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function at(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=et(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==et(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||it(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){if(e){if("string"==typeof e)return ct(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ct(e,t):void 0}}function ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var lt=function(e){var t,r,i,c,s,f=e.filter,b=Object(me.b)().isProFeatureLocked,d=Object(le.a)().setFunnelRevenueData,p=(0,ce().getFunnelRevenueData)(),m=ot(Object(n.useState)({sale:10,lead:10}),2),v=m[0],y=m[1],h=ot(Object(n.useState)({sale:1,lead:1}),2),O=h[0],g=h[1],j=Object(Ze.a)().getStoreCheckoutId,_=Object(Je.a)().getFirstFunnel,w=j(),E=_(),k=(location&&location.search?Object(a.parse)(location.search.substring(1)):{}).path,S=Object(Te.a)().setPreviousStep,P=Object(n.useRef)(!0),C=ot(Object(n.useState)("sale"),2),D=C[0],T=C[1],N=function(e){e!==v&&y((function(t){return nt(nt({},t),{},at({},D,e))}))},A=Object(u.A)(),x=Object(n.useMemo)((function(){return[{key:"name",label:Object(o.__)("Name","funnel-builder"),required:!0,cellClassName:"bwf-word-break"},{key:"views",label:Object(o.__)("Views","funnel-builder")},{key:"conversions",label:Object(o.__)("Conversions","funnel-builder")}].concat(tt("sale"===D?[{key:"revenue",label:Object(o.__)("Revenue","funnel-builder")}]:[]),[{key:"conversion_rate",label:Object(o.__)("Conversion Rate","funnel-builder")}])}),[D]),F=Object(n.createElement)(n.Fragment,null,Object(o.__)("All Funnels","funnel-builder")),L=Object(n.createElement)("div",{className:"bwf-flex bwf--g24"},null!==(t=p[D])&&void 0!==t&&t.isLoading?Object(n.createElement)(_e.a,{h:20,w:230}):Object(n.createElement)(Xe.a,{options:[{value:"sale",label:Object(o.__)("Sales","funnel-builder")},{value:"lead",label:Object(o.__)("Optin","funnel-builder")}],selected:D,onChange:function(e){var t;T(e),(E||w)&&!b&&Object(l.isEmpty)(null===(t=p[e])||void 0===t?void 0:t.data)&&(d(at({},e,nt(nt({},p[e]),{},{isLoading:!0}))),X({period:f.period,before:f.before,after:f.after},(function(e){return d(e)}),{limit:10,page_no:1,funnel_type:e}))},className:"bwf-dashboard-top-funnel_radio-items"}));Object(n.useEffect)((function(){var e;(!P.current||null!==(e=p[D])&&void 0!==e&&e.isLoading)&&(b?d(fe):E||w?(d(at({},D,nt(nt({},p[D]),{},{isLoading:!0}))),X({period:f.period,before:f.before,after:f.after},(function(e){return d(e)}),{limit:v[D],page_no:O[D],funnel_type:D})):d(nt(nt({},p),{},{sale:nt(nt({},p[D]),{},{isLoading:!1}),lead:nt(nt({},p[D]),{},{isLoading:!1}),isLoading:!1}))),P.current&&(P.current=!1)}),[v,O,f,E,w]);var R=function(e){return b?e.title:Object(n.createElement)(Ae.a,{href:Object(u.H)(e.fid),onClick:function(){null!=k&&k.startsWith("/analytics")&&S("analytics")}},e.title)},I=(null!==(r=null===(i=p[D])||void 0===i?void 0:i.data)&&void 0!==r?r:[]).map((function(e){var t;return[{display:Object(l.isEmpty)(e.title)?Object(o.__)("No name","funnel-builder"):R(e),value:e.title},{display:parseInt(e.views)||"-",value:e.views},{display:parseInt(e.conversion)||"-",value:e.conversion}].concat(tt("sale"===D?[{display:parseFloat(e.total)?Object(n.createElement)(ge.c,{type:"success",content:A.formatAmount(null!==(t=e.total)&&void 0!==t?t:0)}):"-",value:e.total}]:[]),[{display:parseFloat(e.conversion_rate)?e.conversion_rate+"%":"-",value:e.conversion_rate}])}));return Object(n.createElement)(Qe.a,{headers:x,rows:I,title:F,actions:!b&&L,isLoading:null===(c=p[D])||void 0===c?void 0:c.isLoading,rowsPerPage:v[D],totalRows:(null===(s=p[D])||void 0===s?void 0:s.total)||4,onPageChange:function(e,t){g((function(t){return nt(nt({},t),{},at({},D,e))}))},onQueryChange:function(e){return"per_page"!==e?function(){}:N},query:{paged:O[D]},showMenu:!1,className:"bwf-analytics__funnels-table"})},ut=r(346),st=(r(75),r(65),Object(o.__)("No Comparison","funnel-builder"),Object(o.__)("Previous Period","funnel-builder"),Object(o.__)("Previous Year","funnel-builder"),r(1191),r(127));r(407);function ft(e){return function(e){if(Array.isArray(e))return pt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||dt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||dt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){if(e){if("string"==typeof e)return pt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?pt(e,t):void 0}}function pt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchText,r=void 0===t?"":t,a=ce(),i=a.getAnalyticsFunnel,c=a.getFunnelList,u=i(),s=Object(le.a)(),f=s.setAnalyticsFunnel,b=s.fetchFunnels,d=Object(Ze.a)(),p=d.getGlobalCheckout,m=p(),v=Object(n.useState)([]),y=bt(v,2),h=y[0],O=y[1],g=c(),j=g.isLoading;return Object(n.useEffect)((function(){O([].concat(ft(null!=m&&m.funnel_id?[{key:m.funnel_id,label:m.funnel_name+Object(o.__)(" - Store Checkout","funnel-builder")}]:[]),ft(g.data.filter((function(e){return!!Object(l.isEmpty)(r)||(e.title.includes(r)||parseInt(e.id)===parseInt(r))})).map((function(e){return{key:e.id,label:e.title}})))))}),[g.data,r,u.id]),Object(n.useEffect)((function(){return j&&b(),function(){f({id:0,title:Object(o.__)("All Funnels","funnel-builder")})}}),[]),{options:h,isLoading:j}},vt=(r(250),r(434)),yt=r(93),ht=r(92),Ot=r(100),gt=r(384),jt=r(142),_t=r(141),wt=r(619),Et=r(661),kt=r(297);function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(r),!0).forEach((function(t){Dt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Dt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=St(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=St(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==St(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Nt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var At=function(e){var t=e.filter,r=Object(me.b)().isProFeatureLocked,i=Object(le.a)().setUpsellRevenueData,c=(0,ce().getUpsellRevenueData)(),s=c.data,f=c.isLoading,b=c.total,d=void 0===b?0:b,p=Tt(Object(n.useState)(10),2),m=p[0],v=p[1],y=Tt(Object(n.useState)(1),2),h=y[0],O=y[1],g=Object(Je.a)(),j=g.getStatus,_=g.isStatusLoading,w=j(),E=(location&&location.search?Object(a.parse)(location.search.substring(1)):{}).path,k=Object(Te.a)().setPreviousStep,S=Object(n.useRef)(!0),P=Object(u.A)(),C=function(e){e!==m&&v(e)},D=Object(n.useMemo)((function(){return[{key:"name",label:Object(o.__)("Name","funnel-builder"),required:!0,cellClassName:"bwf-word-break bwf-upsell-table__funnel-col"},{key:"type",label:Object(o.__)("Type","funnel-builder")},{key:"funnel",label:Object(o.__)("Funnel Name","funnel-builder"),cellClassName:"bwf-upsell-table__funnel-col"},{key:"views",label:Object(o.__)("Views","funnel-builder")},{key:"conversions",label:Object(o.__)("Conversions","funnel-builder")},{key:"revenue",label:Object(o.__)("Revenue","funnel-builder")},{key:"conversion_rate",label:Object(o.__)("Conversion Rate","funnel-builder")}]}),[]),T=Object(o.__)("Upsells","funnel-builder");Object(n.useEffect)((function(){_||S.current&&!f||(r?i(pe):(i(Ct(Ct({},s),{},{isLoading:!0})),ee({period:t.period,before:t.before,after:t.after},(function(e){return i(e)}),{limit:m,page_no:h}))),S.current&&(S.current=!1)}),[m,h,t,_]);var N=function(e){return r?e.title:Object(n.createElement)("a",{onClick:function(){null!=E&&E.startsWith("/analytics")&&k("analytics"),"cart_upsells"!==e.type?Object(De.k)({},Object(u.ab)(e.fid,e.type,!1,e.id,!1)):window.location.href="post.php?post=".concat(e.id,"&action=edit")}},e.title)},A=function(e){return r?Object(n.createElement)(ge.c,{type:"success",content:P.formatAmount(e.revenue)}):0===parseInt(e.conversion)?"-":Object(n.createElement)(wt.a,{id:e.id,type:e.type,amount:e.revenue})},x=function(e){return Object(l.isEmpty)(e.funnel_name)?"-":r?e.funnel_name:Object(n.createElement)(Ae.a,{href:Object(u.L)("/funnels/".concat(e.fid)),onClick:function(){null!=E&&E.startsWith("/analytics")&&k("analytics")}},e.funnel_name)},F=s.map((function(e){return[{display:Object(l.isEmpty)(e.title)?Object(o.__)("No name","funnel-builder"):N(e),value:e.title},{display:Object(u.sb)(e.type,!1),value:e.type},{display:x(e),value:e.funnel_name},{display:parseInt(e.views)||"-",value:e.views},{display:parseInt(e.conversion)||"-",value:e.conversion},{display:A(e),value:e.total},{display:parseFloat(e.conversion_rate)?e.conversion_rate+"%":"-",value:e.conversion_rate}]})),L=Object(n.createElement)("div",{className:"bwf-card-header"},Object(n.createElement)("div",{className:"bwf-card-title-wrapper"},Object(n.createElement)("h2",{className:"bwf-card-title bwf-card-header-item"},T)));return r||_||null!=w&&w.is_orderbump||null!=w&&w.is_upsells||!Object(l.isEmpty)(s)?Object(n.createElement)(Qe.a,{headers:D,rows:F,title:T,isLoading:f,rowsPerPage:m,totalRows:d,onPageChange:function(e,t){O(e)},onQueryChange:function(e){return"per_page"!==e?function(){}:C},query:{paged:h},showMenu:!1,className:"bwf-analytics__funnels-table",id:"upsells"}):Object(n.createElement)("div",{className:"bwf-card bwf-table bwf-analytics__funnels-table"},L,Object(n.createElement)(kt.a,{data:Object(Et.b)()}))},xt=r(152);function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,u=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Rt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Rt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function It(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?It(Object(r),!0).forEach((function(t){Bt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):It(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Bt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=Ft(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=Ft(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ft(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qt={period:"last_30_days"},Ut=function(e){return[{key:"unique_visits",title:Object(o.__)("Visitors","funnel-builder"),icon:"visitors"},{key:"contacts",title:Object(o.__)("Contacts","funnel-builder"),icon:"contact-tile"},Mt({key:"total_orders",title:Object(o.__)("Orders","funnel-builder"),icon:"product"},e&&{index:1}),Mt({key:"total_revenue",title:Object(o.__)("Revenue","funnel-builder"),icon:"revenue",isCurrency:!0},e&&{index:2}),{key:"bump_revenue",title:Object(o.__)("Order Bumps Revenue","funnel-builder"),icon:"order-bump",isCurrency:!0},{key:"upsell_revenue",title:Object(o.__)("One Click Upsells Revenue","funnel-builder"),icon:"upsells",isCurrency:!0},{key:"average_order_value",title:Object(o.__)("Average Order Value","funnel-builder"),icon:"order-revenue",isCurrency:!0},{key:"revenue_per_visit",title:Object(o.__)("Revenue Per Visit","funnel-builder"),icon:"revenue-user",isCurrency:!0}].sort((function(e,t){var r,n;return(null!==(r=t.index)&&void 0!==r?r:0)-(null!==(n=e.index)&&void 0!==n?n:0)}))};t.default=function(e){var t,r,s,f,b,d=location&&location.search?Object(a.parse)(location.search.substring(1)):{},p=Object(i.useParams)().id,m=e.funnelId,v=void 0===m?p:m,y=Lt(Object(n.useState)(Object(l.random)(0,50)),2),h=y[0],O=y[1],g=Object(yt.a)(),_=g.setOrderLoading,E=g.setOrdersFirstTimeLoading,k=Object(ht.a)(),S=k.setLeadLoading,P=k.setLeadsFirstTimeLoading,D=Object(Ot.a)().setReferrerLoading,T=Object(xt.a)().setUtmsLoading,N=(0,ce().getAnalyticsFunnel)(),A=Object(le.a)(),x=A.resetAnalyticsData,F=A.setAnalyticsFunnel,L=Object(jt.a)().getFilters,R=Object(_t.a)().setFilters,I=Object(je.a)().resetFunnel,M=L(v?"funnel_analytics":"analytics",v),B=Lt(Object(n.useState)(null!==(t=null==M||null===(r=M.find((function(e){return"period"===e.filter})))||void 0===r?void 0:r.data)&&void 0!==t?t:{period:"overall",after:"",before:""}),2),q=B[0],U=B[1],Y=Lt(Object(n.useState)(null!==(s=null==M||null===(f=M.find((function(e){return"compare"===e.filter})))||void 0===f?void 0:f.data)&&void 0!==s?s:"none"),2),V=Y[0],K=Y[1],z=Object(me.b)(),H=z.isProFeatureLocked,G=z.isLite,W=mt(),$=W.options,Q=W.isLoading,X=d.path.startsWith("/analytics")?null!==(b=N.id)&&void 0!==b?b:0:v,Z=Object(n.useMemo)((function(){return function(e,t,r){return[{type:"sticky",rules:[].concat(C(t?[]:[{slug:"funnels",title:Object(o.__)("Funnel","funnel-builder"),type:"search-select",options:r,op_label:Object(o.__)("Funnel","funnel-builder"),required:["data"],readable_text:"{{rule /}} - {{value /}}"}]),[{slug:"period",title:Object(o.__)("Time Period","funnel-builder"),type:"date-range",op_label:Object(o.__)("Time Period","funnel-builder"),required:["rule","data"],readable_text:"{{value /}}",returnPeriod:!0}],C("overall"!==e.period?[{type:"select",slug:"compare",title:Object(o.__)("Compare","funnel-builder"),required:["data"],readable_text:"{{value /}}",options:{previous_period:Object(o.__)("Previous period","funnel-builder"),previous_year:Object(o.__)("Previous year","funnel-builder")}}]:[]))}]}(q,v,$)}),[q,v,$]);return Object(n.createElement)(c.a,{className:"bwf-analytics__wrap",key:h},!G&&H&&Object(n.createElement)(st.b,{onPage:!0,modalContent:{proLink:Object(u.U)(["Analytics","Upgrade","Modal"])}}),Object(n.createElement)(ut.a,null),Object(n.createElement)("div",{className:w()("bwf-analytics-filters",{"has-notice":G})},G&&Object(n.createElement)(vt.a,{title:Object(o.__)("Funnel Analytics","funnel-builder"),proLink:Object(u.U)(["Analytics","Upgrade","Notice"]),message:v?Object(o.__)("Use our sample data to explore Funnel Analytics. See how it summarises metrics across funnel and provides Step level performance.","funnel-builder"):Object(o.__)("Use our sample data to explore Funnel Analytics. See how it summarises metrics across multiple funnels.","funnel-builder")}),Object(n.createElement)("div",{className:"bwf-flex bwf--g12"},Object(n.createElement)(gt.a,{filterList:null!=Z?Z:[],isLoading:Q,filterData:M,propsToPass:{searchHelper:v?{funnelId:v}:{}},setFilterData:function(e){R(v?"funnel_analytics":"analytics",e,v),function(e){var t=e.find((function(e){return"period"===e.filter}));if(t||(e=e.filter((function(e){return"compare"!==e.filter}))),!H){t?U(t.data):(U({period:"overall",after:"",before:""}),K("none"));var r=e.find((function(e){return"funnels"===e.filter}));F(r?{title:r.data.label,id:r.data.key}:{id:0,title:Object(o.__)("All Funnels","funnel-builder")});var n=e.find((function(e){return"compare"===e.filter}));n?K(n.data):V&&K("none")}}(e)},isLocked:!1}),"overall"!==q.period&&Object(n.createElement)("div",{className:"bwf-analytics__date-filter-text bwf-no-wrap"},Object(u.D)(q)," ","none"!==V&&Object(n.createElement)(n.Fragment,null,Object(o.__)("v/s","funnel-builder")," ",Object(u.S)(q,V,!1,!1)),"none"!==V&&Object(n.createElement)(n.Fragment,null,Object(n.createElement)("br",null),Object(n.createElement)("span",null,Object(o.sprintf)(Object(o.__)("Compared to %s","funnel-builder"),u.ob[V]))))),!H&&v&&Object(n.createElement)(j,{funnelId:v,onComplete:function(){x(v),I(),_(!0),S(!0),E(null),P(null),D(!0),T(!0),O(Object(l.random)(10,50))}})),Object(n.createElement)($e,{query:d,metrics:Ut(),funnelId:X,filter:q,compare:V}),Object(n.createElement)(he,{query:d,metrics:Ut(!0),funnelId:X,filter:"overall"===q.period?qt:q,compare:V}),X?Object(n.createElement)(Ye,{query:d,funnelId:X,isGlobal:d.path.startsWith("/analytics"),filter:q,globalFunnelTitle:N.title}):Object(n.createElement)(n.Fragment,null,Object(n.createElement)(lt,{filter:q}),Object(n.createElement)(At,{filter:q})))}}}]);