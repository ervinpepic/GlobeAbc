(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1140:function(e,t,n){},1171:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(119),c=n(1),l=n(28),s=n(4),i=n(148),b=n(20),o=function(){var e=Object(b.a)().isProFeatureLocked,t=[{key:"funnels",href:Object(s.M)({},"/analytics/funnels",{}),label:Object(c.__)("Funnels","funnel-builder"),isProTab:e},{key:"orders",href:Object(s.M)({},"/analytics/orders",{}),label:Object(c.__)("Conversions","funnel-builder")},{key:"referrers",href:Object(s.M)({},"/analytics/referrers",{}),label:Object(c.__)("Referrers","funnel-builder"),isProTab:e},{key:"utm-campaigns",href:Object(s.M)({},"/analytics/utm-campaigns",{}),label:Object(c.__)("UTM Campaigns","funnel-builder"),isProTab:e}],n=location&&location.search?Object(l.parse)(location.search.substring(1)):{},r=n.path.split("/")&&n.path.split("/").length>=3?n.path.split("/")[2].toLowerCase():"funnels";return Object(a.createElement)(i.a,{selected:"experiments"===r?"steps":"contacts"===r?"orders":r,SidebarItems:t,title:Object(c.__)("Analytics","funnel-builder")})},u=n(61),d=n(14),O=n(110),f=n(137),j=n(26),m=n(2),p=n(95),y=n(94),v=n(97),E=n(87),g=n(86),h=n(41),w=n(90),_=n(128),L=["edit"];function N(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var P=function(e,t,n){return decodeURIComponent(Object(d.f)(e,t,n))},k=function(){var e=Object(b.a)().isProFeatureLocked,t=Object(d.i)(),n=(t.edit,N(t,L)),l=Object(u.a)(),i=l.resetHeaderMenu,o=(l.setPageHeader,l.setStepHeader),k=l.setL2NavType,x=l.setIsStepNavActive,C=l.setL2Nav,T=l.setActiveMultiple,R=l.setPageBackLink,F=Object(h.a)().getPreviousStep,M=Object(E.a)(),z=M.setOrderLoading,S=M.setOrders,A=Object(g.a)(),I=A.setLeadLoading,U=A.setLeads,H=Object(v.a)(),B=H.getTotalContacts,D=H.getMessage,J=Object(w.a)().setReferrerLoading,K=Object(_.a)().resetAnalyticsData,q=Object(f.a)().getContact,G=Object(p.a)().getTotalOrders,Q=Object(y.a)().getTotalLeads,V=B(),W=G(),X=Q(),Y=(D(),F()),Z=q(),$=(null!=Z?Z:{}).user_info,ee=void 0===$?{}:$,te=(null==ee?void 0:ee.first_name)&&"".concat(null==ee?void 0:ee.first_name," ").concat(null==ee?void 0:ee.last_name),ne=Object(r.useParams)(),ae=ne.tab,re=void 0===ae?"funnels":ae,ce=ne.tab2,le=function(e,t){var n=Object(m.isEmpty)(ce)?"orders":ce;return Object(a.createElement)(a.Fragment,null,Object(a.createElement)("div",{className:"bwf-flex bwf--g8"},Object(a.createElement)("span",null,Object(m.capitalize)(e)),t>0?Object(a.createElement)(j.c,{content:t,type:e===n?"secondary":"tertiary"}):null))},se={orders:{name:le(Object(c.__)("orders","funnel-builder"),W),link:P({},"/analytics/orders",n),count:W},optins:{name:le(Object(c.__)("optins","funnel-builder"),X),link:P({},"/analytics/orders/optins",n),count:X}},ie=function(e,t){return Object(a.createElement)(O.a,{modalTitle:e,isBack:t,disabled:["publish","edit","preview","stepType","draftContainer","abContainer","draft","action"]})};Object(a.useEffect)((function(){return function(){z(!0),S([],1,25),I(!0),U([],1,25),J(!0),K()}}),[]),Object(a.useEffect)((function(){i(),x(!0),T({leftNav:"analytics",rightNav:ce}),"overview"===re?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Overview","funnel-builder"))):"funnels"===re?o(Object(a.createElement)("div",{className:"bwf-flex bwf--space-between bwf-mb-16"},Object(a.createElement)("div",{className:"bwf-header-title"},Object(c.__)("Funnels","funnel-builder"),e&&Object(a.createElement)(j.b,null)))):"conversion-tracking"===re?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Conversion Tracking","funnel-builder"))):"referrers"===re?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Referrers","funnel-builder"),e&&Object(a.createElement)(j.b,null))):"utm-campaigns"===re?o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("UTM Campaigns","funnel-builder"),e&&Object(a.createElement)(j.b,null))):"contacts"===re?void 0!==ce&&("orders"===Y&&z(!1),"leads"===Y&&I(!1),R(Object(s.M)({},"".concat("orders"===Y?"/analytics/orders":"leads"===Y?"/analytics/orders/optins":"/analytics/orders"))),o(ie("Details",!0))):"contact-export"===re?(R(Object(s.M)({},"/analytics/contacts")),o(ie("Export Contacts"))):"orders"===re&&(o(Object(a.createElement)("div",{className:"bwf-header-title bwf-mb-16"},Object(c.__)("Conversions","funnel-builder"))),T({leftNav:"analytics",rightNav:!isNaN(W)&&!isNaN(X)&&(ce?"optins":"orders")}),C(se),k("menu"))}),[re,ce,te,W,X,V,Y])},x=(n(1140),n(153)),C=n(157),T=n(37),R=n(247),F=n(901),M=n(141),z=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(0),n.e(6),n.e(14),n.e(25)]).then(n.bind(null,1157))})),S=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(8),n.e(0),n.e(27)]).then(n.bind(null,903))})),A=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(28)]).then(n.bind(null,793))})),I=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(0),n.e(6),n.e(35)]).then(n.bind(null,796))})),U=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(4),n.e(0),n.e(31)]).then(n.bind(null,1167))})),H=Object(a.lazy)((function(){return Promise.all([n.e(1),n.e(3),n.e(4),n.e(0),n.e(31)]).then(n.bind(null,1170))})),B=Object(a.lazy)((function(){return Promise.all([n.e(3),n.e(4),n.e(0),n.e(6),n.e(44)]).then(n.bind(null,794))}));t.default=function(){Object(s.l)(Object(c.__)("Analytics","funnel-builder")),k();var e=Object(C.a)(),t=e.setContacts,n=e.setContactLoading,l=e.setContactsFiltersList,i=Object(g.a)(),b=i.setLeadLoading,u=i.setLeadsFiltersList,d=i.setLeadsFirstTimeLoading,O=Object(E.a)(),f=O.setOrderLoading,j=O.setOrdersFiltersList,m=O.setOrdersFirstTimeLoading,p=Object(w.a)().setReferrerLoading,y=Object(M.a)().setUtmsLoading;Object(a.useEffect)((function(){return function(){n(!0),t([],1,25),f(!0),b(!0),p(!0),y(!0),l([]),u([]),j([]),m(null),d(null)}}),[]);var v=Object(F.useParams)(),h=v.tab2,_=v.tab,L=void 0===_?"funnel":_;return Object(a.createElement)("div",{className:"bwf-analytics-wrap"},Object(a.createElement)(o,null),Object(a.createElement)("div",null,Object(a.createElement)(x.a,{isLoading:!1}),Object(a.createElement)(a.Suspense,{fallback:Object(a.createElement)(a.Fragment,null)},Object(a.createElement)(R.a,null,Object(a.createElement)(T.a,{pageKey:null!=h?h:L},(function(e){var t=e.ref;return Object(a.createElement)("div",{ref:t},Object(a.createElement)(r.Switch,null,Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/contacts","/analytics/contact-export","/analytics/contacts/all","/analytics/contacts/customers","/analytics/contacts/leads","/analytics/contacts/:id"],render:function(e){return Object(a.createElement)(z,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/orders"],render:function(e){return Object(a.createElement)(U,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/orders/:ordersType"],render:function(e){return Object(a.createElement)(H,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics","/analytics/funnels"],render:function(e){return Object(a.createElement)(S,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/conversion-tracking"],render:function(e){return Object(a.createElement)(A,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/referrers"],render:function(e){return Object(a.createElement)(I,e)}}),Object(a.createElement)(r.Route,{exact:!0,path:["/analytics/utm-campaigns"],render:function(e){return Object(a.createElement)(B,e)}}),s.r))}))))))}}}]);